@%:@! /bin/sh
@%:@ From configure.ac Autotools support for ABINIT 7.
@%:@ Guess values for system-dependent variables and create Makefiles.
@%:@ Generated by GNU Autoconf 2.69 for ABINIT 8.10.2.
@%:@
@%:@ Report bugs to <https://bugs.launchpad.net/abinit/>.
@%:@ 
@%:@ 
@%:@ Copyright (C) 1992-1996, 1998-2012 Free Software Foundation, Inc.
@%:@ 
@%:@ 
@%:@ This configure script is free software; the Free Software Foundation
@%:@ gives unlimited permission to copy, distribute and modify it.
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in @%:@(
  *posix*) :
    set -o posix ;; @%:@(
  *) :
     ;;
esac
fi


as_nl='
'
export as_nl
# Printing a long string crashes Solaris 7 /usr/bin/printf.
as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
# Prefer a ksh shell builtin over an external printf program on Solaris,
# but without wasting forks for bash or zsh.
if test -z "$BASH_VERSION$ZSH_VERSION" \
    && (test "X`print -r -- $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='print -r --'
  as_echo_n='print -rn --'
elif (test "X`printf %s $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='printf %s\n'
  as_echo_n='printf %s'
else
  if test "X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`" = "X-n $as_echo"; then
    as_echo_body='eval /usr/ucb/echo -n "$1$as_nl"'
    as_echo_n='/usr/ucb/echo -n'
  else
    as_echo_body='eval expr "X$1" : "X\\(.*\\)"'
    as_echo_n_body='eval
      arg=$1;
      case $arg in @%:@(
      *"$as_nl"*)
	expr "X$arg" : "X\\(.*\\)$as_nl";
	arg=`expr "X$arg" : ".*$as_nl\\(.*\\)"`;;
      esac;
      expr "X$arg" : "X\\(.*\\)" | tr -d "$as_nl"
    '
    export as_echo_n_body
    as_echo_n='sh -c $as_echo_n_body as_echo'
  fi
  export as_echo_body
  as_echo='sh -c $as_echo_body as_echo'
fi

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# IFS
# We need space, tab and new line, in precisely that order.  Quoting is
# there to prevent editors from complaining about space-tab.
# (If _AS_PATH_WALK were called with IFS unset, it would disable word
# splitting by setting IFS to empty value.)
IFS=" ""	$as_nl"

# Find who we are.  Look in the path if we contain no directory separator.
as_myself=
case $0 in @%:@((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  $as_echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi

# Unset variables that we do not need and which cause bugs (e.g. in
# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the "|| exit 1"
# suppresses any "Segmentation fault" message there.  '((' could
# trigger a bug in pdksh 5.2.14.
for as_var in BASH_ENV ENV MAIL MAILPATH
do eval test x\${$as_var+set} = xset \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# CDPATH.
(unset CDPATH) >/dev/null 2>&1 && unset CDPATH

# Use a proper internal environment variable to ensure we don't fall
  # into an infinite loop, continuously re-executing ourselves.
  if test x"${_as_can_reexec}" != xno && test "x$CONFIG_SHELL" != x; then
    _as_can_reexec=no; export _as_can_reexec;
    # We cannot yet assume a decent shell, so we have to provide a
# neutralization value for shells without unset; and this also
# works around shells that cannot unset nonexistent variables.
# Preserve -v and -x to the replacement shell.
BASH_ENV=/dev/null
ENV=/dev/null
(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
case $- in @%:@ ((((
  *v*x* | *x*v* ) as_opts=-vx ;;
  *v* ) as_opts=-v ;;
  *x* ) as_opts=-x ;;
  * ) as_opts= ;;
esac
exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
# Admittedly, this is quite paranoid, since all the known shells bail
# out after a failed `exec'.
$as_echo "$0: could not re-execute with $CONFIG_SHELL" >&2
as_fn_exit 255
  fi
  # We don't want this to propagate to other subprocesses.
          { _as_can_reexec=; unset _as_can_reexec;}
if test "x$CONFIG_SHELL" = x; then
  as_bourne_compatible="if test -n \"\${ZSH_VERSION+set}\" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on \${1+\"\$@\"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '\${1+\"\$@\"}'='\"\$@\"'
  setopt NO_GLOB_SUBST
else
  case \`(set -o) 2>/dev/null\` in @%:@(
  *posix*) :
    set -o posix ;; @%:@(
  *) :
     ;;
esac
fi
"
  as_required="as_fn_return () { (exit \$1); }
as_fn_success () { as_fn_return 0; }
as_fn_failure () { as_fn_return 1; }
as_fn_ret_success () { return 0; }
as_fn_ret_failure () { return 1; }

exitcode=0
as_fn_success || { exitcode=1; echo as_fn_success failed.; }
as_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }
as_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }
as_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }
if ( set x; as_fn_ret_success y && test x = \"\$1\" ); then :
  
else
  exitcode=1; echo positional parameters were not saved.
fi
test x\$exitcode = x0 || exit 1
test -x / || exit 1"
  as_suggested="  as_lineno_1=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_1a=\$LINENO
  as_lineno_2=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_2a=\$LINENO
  eval 'test \"x\$as_lineno_1'\$as_run'\" != \"x\$as_lineno_2'\$as_run'\" &&
  test \"x\`expr \$as_lineno_1'\$as_run' + 1\`\" = \"x\$as_lineno_2'\$as_run'\"' || exit 1
test \$(( 1 + 1 )) = 2 || exit 1"
  if (eval "$as_required") 2>/dev/null; then :
  as_have_required=yes
else
  as_have_required=no
fi
  if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null; then :
  
else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
as_found=false
for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  as_found=:
  case $as_dir in @%:@(
	 /*)
	   for as_base in sh bash ksh sh5; do
	     # Try only shells that exist, to save several forks.
	     as_shell=$as_dir/$as_base
	     if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
		    { $as_echo "$as_bourne_compatible""$as_required" | as_run=a "$as_shell"; } 2>/dev/null; then :
  CONFIG_SHELL=$as_shell as_have_required=yes
		   if { $as_echo "$as_bourne_compatible""$as_suggested" | as_run=a "$as_shell"; } 2>/dev/null; then :
  break 2
fi
fi
	   done;;
       esac
  as_found=false
done
$as_found || { if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
	      { $as_echo "$as_bourne_compatible""$as_required" | as_run=a "$SHELL"; } 2>/dev/null; then :
  CONFIG_SHELL=$SHELL as_have_required=yes
fi; }
IFS=$as_save_IFS


      if test "x$CONFIG_SHELL" != x; then :
  export CONFIG_SHELL
             # We cannot yet assume a decent shell, so we have to provide a
# neutralization value for shells without unset; and this also
# works around shells that cannot unset nonexistent variables.
# Preserve -v and -x to the replacement shell.
BASH_ENV=/dev/null
ENV=/dev/null
(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
case $- in @%:@ ((((
  *v*x* | *x*v* ) as_opts=-vx ;;
  *v* ) as_opts=-v ;;
  *x* ) as_opts=-x ;;
  * ) as_opts= ;;
esac
exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
# Admittedly, this is quite paranoid, since all the known shells bail
# out after a failed `exec'.
$as_echo "$0: could not re-execute with $CONFIG_SHELL" >&2
exit 255
fi

    if test x$as_have_required = xno; then :
  $as_echo "$0: This script requires a shell more modern than all"
  $as_echo "$0: the shells that I found on your system."
  if test x${ZSH_VERSION+set} = xset ; then
    $as_echo "$0: In particular, zsh $ZSH_VERSION has bugs and should"
    $as_echo "$0: be upgraded to zsh 4.3.4 or later."
  else
    $as_echo "$0: Please tell bug-autoconf@gnu.org and
$0: https://bugs.launchpad.net/abinit/ about your system,
$0: including any error possibly output before this
$0: message. Then install a modern shell, or manually run
$0: the script under such a shell if you do have one."
  fi
  exit 1
fi
fi
fi
SHELL=${CONFIG_SHELL-/bin/sh}
export SHELL
# Unset more variables known to interfere with behavior of common tools.
CLICOLOR_FORCE= GREP_OPTIONS=
unset CLICOLOR_FORCE GREP_OPTIONS

## --------------------- ##
## M4sh Shell Functions. ##
## --------------------- ##
@%:@ as_fn_unset VAR
@%:@ ---------------
@%:@ Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset

@%:@ as_fn_set_status STATUS
@%:@ -----------------------
@%:@ Set @S|@? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} @%:@ as_fn_set_status

@%:@ as_fn_exit STATUS
@%:@ -----------------
@%:@ Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} @%:@ as_fn_exit

@%:@ as_fn_mkdir_p
@%:@ -------------
@%:@ Create "@S|@as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`$as_echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"


} @%:@ as_fn_mkdir_p

@%:@ as_fn_executable_p FILE
@%:@ -----------------------
@%:@ Test if FILE is an executable regular file.
as_fn_executable_p ()
{
  test -f "$1" && test -x "$1"
} @%:@ as_fn_executable_p
@%:@ as_fn_append VAR VALUE
@%:@ ----------------------
@%:@ Append the text in VALUE to the end of the definition contained in VAR. Take
@%:@ advantage of any shell optimizations that allow amortized linear growth over
@%:@ repeated appends, instead of the typical quadratic growth present in naive
@%:@ implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null; then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

@%:@ as_fn_arith ARG...
@%:@ ------------------
@%:@ Perform arithmetic evaluation on the ARGs, and store the result in the
@%:@ global @S|@as_val. Take advantage of shells that can avoid forks. The arguments
@%:@ must be portable across @S|@(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null; then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else
  as_fn_arith ()
  {
    as_val=`expr "$@" || test $? -eq 1`
  }
fi # as_fn_arith


@%:@ as_fn_error STATUS ERROR [LINENO LOG_FD]
@%:@ ----------------------------------------
@%:@ Output "`basename @S|@0`: error: ERROR" to stderr. If LINENO and LOG_FD are
@%:@ provided, also output the error to LOG_FD, referencing LINENO. Then exit the
@%:@ script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  $as_echo "$as_me: error: $2" >&2
  as_fn_exit $as_status
} @%:@ as_fn_error

if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits


  as_lineno_1=$LINENO as_lineno_1a=$LINENO
  as_lineno_2=$LINENO as_lineno_2a=$LINENO
  eval 'test "x$as_lineno_1'$as_run'" != "x$as_lineno_2'$as_run'" &&
  test "x`expr $as_lineno_1'$as_run' + 1`" = "x$as_lineno_2'$as_run'"' || {
  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)
  sed -n '
    p
    /[$]LINENO/=
  ' <$as_myself |
    sed '
      s/[$]LINENO.*/&-/
      t lineno
      b
      :lineno
      N
      :loop
      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
      t loop
      s/-\n.*//
    ' >$as_me.lineno &&
  chmod +x "$as_me.lineno" ||
    { $as_echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2; as_fn_exit 1; }

  # If we had to re-execute with $CONFIG_SHELL, we're ensured to have
  # already done that, so ensure we don't try to do so again and fall
  # in an infinite loop.  This has already happened in practice.
  _as_can_reexec=no; export _as_can_reexec
  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensitive to this).
  . "./$as_me.lineno"
  # Exit status is that of the last command.
  exit
}

ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in @%:@(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
    as_ln_s='ln -s'
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -pR'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -pR'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -pR'
  fi
else
  as_ln_s='cp -pR'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null

if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi

as_test_x='test -x'
as_executable_p=as_fn_executable_p

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


test -n "$DJDIR" || exec 7<&0 </dev/null
exec 6>&1

# Name of the host.
# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
# so uname gets run too.
ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`

#
# Initializations.
#
ac_default_prefix=/usr/local
ac_clean_files=
ac_config_libobj_dir=.
LIB@&t@OBJS=
cross_compiling=no
subdirs=
MFLAGS=
MAKEFLAGS=

# Identity of this package.
PACKAGE_NAME='ABINIT'
PACKAGE_TARNAME='abinit'
PACKAGE_VERSION='8.10.2'
PACKAGE_STRING='ABINIT 8.10.2'
PACKAGE_BUGREPORT='https://bugs.launchpad.net/abinit/'
PACKAGE_URL=''

ac_unique_file="src/98_main/abinit.F90"
# Factoring default headers for most tests.
ac_includes_default="\
#include <stdio.h>
#ifdef HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
#ifdef HAVE_SYS_STAT_H
# include <sys/stat.h>
#endif
#ifdef STDC_HEADERS
# include <stdlib.h>
# include <stddef.h>
#else
# ifdef HAVE_STDLIB_H
#  include <stdlib.h>
# endif
#endif
#ifdef HAVE_STRING_H
# if !defined STDC_HEADERS && defined HAVE_MEMORY_H
#  include <memory.h>
# endif
# include <string.h>
#endif
#ifdef HAVE_STRINGS_H
# include <strings.h>
#endif
#ifdef HAVE_INTTYPES_H
# include <inttypes.h>
#endif
#ifdef HAVE_STDINT_H
# include <stdint.h>
#endif
#ifdef HAVE_UNISTD_H
# include <unistd.h>
#endif"

enable_option_checking=no
ac_subst_vars='am__EXEEXT_FALSE
am__EXEEXT_TRUE
LTLIBOBJS
LIB@&t@OBJS
run_w90chk2chk_x
run_postw90_x
run_wannier90_x
run_ncgen3
run_ncgen
run_ncdump
run_nccopy
run_nc_config
run_etsf_io
run_graphatom
run_atompaw
subdirs
DO_BUILD_MACROAVE_FALSE
DO_BUILD_MACROAVE_TRUE
DO_BUILD_01_MACROAVNEW_EXT_FALSE
DO_BUILD_01_MACROAVNEW_EXT_TRUE
DO_BUILD_68_LOTF_FALSE
DO_BUILD_68_LOTF_TRUE
DO_BUILD_65_LOTF_BASE_FALSE
DO_BUILD_65_LOTF_BASE_TRUE
DO_BUILD_EXPORTS_FALSE
DO_BUILD_EXPORTS_TRUE
FFLAGS
F77
FC_NOWRAP
abi_extra_incs
lib_triqs_ldflags
lib_triqs_fcflags
lib_triqs_libs
lib_triqs_incs
DO_BUILD_67_TRIQS_EXT_FALSE
DO_BUILD_67_TRIQS_EXT_TRUE
DO_BUILD_01_GSL_EXT_FALSE
DO_BUILD_01_GSL_EXT_TRUE
lib_wannier90_libs
lib_wannier90_ldflags
lib_wannier90_incs
lib_wannier90_fcflags
lib_wannier90_bins
lib_libxc_libs
lib_libxc_ldflags
lib_libxc_incs
lib_libxc_fcflags
lib_bigdft_libs
lib_bigdft_ldflags
lib_bigdft_incs
lib_bigdft_fcflags
lib_atompaw_libs
lib_atompaw_ldflags
lib_atompaw_incs
lib_atompaw_fcflags
lib_atompaw_bins
lib_dft_flavor
W90CHK2CHK_X_BIN
WANNIER90_X_BIN
GRAPHATOM_BIN
ATOMPAW_BIN
lib_math_libs
lib_math_incs
lib_math_ldflags
lib_math_fcflags
lib_math_flavor
GSL_CONFIG
lib_algo_libs
lib_algo_incs
lib_algo_ldflags
lib_algo_fcflags
lib_algo_flavor
lib_timer_libs
lib_timer_incs
lib_timer_ldflags
lib_timer_fcflags
lib_timer_flavor
DO_BUILD_PSML_FALSE
DO_BUILD_PSML_TRUE
lib_yaml_libs
lib_yaml_ldflags
lib_yaml_incs
lib_yaml_fcflags
lib_netcdf_libs
lib_netcdf_ldflags
lib_netcdf_incs
lib_netcdf_fcflags
lib_psml_libs
lib_psml_ldflags
lib_psml_incs
lib_psml_fcflags
lib_etsf_io_libs
lib_etsf_io_ldflags
lib_etsf_io_incs
lib_etsf_io_fcflags
lib_trio_flavor
fc_mod_incs
lib_fft_libs
lib_fft_incs
lib_fft_ldflags
lib_fft_fcflags
lib_fft_flavor
lib_linalg_libs
lib_linalg_incs
lib_linalg_ldflags
lib_linalg_fcflags
lib_linalg_flavor
fallbacks_incs
fallbacks_instdir
abinit_tardir
DO_BUILD_52_MANAGE_CUDA_FALSE
DO_BUILD_52_MANAGE_CUDA_TRUE
DO_BUILD_15_GPU_TOOLBOX_FALSE
DO_BUILD_15_GPU_TOOLBOX_TRUE
DO_TEST_MPI_FALSE
DO_TEST_MPI_TRUE
fc_timing
DO_BUILD_CCLOCK_FALSE
DO_BUILD_CCLOCK_TRUE
ABINIT_BINARY_PACKAGE
ABINIT_TARGET
fcflags_opt_98_main
fcflags_opt_95_drive
fcflags_opt_94_scfcv
fcflags_opt_84_fold2Bloch
fcflags_opt_83_cut3d
fcflags_opt_80_tdep
fcflags_opt_79_seqpar_mpi
fcflags_opt_78_eph
fcflags_opt_78_effpot
fcflags_opt_77_suscep
fcflags_opt_77_ddb
fcflags_opt_72_response
fcflags_opt_71_wannier
fcflags_opt_71_bse
fcflags_opt_70_gw
fcflags_opt_69_wfdesc
fcflags_opt_68_rsprc
fcflags_opt_68_recursion
fcflags_opt_68_lotf
fcflags_opt_68_dmft
fcflags_opt_67_triqs_ext
fcflags_opt_67_common
fcflags_opt_66_wfs
fcflags_opt_66_vdwxc
fcflags_opt_66_nonlocal
fcflags_opt_65_paw
fcflags_opt_65_lotf_base
fcflags_opt_64_psp
fcflags_opt_63_bader
fcflags_opt_62_wvl_wfs
fcflags_opt_62_poisson
fcflags_opt_62_iowfdenpot
fcflags_opt_62_ctqmc
fcflags_opt_62_cg_noabirule
fcflags_opt_61_occeig
fcflags_opt_59_ionetcdf
fcflags_opt_57_iovars
fcflags_opt_57_iopsp_parser
fcflags_opt_56_xc
fcflags_opt_56_recipspace
fcflags_opt_56_mixing
fcflags_opt_56_io_mpi
fcflags_opt_55_abiutil
fcflags_opt_54_spacepar
fcflags_opt_53_ffts
fcflags_opt_52_manage_cuda
fcflags_opt_52_fft_mpi_noabirule
fcflags_opt_51_manage_mpi
fcflags_opt_49_gw_toolbox_oop
fcflags_opt_46_diago
fcflags_opt_45_xgTools
fcflags_opt_45_geomoptim
fcflags_opt_44_abitypes_defs
fcflags_opt_44_abitools
fcflags_opt_43_wvl_wrappers
fcflags_opt_43_ptgroups
fcflags_opt_42_parser
fcflags_opt_42_nlstrain
fcflags_opt_42_libpaw
fcflags_opt_41_xc_lowlevel
fcflags_opt_41_geometry
fcflags_opt_32_util
fcflags_opt_29_kpoints
fcflags_opt_28_numeric_noabirule
fcflags_opt_27_toolbox_oop
fcflags_opt_21_hashfuncs
fcflags_opt_18_timing
fcflags_opt_17_libtetra_ext
fcflags_opt_16_hideleave
fcflags_opt_15_gpu_toolbox
fcflags_opt_14_hidewrite
fcflags_opt_12_hide_mpi
fcflags_opt_11_memory_mpi
fcflags_opt_10_dumpinfo
fcflags_opt_10_defs
fcflags_opt_02_clib
fcflags_opt_01_gsl_ext
fcflags_opt_yaml
fcflags_opt_wannier90
fcflags_opt_triqs
fcflags_opt_psml
fcflags_opt_netcdf
fcflags_opt_linalg
fcflags_opt_libxc
fcflags_opt_bigdft
fcflags_opt_algo
fcflags_opt_atompaw
DO_BUILD_32_CONTRACT_FALSE
DO_BUILD_32_CONTRACT_TRUE
CPPFLAGS_HINTS_EXT
TRUE_CPP
with_gnu_ld
enable_static
enable_shared
ARFLAGS
RANLIB
AR
bzr_clean
bzr_revno
bzr_branch
BAZAAR
PYTHON
FCLIBS
FCFLAGS_F90
fc_info_string
abi_fc_wrap
abi_fc_version
abi_fc_vendor
abi_fpp_path
ac_ct_FC
FC
abi_fc_path
cxx_info_string
abi_cxx_version
abi_cxx_vendor
am__fastdepCXX_FALSE
am__fastdepCXX_TRUE
CXXDEPMODE
ac_ct_CXX
CXXFLAGS
CXX
abi_cxx_path
cc_info_string
abi_cc_version
abi_cc_vendor
CPP
abi_cpp_path
am__fastdepCC_FALSE
am__fastdepCC_TRUE
CCDEPMODE
am__nodep
AMDEPBACKSLASH
AMDEP_FALSE
AMDEP_TRUE
am__quote
am__include
DEPDIR
OBJEXT
EXEEXT
ac_ct_CC
CPPFLAGS
LDFLAGS
CFLAGS
CC
abi_cc_path
TAR
PATCH
RM
PERL
MV
BOURNE_SHELL
lib_gpu_libs
lib_gpu_incs
lib_gpu_flavor
lib_gpu_ldflags
lib_gpu_fcflags
lib_mpi_libs
lib_mpi_incs
lib_mpi_ldflags
lib_mpi_fcflags
MPI_2PROCS
abi_lt_version
abi_am_version
abi_ac_version
abi_m4_version
src_mods_incs
src_incs_incs
src_95_drive_incs
src_94_scfcv_incs
src_84_fold2Bloch_incs
src_83_cut3d_incs
src_80_tdep_incs
src_79_seqpar_mpi_incs
src_78_eph_incs
src_78_effpot_incs
src_77_suscep_incs
src_77_ddb_incs
src_72_response_incs
src_71_wannier_incs
src_71_bse_incs
src_70_gw_incs
src_69_wfdesc_incs
src_68_rsprc_incs
src_68_recursion_incs
src_68_lotf_incs
src_68_dmft_incs
src_67_triqs_ext_incs
src_67_common_incs
src_66_wfs_incs
src_66_vdwxc_incs
src_66_nonlocal_incs
src_65_paw_incs
src_65_lotf_base_incs
src_64_psp_incs
src_63_bader_incs
src_62_wvl_wfs_incs
src_62_poisson_incs
src_62_iowfdenpot_incs
src_62_ctqmc_incs
src_62_cg_noabirule_incs
src_61_occeig_incs
src_59_ionetcdf_incs
src_57_iovars_incs
src_57_iopsp_parser_incs
src_56_xc_incs
src_56_recipspace_incs
src_56_mixing_incs
src_56_io_mpi_incs
src_55_abiutil_incs
src_54_spacepar_incs
src_53_ffts_incs
src_52_manage_cuda_incs
src_52_fft_mpi_noabirule_incs
src_51_manage_mpi_incs
src_49_gw_toolbox_oop_incs
src_46_diago_incs
src_45_xgTools_incs
src_45_geomoptim_incs
src_44_abitypes_defs_incs
src_44_abitools_incs
src_43_wvl_wrappers_incs
src_43_ptgroups_incs
src_42_parser_incs
src_42_nlstrain_incs
src_42_libpaw_incs
src_41_xc_lowlevel_incs
src_41_geometry_incs
src_32_util_incs
src_29_kpoints_incs
src_28_numeric_noabirule_incs
src_27_toolbox_oop_incs
src_21_hashfuncs_incs
src_18_timing_incs
src_17_libtetra_ext_incs
src_16_hideleave_incs
src_15_gpu_toolbox_incs
src_14_hidewrite_incs
src_12_hide_mpi_incs
src_11_memory_mpi_incs
src_10_dumpinfo_incs
src_10_defs_incs
src_02_clib_incs
src_01_gsl_ext_incs
abinit_mandir
abinit_libdir
abinit_incdir
abinit_docdir
abinit_datdir
abinit_chkdir
abinit_bindir
abinit_prefix
XPPFLAGS_OPTIM
XPPFLAGS_EXTRA
XPPFLAGS_DEBUG
XPPFLAGS
XPP
SERIAL_RUNNER
PYTHON_CPPFLAGS
PYFLAGS
PDFFLAGS
NVCC_LIBS
NVCC_LDFLAGS
NVCC_CPPFLAGS
NVCC_CFLAGS
NVCC
MPI_RUNNER
MODEXT
MDFLAGS
LTXFLAGS
FPPFLAGS_OPTIM
FPPFLAGS_HINTS
FPPFLAGS_EXTRA
FPPFLAGS_DEBUG
FPPFLAGS
FPP
FC_LIBS_OPTIM
FC_LIBS_HINTS
FC_LIBS_EXTRA
FC_LIBS_DEBUG
FC_LIBS_64BITS
FC_LIBS
FC_LDFLAGS_OPTIM
FC_LDFLAGS_HINTS
FC_LDFLAGS_EXTRA
FC_LDFLAGS_DEBUG
FC_LDFLAGS_64BITS
FC_LDFLAGS
FCFLAGS_OPTIM
FCFLAGS_OPENMP
FCFLAGS_MODDIR
FCFLAGS_HINTS
FCFLAGS_FREEFORM
FCFLAGS_FIXEDFORM
FCFLAGS_EXTRA
FCFLAGS_DEBUG
FCFLAGS_64BITS
FCFLAGS
CXX_LIBS_OPTIM
CXX_LIBS_HINTS
CXX_LIBS_GPU
CXX_LIBS_EXTRA
CXX_LIBS_DEBUG
CXX_LIBS_64BITS
CXX_LIBS
CXX_LDFLAGS_OPTIM
CXX_LDFLAGS_HINTS
CXX_LDFLAGS_GPU
CXX_LDFLAGS_EXTRA
CXX_LDFLAGS_DEBUG
CXX_LDFLAGS_64BITS
CXX_LDFLAGS
CXXFLAGS_OPTIM
CXXFLAGS_HINTS
CXXFLAGS_GPU
CXXFLAGS_EXTRA
CXXFLAGS_DEBUG
CXXFLAGS_64BITS
CPPFLAGS_OPTIM
CPPFLAGS_HINTS
CPPFLAGS_GPU
CPPFLAGS_EXTRA
CPPFLAGS_DEBUG
CPPFLAGS_64BITS
CFLAGS_OPTIM
CFLAGS_HINTS
CFLAGS_GPU
CFLAGS_EXTRA
CFLAGS_DEBUG
CFLAGS_64BITS
CC_LIBS_OPTIM
CC_LIBS_HINTS
CC_LIBS_GPU
CC_LIBS_EXTRA
CC_LIBS_DEBUG
CC_LIBS_64BITS
CC_LIBS
CC_LDFLAGS_OPTIM
CC_LDFLAGS_HINTS
CC_LDFLAGS_GPU
CC_LDFLAGS_EXTRA
CC_LDFLAGS_DEBUG
CC_LDFLAGS_64BITS
CC_LDFLAGS
ARFLAGS_OPTIM
ARFLAGS_HINTS
ARFLAGS_EXTRA
ARFLAGS_DEBUG
ARFLAGS_CMD
ARFLAGS_64BITS
ABI_CPPFLAGS
abi_ac_distcheck
with_yaml_libs
with_yaml_incs
with_wannier90_libs
with_wannier90_incs
with_wannier90_bins
with_triqs_libs
with_triqs_incs
with_trio_flavor
with_timer_libs
with_timer_incs
with_timer_flavor
with_tardir
with_psml_libs
with_psml_incs
with_netcdf_libs
with_netcdf_incs
with_mpi_prefix
with_mpi_libs
with_mpi_level
with_mpi_incs
with_math_libs
with_math_incs
with_math_flavor
with_linalg_libs
with_linalg_incs
with_linalg_flavor
with_libxc_libs
with_libxc_incs
with_gpu_prefix
with_gpu_libs
with_gpu_ldflags
with_gpu_incs
with_gpu_flavor
with_gpu_cppflags
with_gpu_cflags
with_fft_libs
with_fft_incs
with_fft_flavor
with_fc_version
with_fc_vendor
with_dft_flavor
with_config_file
with_bigdft_libs
with_bigdft_incs
with_atompaw_libs
with_atompaw_incs
with_atompaw_bins
with_algo_libs
with_algo_incs
with_algo_flavor
enable_zdot_bugfix
enable_xml
enable_wannier90_v1
enable_triqs_v2_0
enable_triqs_v1_4
enable_stdin
enable_optim
enable_openmp
enable_netcdf_default
enable_mpi_io_default
enable_mpi_io
enable_mpi_inplace
enable_mpi
enable_memory_profiling
enable_maintainer_checks
enable_macroave
enable_lotf
enable_hints
enable_gw_dpc
enable_gpu
enable_fc_wrapper
enable_fast_check
enable_fallbacks
enable_exports
enable_debug
enable_connectors
enable_config_file
enable_cclock
enable_bse_unpacked
enable_avx_safe_mode
enable_64bit_flags
REALPATH
EGREP
GREP
SED
LN_S
abi_sys_spec
abi_cpu_bits
abi_cpu_64bits
abi_cpu_spec
abi_cpu_model
abi_cpu_vendor
abi_cpu_platform
ABINIT_VERSION_BASE
ABINIT_VERSION_BUILD
ABINIT_VERSION_MICRO
ABINIT_VERSION_MINOR
ABINIT_VERSION_MAJOR
ABINIT_VERSION
abinit_moddir
abinit_builddir
abinit_srcdir
AM_BACKSLASH
AM_DEFAULT_VERBOSITY
AM_DEFAULT_V
AM_V
am__untar
am__tar
AMTAR
am__leading_dot
SET_MAKE
AWK
mkdir_p
MKDIR_P
INSTALL_STRIP_PROGRAM
STRIP
install_sh
MAKEINFO
AUTOHEADER
AUTOMAKE
AUTOCONF
ACLOCAL
VERSION
PACKAGE
CYGPATH_W
am__isrc
INSTALL_DATA
INSTALL_SCRIPT
INSTALL_PROGRAM
target_os
target_vendor
target_cpu
target
host_os
host_vendor
host_cpu
host
build_os
build_vendor
build_cpu
build
target_alias
host_alias
build_alias
LIBS
ECHO_T
ECHO_N
ECHO_C
DEFS
mandir
localedir
libdir
psdir
pdfdir
dvidir
htmldir
infodir
docdir
oldincludedir
includedir
localstatedir
sharedstatedir
sysconfdir
datadir
datarootdir
libexecdir
sbindir
bindir
program_transform_name
prefix
exec_prefix
PACKAGE_URL
PACKAGE_BUGREPORT
PACKAGE_STRING
PACKAGE_VERSION
PACKAGE_TARNAME
PACKAGE_NAME
PATH_SEPARATOR
SHELL'
ac_subst_files=''
ac_user_opts='
enable_option_checking
enable_silent_rules
enable_64bit_flags
enable_avx_safe_mode
enable_bse_unpacked
enable_cclock
enable_config_file
enable_connectors
enable_debug
enable_exports
enable_fallbacks
enable_fast_check
enable_fc_wrapper
enable_gpu
enable_gw_dpc
enable_hints
enable_lotf
enable_macroave
enable_maintainer_checks
enable_memory_profiling
enable_mpi
enable_mpi_inplace
enable_mpi_io
enable_mpi_io_default
enable_netcdf_default
enable_openmp
enable_optim
enable_stdin
enable_triqs_v1_4
enable_triqs_v2_0
enable_wannier90_v1
enable_xml
enable_zdot_bugfix
with_algo_flavor
with_algo_incs
with_algo_libs
with_atompaw_bins
with_atompaw_incs
with_atompaw_libs
with_bigdft_incs
with_bigdft_libs
with_config_file
with_dft_flavor
with_fc_vendor
with_fc_version
with_fft_flavor
with_fft_incs
with_fft_libs
with_gpu_cflags
with_gpu_cppflags
with_gpu_flavor
with_gpu_incs
with_gpu_ldflags
with_gpu_libs
with_gpu_prefix
with_libxc_incs
with_libxc_libs
with_linalg_flavor
with_linalg_incs
with_linalg_libs
with_math_flavor
with_math_incs
with_math_libs
with_mpi_incs
with_mpi_level
with_mpi_libs
with_mpi_prefix
with_netcdf_incs
with_netcdf_libs
with_psml_incs
with_psml_libs
with_tardir
with_timer_flavor
with_timer_incs
with_timer_libs
with_trio_flavor
with_triqs_incs
with_triqs_libs
with_wannier90_bins
with_wannier90_incs
with_wannier90_libs
with_yaml_incs
with_yaml_libs
enable_dependency_tracking
enable_assert
'
      ac_precious_vars='build_alias
host_alias
target_alias
ARFLAGS_DEBUG
ARFLAGS_EXTRA
ARFLAGS_OPTIM
CC_LDFLAGS
CC_LDFLAGS_DEBUG
CC_LDFLAGS_OPTIM
CC_LIBS
CC_LIBS_DEBUG
CC_LIBS_OPTIM
CFLAGS_DEBUG
CFLAGS_EXTRA
CFLAGS_OPTIM
CPPFLAGS_DEBUG
CPPFLAGS_EXTRA
CPPFLAGS_OPTIM
CXXFLAGS_DEBUG
CXXFLAGS_EXTRA
CXXFLAGS_OPTIM
CXX_LDFLAGS
CXX_LDFLAGS_DEBUG
CXX_LDFLAGS_EXTRA
CXX_LDFLAGS_OPTIM
CXX_LIBS
CXX_LIBS_DEBUG
CXX_LIBS_OPTIM
FCFLAGS_DEBUG
FCFLAGS_EXTRA
FCFLAGS_FIXEDFORM
FCFLAGS_FREEFORM
FCFLAGS_HINTS
FCFLAGS_MODDIR
FCFLAGS_OPENMP
FCFLAGS_OPTIM
FC_LDFLAGS
FC_LDFLAGS_DEBUG
FC_LDFLAGS_EXTRA
FC_LDFLAGS_OPTIM
FC_LIBS
FC_LIBS_DEBUG
FC_LIBS_OPTIM
FPP
FPPFLAGS
FPPFLAGS_DEBUG
FPPFLAGS_EXTRA
FPPFLAGS_OPTIM
MPI_RUNNER
PYFLAGS
PYTHON_CPPFLAGS
SERIAL_RUNNER
XPP
XPPFLAGS
XPPFLAGS_DEBUG
XPPFLAGS_EXTRA
XPPFLAGS_OPTIM
CC
CFLAGS
LDFLAGS
LIBS
CPPFLAGS
CPP
CXX
CXXFLAGS
CCC
FC
FCFLAGS'
ac_subdirs_all='fallbacks tests'

# Initialize some variables set by options.
ac_init_help=
ac_init_version=false
ac_unrecognized_opts=
ac_unrecognized_sep=
# The variables have the same names as the options, with
# dashes changed to underlines.
cache_file=/dev/null
exec_prefix=NONE
no_create=
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
verbose=
x_includes=NONE
x_libraries=NONE

# Installation directory options.
# These are left unexpanded so users can "make install exec_prefix=/foo"
# and all the variables that are supposed to be based on exec_prefix
# by default will actually change.
# Use braces instead of parens because sh, perl, etc. also accept them.
# (The list follows the same order as the GNU Coding Standards.)
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datarootdir='${prefix}/share'
datadir='${datarootdir}'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
includedir='${prefix}/include'
oldincludedir='/usr/include'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
infodir='${datarootdir}/info'
htmldir='${docdir}'
dvidir='${docdir}'
pdfdir='${docdir}'
psdir='${docdir}'
libdir='${exec_prefix}/lib'
localedir='${datarootdir}/locale'
mandir='${datarootdir}/man'

ac_prev=
ac_dashdash=
for ac_option
do
  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval $ac_prev=\$ac_option
    ac_prev=
    continue
  fi

  case $ac_option in
  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
  *=)   ac_optarg= ;;
  *)    ac_optarg=yes ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case $ac_dashdash$ac_option in
  --)
    ac_dashdash=yes ;;

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir=$ac_optarg ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build_alias ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build_alias=$ac_optarg ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file=$ac_optarg ;;

  --config-cache | -C)
    cache_file=config.cache ;;

  -datadir | --datadir | --datadi | --datad)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=*)
    datadir=$ac_optarg ;;

  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
  | --dataroo | --dataro | --datar)
    ac_prev=datarootdir ;;
  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
    datarootdir=$ac_optarg ;;

  -disable-* | --disable-*)
    ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=no ;;

  -docdir | --docdir | --docdi | --doc | --do)
    ac_prev=docdir ;;
  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
    docdir=$ac_optarg ;;

  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
    ac_prev=dvidir ;;
  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
    dvidir=$ac_optarg ;;

  -enable-* | --enable-*)
    ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=\$ac_optarg ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix=$ac_optarg ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he | -h)
    ac_init_help=long ;;
  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
    ac_init_help=recursive ;;
  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
    ac_init_help=short ;;

  -host | --host | --hos | --ho)
    ac_prev=host_alias ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host_alias=$ac_optarg ;;

  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
    ac_prev=htmldir ;;
  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
  | --ht=*)
    htmldir=$ac_optarg ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir=$ac_optarg ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir=$ac_optarg ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir=$ac_optarg ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir=$ac_optarg ;;

  -localedir | --localedir | --localedi | --localed | --locale)
    ac_prev=localedir ;;
  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
    localedir=$ac_optarg ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst | --locals)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
    localstatedir=$ac_optarg ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir=$ac_optarg ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c | -n)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir=$ac_optarg ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix=$ac_optarg ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix=$ac_optarg ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix=$ac_optarg ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name=$ac_optarg ;;

  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
    ac_prev=pdfdir ;;
  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
    pdfdir=$ac_optarg ;;

  -psdir | --psdir | --psdi | --psd | --ps)
    ac_prev=psdir ;;
  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
    psdir=$ac_optarg ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir=$ac_optarg ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir=$ac_optarg ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site=$ac_optarg ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir=$ac_optarg ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir=$ac_optarg ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target_alias ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target_alias=$ac_optarg ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers | -V)
    ac_init_version=: ;;

  -with-* | --with-*)
    ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=\$ac_optarg ;;

  -without-* | --without-*)
    ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=no ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes=$ac_optarg ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries=$ac_optarg ;;

  -*) as_fn_error $? "unrecognized option: \`$ac_option'
Try \`$0 --help' for more information"
    ;;

  *=*)
    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
    # Reject names that are not valid shell variable names.
    case $ac_envvar in #(
      '' | [0-9]* | *[!_$as_cr_alnum]* )
      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
    esac
    eval $ac_envvar=\$ac_optarg
    export $ac_envvar ;;

  *)
    # FIXME: should be removed in autoconf 3.0.
    $as_echo "$as_me: WARNING: you should use --build, --host, --target" >&2
    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
      $as_echo "$as_me: WARNING: invalid host type: $ac_option" >&2
    : "${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}"
    ;;

  esac
done

if test -n "$ac_prev"; then
  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
  as_fn_error $? "missing argument to $ac_option"
fi

if test -n "$ac_unrecognized_opts"; then
  case $enable_option_checking in
    no) ;;
    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
    *)     $as_echo "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
  esac
fi

# Check all directory arguments for consistency.
for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
		datadir sysconfdir sharedstatedir localstatedir includedir \
		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
		libdir localedir mandir
do
  eval ac_val=\$$ac_var
  # Remove trailing slashes.
  case $ac_val in
    */ )
      ac_val=`expr "X$ac_val" : 'X\(.*[^/]\)' \| "X$ac_val" : 'X\(.*\)'`
      eval $ac_var=\$ac_val;;
  esac
  # Be sure to have absolute directory names.
  case $ac_val in
    [\\/$]* | ?:[\\/]* )  continue;;
    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
  esac
  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
done

# There might be people who depend on the old broken behavior: `$host'
# used to hold the argument of --host etc.
# FIXME: To remove some day.
build=$build_alias
host=$host_alias
target=$target_alias

# FIXME: To remove some day.
if test "x$host_alias" != x; then
  if test "x$build_alias" = x; then
    cross_compiling=maybe
  elif test "x$build_alias" != "x$host_alias"; then
    cross_compiling=yes
  fi
fi

ac_tool_prefix=
test -n "$host_alias" && ac_tool_prefix=$host_alias-

test "$silent" = yes && exec 6>/dev/null


ac_pwd=`pwd` && test -n "$ac_pwd" &&
ac_ls_di=`ls -di .` &&
ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
  as_fn_error $? "working directory cannot be determined"
test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
  as_fn_error $? "pwd does not report name of working directory"


# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then the parent directory.
  ac_confdir=`$as_dirname -- "$as_myself" ||
$as_expr X"$as_myself" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_myself" : 'X\(//\)[^/]' \| \
	 X"$as_myself" : 'X\(//\)$' \| \
	 X"$as_myself" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_myself" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  srcdir=$ac_confdir
  if test ! -r "$srcdir/$ac_unique_file"; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r "$srcdir/$ac_unique_file"; then
  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
fi
ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
ac_abs_confdir=`(
	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
	pwd)`
# When building in place, set srcdir=.
if test "$ac_abs_confdir" = "$ac_pwd"; then
  srcdir=.
fi
# Remove unnecessary trailing slashes from srcdir.
# Double slashes in file names in object file debugging info
# mess up M-x gdb in Emacs.
case $srcdir in
*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
esac
for ac_var in $ac_precious_vars; do
  eval ac_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_env_${ac_var}_value=\$${ac_var}
  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_cv_env_${ac_var}_value=\$${ac_var}
done

#
# Report the --help message.
#
if test "$ac_init_help" = "long"; then
  # Omit some internal or obsolete options to make the list less imposing.
  # This message is too long to be a string in the A/UX 3.1 sh.
  cat <<_ACEOF
\`configure' configures ABINIT 8.10.2 to adapt to many kinds of systems.

Usage: $0 [OPTION]... [VAR=VALUE]...

To assign environment variables (e.g., CC, CFLAGS...), specify them as
VAR=VALUE.  See below for descriptions of some of the useful variables.

Defaults for the options are specified in brackets.

Configuration:
  -h, --help              display this help and exit
      --help=short        display options specific to this package
      --help=recursive    display the short help of all the included packages
  -V, --version           display version information and exit
  -q, --quiet, --silent   do not print \`checking ...' messages
      --cache-file=FILE   cache test results in FILE [disabled]
  -C, --config-cache      alias for \`--cache-file=config.cache'
  -n, --no-create         do not create output files
      --srcdir=DIR        find the sources in DIR [configure dir or \`..']

Installation directories:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          @<:@@S|@ac_default_prefix@:>@
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          @<:@PREFIX@:>@

By default, \`make install' will install all the files in
\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
an installation prefix other than \`$ac_default_prefix' using \`--prefix',
for instance \`--prefix=\$HOME'.

For better control, use the options below.

Fine tuning of the installation directories:
  --bindir=DIR            user executables [EPREFIX/bin]
  --sbindir=DIR           system admin executables [EPREFIX/sbin]
  --libexecdir=DIR        program executables [EPREFIX/libexec]
  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
  --libdir=DIR            object code libraries [EPREFIX/lib]
  --includedir=DIR        C header files [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc [/usr/include]
  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]
  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
  --infodir=DIR           info documentation [DATAROOTDIR/info]
  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]
  --mandir=DIR            man documentation [DATAROOTDIR/man]
  --docdir=DIR            documentation root @<:@DATAROOTDIR/doc/abinit@:>@
  --htmldir=DIR           html documentation [DOCDIR]
  --dvidir=DIR            dvi documentation [DOCDIR]
  --pdfdir=DIR            pdf documentation [DOCDIR]
  --psdir=DIR             ps documentation [DOCDIR]
_ACEOF

  cat <<\_ACEOF

Program names:
  --program-prefix=PREFIX            prepend PREFIX to installed program names
  --program-suffix=SUFFIX            append SUFFIX to installed program names
  --program-transform-name=PROGRAM   run sed PROGRAM on installed program names

System types:
  --build=BUILD     configure for building on BUILD [guessed]
  --host=HOST       cross-compile to build programs to run on HOST [BUILD]
  --target=TARGET   configure for building compilers for TARGET [HOST]
_ACEOF
fi

if test -n "$ac_init_help"; then
  case $ac_init_help in
     short | recursive ) echo "Configuration of ABINIT 8.10.2:";;
   esac
  cat <<\_ACEOF

Optional Features:
  --disable-option-checking  ignore unrecognized --enable/--with options
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --enable-silent-rules   less verbose build output (undo: "make V=1")
  --disable-silent-rules  verbose build output (undo: "make V=0")
  --enable-64bit-flags    Use 64-bit flags (see documentation) (default: no)
  --enable-avx-safe-mode  Disable vectorization in problematic procedures
                          (default: no)
  --enable-bse-unpacked   Activate Bethe-Salpeter unpacking (EXPERIMENTAL)
                          (default: no)
  --enable-cclock         Use C clock for timings (default: no)
  --enable-config-file    Read options from config file (default: yes)
  --enable-connectors     Enable detection of external libraries
                          (EXPERIMENTAL) (default: yes)
  --enable-debug          Set debug level (default: basic)
  --enable-exports        Activate build of exported libraries (EXPERIMENTAL)
                          (default: no)
  --enable-fallbacks      Enable the internal build of external packages
                          (default: yes)
  --enable-fast-check     Run 'make check' using 4 processors (default: no)
  --enable-fc-wrapper     Wrap Fortran compiler calls (default: no)
  --enable-gpu            Activate support for GPU (EXPERIMENTAL) (default:
                          no)
  --enable-gw-dpc         Activate double-precision GW calculations
                          (EXPERIMENTAL) (default: no)
  --enable-hints          Preset flags to have the source building properly
                          (default: yes)
  --enable-lotf           Activate LOTF functionality (EXPERIMENTAL) (default:
                          no)
  --enable-macroave       Enable build of macroave (EXPERIMENTAL) (default:
                          yes)
  --enable-maintainer-checks 
                          Activate maintainer checks (BuildBot) (default: no)
  --enable-memory-profiling 
                          Enable memory profiling (default: None)
  --enable-mpi            Enable MPI support (default: auto)
  --enable-mpi-inplace    Activate support for MPI_IN_PLACE (default: no)
  --enable-mpi-io         Enable MPI I/O (default: auto)
  --enable-mpi-io-default Use MPI-IO as default IO library (change the default
                          value of iomode) (EXPERIMENTAL) (default: no)
  --enable-netcdf-default Use NetCDF as default IO library (change the default
                          value of iomode) (default: no)
  --enable-openmp         Activate support for OpenMP (EXPERIMENTAL) (default:
                          no)
  --enable-optim          Set optimization level (default: standard)
  --enable-stdin          Tell Abinit to read file lists from standard input
                          (default: yes)
  --enable-triqs-v1-4     Activate internal support for TRIQS 1.4 (default:
                          no)
  --enable-triqs-v2-0     Activate internal support for TRIQS 2.0 (This option
                          is dominant over the others versions) (default: no)
  --enable-wannier90-v1   Activate support for Wannier90 v1.x (default is
                          v2.x) (default: no)
  --enable-xml            Enable support for XML (default: no)
  --enable-zdot-bugfix    Activate workaround for bugged ZDOTC and ZDOTU
                          (default: no)
  --enable-dependency-tracking 
                          do not reject slow dependency extractors
  --disable-dependency-tracking 
                          speeds up one-time build
  --disable-assert        turn off assertions

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --with-algo-flavor      Kind of external algorithms to support (default:
                          none)
  --with-algo-incs        Include parameters for the algorithmic libraries
                          (default: None)
  --with-algo-libs        Algorithmic libraries to link Abinit binaries with
                          (default: None)
  --with-atompaw-bins     Path to the AtomPAW executables (default: None)
  --with-atompaw-incs     Include parameters for AtomPAW support (default:
                          None)
  --with-atompaw-libs     AtomPAW libraries to link Abinit binaries with
                          (default: None)
  --with-bigdft-incs      Include parameters for BigDFT support (default:
                          None)
  --with-bigdft-libs      BigDFT libraries to link Abinit binaries with
                          (default: None)
  --with-config-file      Specify config file to read options from (default:
                          None)
  --with-dft-flavor       Kind of DFT support to activate (default: none)
  --with-fc-vendor        Fortran compiler vendor to be used by the build
                          system (default: None)
  --with-fc-version       Fortran compiler version to be used by the build
                          system (default: None)
  --with-fft-flavor       Kind of FFT support to activate (default: none)
  --with-fft-incs         Include parameters for the FFT libraries (default:
                          None)
  --with-fft-libs         FFT libraries to link Abinit binaries with (default:
                          None)
  --with-gpu-cflags       C flags to build GPU kernels (default: None)
  --with-gpu-cppflags     Preprocessing options to build GPU kernels (default:
                          None)
  --with-gpu-flavor       Kind of GPU support to activate (default:
                          cuda-double)
  --with-gpu-incs         Include parameters for GPU support (default: None)
  --with-gpu-ldflags      Link flags to build GPU-specific binaries (default:
                          None)
  --with-gpu-libs         GPU libraries to link Abinit binaries with (default:
                          None)
  --with-gpu-prefix       Prefix path for the GPU installation (default: None)
  --with-libxc-incs       Include parameters for ETSF XC support (default:
                          None)
  --with-libxc-libs       ETSF XC libraries to link Abinit binaries with
                          (default: None)
  --with-linalg-flavor    See ~abinit/doc/build/config-template.ac for
                          information, in particular for ScaLAPACK support
                          (default: netlib)
  --with-linalg-incs      Include parameters for the linear algebra libraries
                          (BLAS+LAPACK) (default: None)
  --with-linalg-libs      Linear algebra libraries (BLAS+LAPACK) to link with
                          (default: None)
  --with-math-flavor      Kind of math library to use (default: none)
  --with-math-incs        Include parameters for the math library (default:
                          None)
  --with-math-libs        GSL libraries to link Abinit binaries with (default:
                          None)
  --with-mpi-incs         Include parameters for the MPI library (default:
                          None)
  --with-mpi-level        MPI standard level to use (1 or 2) (default: None)
  --with-mpi-libs         MPI libraries to link Abinit binaries with (default:
                          None)
  --with-mpi-prefix       Prefix path to the MPI installation (default: None)
  --with-netcdf-incs      Include parameters for NetCDF support (default:
                          None)
  --with-netcdf-libs      NetCDF libraries to link Abinit binaries with
                          (default: None)
  --with-psml-incs        Include parameters for PSML support (default: None)
  --with-psml-libs        PSML libraries to link Abinit binaries with
                          (default: None)
  --with-tardir           Repository of tarballs for fallbacks (default: None)
  --with-timer-flavor     Kind of timer to use (default: abinit)
  --with-timer-incs       Include parameters for the timer library (default:
                          None)
  --with-timer-libs       PAPI libraries to link Abinit binaries with
                          (default: None)
  --with-trio-flavor      Kind of transferable I/O to activate (default: none)
  --with-triqs-incs       Include parameters for TRIQS support (default: None)
  --with-triqs-libs       TRIQS libraries to link Abinit binaries with
                          (default: None)
  --with-wannier90-bins   Full path to the Wannier90 executables (default:
                          None)
  --with-wannier90-incs   Include parameters for Wannier90 support (default:
                          None)
  --with-wannier90-libs   Wannier90 libraries to link Abinit binaries with
                          (default: None)
  --with-yaml-incs        Include parameters for YAML output support (default:
                          None)
  --with-yaml-libs        YAML libraries to link Abinit binaries with
                          (default: None)

Some influential environment variables:
  ARFLAGS_DEBUG 
              Library archiver flags for debugging
  ARFLAGS_EXTRA 
              Additional library archiver flags
  ARFLAGS_OPTIM 
              Library archiver flags for optimization
  CC_LDFLAGS  C linker flags
  CC_LDFLAGS_DEBUG 
              C linker flags for debugging
  CC_LDFLAGS_OPTIM 
              C linker flags for optimization
  CC_LIBS     C linker libraries
  CC_LIBS_DEBUG 
              C linker additional libraries for debugging
  CC_LIBS_OPTIM 
              C linker additional libraries for optimization
  CFLAGS_DEBUG 
              C compiler flags for debugging
  CFLAGS_EXTRA 
              Additional C compiler flags
  CFLAGS_OPTIM 
              C compiler flags for optimization
  CPPFLAGS_DEBUG 
              C preprocessor flags for debugging
  CPPFLAGS_EXTRA 
              Additional C preprocessor flags
  CPPFLAGS_OPTIM 
              C preprocessor flags for optimization
  CXXFLAGS_DEBUG 
              C++ compiler flags for debugging
  CXXFLAGS_EXTRA 
              Additional C++ compiler flags
  CXXFLAGS_OPTIM 
              C++ compiler flags for optimization
  CXX_LDFLAGS C++ linker flags
  CXX_LDFLAGS_DEBUG 
              C++ linker flags for debugging
  CXX_LDFLAGS_EXTRA 
              Additional C++ linker flags
  CXX_LDFLAGS_OPTIM 
              C++ linker flags for optimization
  CXX_LIBS    C++ linker additional libraries
  CXX_LIBS_DEBUG 
              C++ linker additional libraries for debugging
  CXX_LIBS_OPTIM 
              C++ linker additional libraries for optimization
  FCFLAGS_DEBUG 
              Fortran compiler flags for debugging
  FCFLAGS_EXTRA 
              Additional Fortran compiler flags
  FCFLAGS_FIXEDFORM 
              Fortran flags for fixed-form source files
  FCFLAGS_FREEFORM 
              Fortran flags for free-form source files
  FCFLAGS_HINTS 
              Tricky Fortran compiler flags
  FCFLAGS_MODDIR 
              Fortran compiler flags to use a module directory
  FCFLAGS_OPENMP 
              Fortran compiler flags to enable openmp
  FCFLAGS_OPTIM 
              Fortran compiler flags for optimization
  FC_LDFLAGS  Fortran linker flags
  FC_LDFLAGS_DEBUG 
              Fortran linker flags for debugging
  FC_LDFLAGS_EXTRA 
              Additional Fortran linker flags
  FC_LDFLAGS_OPTIM 
              Fortran linker flags for optimization
  FC_LIBS     Fortran linker additional libraries
  FC_LIBS_DEBUG 
              Fortran linker additional libraries for debugging
  FC_LIBS_OPTIM 
              Fortran linker additional libraries for optimization
  FPP         Fortran preprocessor
  FPPFLAGS    Fortran preprocessor flags
  FPPFLAGS_DEBUG 
              Fortran preprocessor flags for debugging
  FPPFLAGS_EXTRA 
              Additional Fortran preprocessor flags
  FPPFLAGS_OPTIM 
              Fortran preprocessor flags for optimization
  MPI_RUNNER  MPI runner command
  PYFLAGS     Execution flags for the Python interpreter
  PYTHON_CPPFLAGS 
              C preprocessing flags for C/Python bindings
  SERIAL_RUNNER 
              Serial runner command
  XPP         C++ preprocessor
  XPPFLAGS    C++ preprocessor flags
  XPPFLAGS_DEBUG 
              C++ preprocessor flags for debugging
  XPPFLAGS_EXTRA 
              Additional C++ preprocessor flags
  XPPFLAGS_OPTIM 
              C++ preprocessor flags for optimization
  CC          C compiler command
  CFLAGS      C compiler flags
  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
              nonstandard directory <lib dir>
  LIBS        libraries to pass to the linker, e.g. -l<library>
  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if
              you have headers in a nonstandard directory <include dir>
  CPP         C preprocessor
  CXX         C++ compiler command
  CXXFLAGS    C++ compiler flags
  FC          Fortran compiler command
  FCFLAGS     Fortran compiler flags

Use these variables to override the choices made by `configure' or to help
it to find libraries and programs with nonstandard names/locations.

Report bugs to <https://bugs.launchpad.net/abinit/>.
_ACEOF
ac_status=$?
fi

if test "$ac_init_help" = "recursive"; then
  # If there are subdirs, report their specific --help.
  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
    test -d "$ac_dir" ||
      { cd "$srcdir" && ac_pwd=`pwd` && srcdir=. && test -d "$ac_dir"; } ||
      continue
    ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`$as_echo "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix

    cd "$ac_dir" || { ac_status=$?; continue; }
    # Check for guested configure.
    if test -f "$ac_srcdir/configure.gnu"; then
      echo &&
      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
    elif test -f "$ac_srcdir/configure"; then
      echo &&
      $SHELL "$ac_srcdir/configure" --help=recursive
    else
      $as_echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
    fi || ac_status=$?
    cd "$ac_pwd" || { ac_status=$?; break; }
  done
fi

test -n "$ac_init_help" && exit $ac_status
if $ac_init_version; then
  cat <<\_ACEOF
ABINIT configure 8.10.2
generated by GNU Autoconf 2.69

Copyright (C) 2012 Free Software Foundation, Inc.
This configure script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it.
_ACEOF
  exit
fi

## ------------------------ ##
## Autoconf initialization. ##
## ------------------------ ##

@%:@ ac_fn_c_try_compile LINENO
@%:@ --------------------------
@%:@ Try to compile conftest.@S|@ac_ext, and return whether this succeeded.
ac_fn_c_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_c_try_compile

@%:@ ac_fn_c_try_cpp LINENO
@%:@ ----------------------
@%:@ Try to preprocess conftest.@S|@ac_ext, and return whether this succeeded.
ac_fn_c_try_cpp ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } > conftest.i && {
	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
	 test ! -s conftest.err
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

    ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_c_try_cpp

@%:@ ac_fn_c_try_run LINENO
@%:@ ----------------------
@%:@ Try to link conftest.@S|@ac_ext, and return whether this succeeded. Assumes
@%:@ that executables *can* be run.
ac_fn_c_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then :
  ac_retval=0
else
  $as_echo "$as_me: program exited with status $ac_status" >&5
       $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_c_try_run

@%:@ ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES
@%:@ -------------------------------------------------------
@%:@ Tests whether HEADER exists and can be compiled using the include files in
@%:@ INCLUDES, setting the cache variable VAR accordingly.
ac_fn_c_check_header_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
@%:@include <$2>
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  eval "$3=yes"
else
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} @%:@ ac_fn_c_check_header_compile

@%:@ ac_fn_c_check_header_mongrel LINENO HEADER VAR INCLUDES
@%:@ -------------------------------------------------------
@%:@ Tests whether HEADER exists, giving a warning if it cannot be compiled using
@%:@ the include files in INCLUDES and setting the cache variable VAR
@%:@ accordingly.
ac_fn_c_check_header_mongrel ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if eval \${$3+:} false; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
else
  # Is the header compilable?
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking $2 usability" >&5
$as_echo_n "checking $2 usability... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
@%:@include <$2>
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_header_compiler=yes
else
  ac_header_compiler=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_compiler" >&5
$as_echo "$ac_header_compiler" >&6; }

# Is the header present?
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking $2 presence" >&5
$as_echo_n "checking $2 presence... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
@%:@include <$2>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  ac_header_preproc=yes
else
  ac_header_preproc=no
fi
rm -f conftest.err conftest.i conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_preproc" >&5
$as_echo "$ac_header_preproc" >&6; }

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in #((
  yes:no: )
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: accepted by the compiler, rejected by the preprocessor!" >&5
$as_echo "$as_me: WARNING: $2: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
$as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
    ;;
  no:yes:* )
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: present but cannot be compiled" >&5
$as_echo "$as_me: WARNING: $2: present but cannot be compiled" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2:     check for missing prerequisite headers?" >&5
$as_echo "$as_me: WARNING: $2:     check for missing prerequisite headers?" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: see the Autoconf documentation" >&5
$as_echo "$as_me: WARNING: $2: see the Autoconf documentation" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&5
$as_echo "$as_me: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
$as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
( $as_echo "## ------------------------------------------------- ##
## Report this to https://bugs.launchpad.net/abinit/ ##
## ------------------------------------------------- ##"
     ) | sed "s/^/$as_me: WARNING:     /" >&2
    ;;
esac
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
else
  eval "$3=\$ac_header_compiler"
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} @%:@ ac_fn_c_check_header_mongrel

@%:@ ac_fn_cxx_try_compile LINENO
@%:@ ----------------------------
@%:@ Try to compile conftest.@S|@ac_ext, and return whether this succeeded.
ac_fn_cxx_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_cxx_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_cxx_try_compile

@%:@ ac_fn_fc_try_compile LINENO
@%:@ ---------------------------
@%:@ Try to compile conftest.@S|@ac_ext, and return whether this succeeded.
ac_fn_fc_try_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_fc_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_fc_try_compile

@%:@ ac_fn_c_try_link LINENO
@%:@ -----------------------
@%:@ Try to link conftest.@S|@ac_ext, and return whether this succeeded.
ac_fn_c_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 test -x conftest$ac_exeext
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_c_try_link

@%:@ ac_fn_c_check_func LINENO FUNC VAR
@%:@ ----------------------------------
@%:@ Tests whether FUNC exists, setting the cache variable VAR accordingly
ac_fn_c_check_func ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
/* Define $2 to an innocuous variant, in case <limits.h> declares $2.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $2 innocuous_$2

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $2 (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef $2

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char $2 ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined __stub_$2 || defined __stub___$2
choke me
#endif

#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return $2 ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  eval "$3=yes"
else
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} @%:@ ac_fn_c_check_func

@%:@ ac_fn_c_compute_int LINENO EXPR VAR INCLUDES
@%:@ --------------------------------------------
@%:@ Tries to find the compile-time value of EXPR in a program that includes
@%:@ INCLUDES, setting VAR accordingly. Returns whether the value could be
@%:@ computed
ac_fn_c_compute_int ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if test "$cross_compiling" = yes; then
    # Depending upon the size, compute the lo and hi bounds.
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
static int test_array @<:@1 - 2 * !(($2) >= 0)@:>@;
test_array @<:@0@:>@ = 0;
return test_array @<:@0@:>@;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_lo=0 ac_mid=0
  while :; do
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
static int test_array @<:@1 - 2 * !(($2) <= $ac_mid)@:>@;
test_array @<:@0@:>@ = 0;
return test_array @<:@0@:>@;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=$ac_mid; break
else
  as_fn_arith $ac_mid + 1 && ac_lo=$as_val
			if test $ac_lo -le $ac_mid; then
			  ac_lo= ac_hi=
			  break
			fi
			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  done
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
static int test_array @<:@1 - 2 * !(($2) < 0)@:>@;
test_array @<:@0@:>@ = 0;
return test_array @<:@0@:>@;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=-1 ac_mid=-1
  while :; do
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
static int test_array @<:@1 - 2 * !(($2) >= $ac_mid)@:>@;
test_array @<:@0@:>@ = 0;
return test_array @<:@0@:>@;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_lo=$ac_mid; break
else
  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
			if test $ac_mid -le $ac_hi; then
			  ac_lo= ac_hi=
			  break
			fi
			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  done
else
  ac_lo= ac_hi=
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
# Binary search between lo and hi bounds.
while test "x$ac_lo" != "x$ac_hi"; do
  as_fn_arith '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo && ac_mid=$as_val
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
static int test_array @<:@1 - 2 * !(($2) <= $ac_mid)@:>@;
test_array @<:@0@:>@ = 0;
return test_array @<:@0@:>@;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=$ac_mid
else
  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done
case $ac_lo in @%:@((
?*) eval "$3=\$ac_lo"; ac_retval=0 ;;
'') ac_retval=1 ;;
esac
  else
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
static long int longval () { return $2; }
static unsigned long int ulongval () { return $2; }
@%:@include <stdio.h>
@%:@include <stdlib.h>
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

  FILE *f = fopen ("conftest.val", "w");
  if (! f)
    return 1;
  if (($2) < 0)
    {
      long int i = longval ();
      if (i != ($2))
	return 1;
      fprintf (f, "%ld", i);
    }
  else
    {
      unsigned long int i = ulongval ();
      if (i != ($2))
	return 1;
      fprintf (f, "%lu", i);
    }
  /* Do not output a trailing newline, as this causes \r\n confusion
     on some platforms.  */
  return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  echo >>conftest.val; read $3 <conftest.val; ac_retval=0
else
  ac_retval=1
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
rm -f conftest.val

  fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_c_compute_int

@%:@ ac_fn_c_check_type LINENO TYPE VAR INCLUDES
@%:@ -------------------------------------------
@%:@ Tests whether TYPE exists after having included INCLUDES, setting cache
@%:@ variable VAR accordingly.
ac_fn_c_check_type ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
else
  eval "$3=no"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
if (sizeof ($2))
	 return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
if (sizeof (($2)))
	    return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  
else
  eval "$3=yes"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} @%:@ ac_fn_c_check_type

@%:@ ac_fn_fc_try_link LINENO
@%:@ ------------------------
@%:@ Try to link conftest.@S|@ac_ext, and return whether this succeeded.
ac_fn_fc_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_fc_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 test -x conftest$ac_exeext
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_fc_try_link

@%:@ ac_fn_fc_try_run LINENO
@%:@ -----------------------
@%:@ Try to link conftest.@S|@ac_ext, and return whether this succeeded. Assumes
@%:@ that executables *can* be run.
ac_fn_fc_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then :
  ac_retval=0
else
  $as_echo "$as_me: program exited with status $ac_status" >&5
       $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_fc_try_run

@%:@ ac_fn_cxx_try_link LINENO
@%:@ -------------------------
@%:@ Try to link conftest.@S|@ac_ext, and return whether this succeeded.
ac_fn_cxx_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_cxx_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 test -x conftest$ac_exeext
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} @%:@ ac_fn_cxx_try_link
cat >config.log <<_ACEOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by ABINIT $as_me 8.10.2, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  $ $0 $@

_ACEOF
exec 5>>config.log
{
cat <<_ASUNAME
## --------- ##
## Platform. ##
## --------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`

_ASUNAME

as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    $as_echo "PATH: $as_dir"
  done
IFS=$as_save_IFS

} >&5

cat >&5 <<_ACEOF


## ----------- ##
## Core tests. ##
## ----------- ##

_ACEOF


# Keep a trace of the command line.
# Strip out --no-create and --no-recursion so they do not pile up.
# Strip out --silent because we don't want to record it for future runs.
# Also quote any args containing shell meta-characters.
# Make two passes to allow for proper duplicate-argument suppression.
ac_configure_args=
ac_configure_args0=
ac_configure_args1=
ac_must_keep_next=false
for ac_pass in 1 2
do
  for ac_arg
  do
    case $ac_arg in
    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil)
      continue ;;
    *\'*)
      ac_arg=`$as_echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    case $ac_pass in
    1) as_fn_append ac_configure_args0 " '$ac_arg'" ;;
    2)
      as_fn_append ac_configure_args1 " '$ac_arg'"
      if test $ac_must_keep_next = true; then
	ac_must_keep_next=false # Got value, back to normal.
      else
	case $ac_arg in
	  *=* | --config-cache | -C | -disable-* | --disable-* \
	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
	  | -with-* | --with-* | -without-* | --without-* | --x)
	    case "$ac_configure_args0 " in
	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
	    esac
	    ;;
	  -* ) ac_must_keep_next=true ;;
	esac
      fi
      as_fn_append ac_configure_args " '$ac_arg'"
      ;;
    esac
  done
done
{ ac_configure_args0=; unset ac_configure_args0;}
{ ac_configure_args1=; unset ac_configure_args1;}

# When interrupted or exit'd, cleanup temporary files, and complete
# config.log.  We remove comments because anyway the quotes in there
# would cause problems or look ugly.
# WARNING: Use '\'' to represent an apostrophe within the trap.
# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
trap 'exit_status=$?
  # Save into config.log some information that might help in debugging.
  {
    echo

    $as_echo "## ---------------- ##
## Cache variables. ##
## ---------------- ##"
    echo
    # The following way of writing the cache mishandles newlines in values,
(
  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
$as_echo "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done
  (set) 2>&1 |
    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      sed -n \
	"s/'\''/'\''\\\\'\'''\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
      ;; #(
    *)
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
)
    echo

    $as_echo "## ----------------- ##
## Output variables. ##
## ----------------- ##"
    echo
    for ac_var in $ac_subst_vars
    do
      eval ac_val=\$$ac_var
      case $ac_val in
      *\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
      esac
      $as_echo "$ac_var='\''$ac_val'\''"
    done | sort
    echo

    if test -n "$ac_subst_files"; then
      $as_echo "## ------------------- ##
## File substitutions. ##
## ------------------- ##"
      echo
      for ac_var in $ac_subst_files
      do
	eval ac_val=\$$ac_var
	case $ac_val in
	*\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
	esac
	$as_echo "$ac_var='\''$ac_val'\''"
      done | sort
      echo
    fi

    if test -s confdefs.h; then
      $as_echo "## ----------- ##
## confdefs.h. ##
## ----------- ##"
      echo
      cat confdefs.h
      echo
    fi
    test "$ac_signal" != 0 &&
      $as_echo "$as_me: caught signal $ac_signal"
    $as_echo "$as_me: exit $exit_status"
  } >&5
  rm -f core *.core core.conftest.* &&
    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
    exit $exit_status
' 0
for ac_signal in 1 2 13 15; do
  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal
done
ac_signal=0

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -f -r conftest* confdefs.h

$as_echo "/* confdefs.h */" > confdefs.h

# Predefined preprocessor variables.

cat >>confdefs.h <<_ACEOF
@%:@define PACKAGE_NAME "$PACKAGE_NAME"
_ACEOF

cat >>confdefs.h <<_ACEOF
@%:@define PACKAGE_TARNAME "$PACKAGE_TARNAME"
_ACEOF

cat >>confdefs.h <<_ACEOF
@%:@define PACKAGE_VERSION "$PACKAGE_VERSION"
_ACEOF

cat >>confdefs.h <<_ACEOF
@%:@define PACKAGE_STRING "$PACKAGE_STRING"
_ACEOF

cat >>confdefs.h <<_ACEOF
@%:@define PACKAGE_BUGREPORT "$PACKAGE_BUGREPORT"
_ACEOF

cat >>confdefs.h <<_ACEOF
@%:@define PACKAGE_URL "$PACKAGE_URL"
_ACEOF


# Let the site file select an alternate cache file if it wants to.
# Prefer an explicitly selected file to automatically selected ones.
ac_site_file1=NONE
ac_site_file2=NONE
if test -n "$CONFIG_SITE"; then
  # We do not want a PATH search for config.site.
  case $CONFIG_SITE in @%:@((
    -*)  ac_site_file1=./$CONFIG_SITE;;
    */*) ac_site_file1=$CONFIG_SITE;;
    *)   ac_site_file1=./$CONFIG_SITE;;
  esac
elif test "x$prefix" != xNONE; then
  ac_site_file1=$prefix/share/config.site
  ac_site_file2=$prefix/etc/config.site
else
  ac_site_file1=$ac_default_prefix/share/config.site
  ac_site_file2=$ac_default_prefix/etc/config.site
fi
for ac_site_file in "$ac_site_file1" "$ac_site_file2"
do
  test "x$ac_site_file" = xNONE && continue
  if test /dev/null != "$ac_site_file" && test -r "$ac_site_file"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
$as_echo "$as_me: loading site script $ac_site_file" >&6;}
    sed 's/^/| /' "$ac_site_file" >&5
    . "$ac_site_file" \
      || { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "failed to load site script $ac_site_file
See \`config.log' for more details" "$LINENO" 5; }
  fi
done

if test -r "$cache_file"; then
  # Some versions of bash will fail to source /dev/null (special files
  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.
  if test /dev/null != "$cache_file" && test -f "$cache_file"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: loading cache $cache_file" >&5
$as_echo "$as_me: loading cache $cache_file" >&6;}
    case $cache_file in
      [\\/]* | ?:[\\/]* ) . "$cache_file";;
      *)                      . "./$cache_file";;
    esac
  fi
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: creating cache $cache_file" >&5
$as_echo "$as_me: creating cache $cache_file" >&6;}
  >$cache_file
fi

# Check that the precious variables saved in the cache have kept the same
# value.
ac_cache_corrupted=false
for ac_var in $ac_precious_vars; do
  eval ac_old_set=\$ac_cv_env_${ac_var}_set
  eval ac_new_set=\$ac_env_${ac_var}_set
  eval ac_old_val=\$ac_cv_env_${ac_var}_value
  eval ac_new_val=\$ac_env_${ac_var}_value
  case $ac_old_set,$ac_new_set in
    set,)
      { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
$as_echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,set)
      { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was not set in the previous run" >&5
$as_echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,);;
    *)
      if test "x$ac_old_val" != "x$ac_new_val"; then
	# differences in whitespace do not lead to failure.
	ac_old_val_w=`echo x $ac_old_val`
	ac_new_val_w=`echo x $ac_new_val`
	if test "$ac_old_val_w" != "$ac_new_val_w"; then
	  { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' has changed since the previous run:" >&5
$as_echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
	  ac_cache_corrupted=:
	else
	  { $as_echo "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
$as_echo "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
	  eval $ac_var=\$ac_old_val
	fi
	{ $as_echo "$as_me:${as_lineno-$LINENO}:   former value:  \`$ac_old_val'" >&5
$as_echo "$as_me:   former value:  \`$ac_old_val'" >&2;}
	{ $as_echo "$as_me:${as_lineno-$LINENO}:   current value: \`$ac_new_val'" >&5
$as_echo "$as_me:   current value: \`$ac_new_val'" >&2;}
      fi;;
  esac
  # Pass precious variables to config.status.
  if test "$ac_new_set" = set; then
    case $ac_new_val in
    *\'*) ac_arg=$ac_var=`$as_echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
    *) ac_arg=$ac_var=$ac_new_val ;;
    esac
    case " $ac_configure_args " in
      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
      *) as_fn_append ac_configure_args " '$ac_arg'" ;;
    esac
  fi
done
if $ac_cache_corrupted; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
$as_echo "$as_me: error: changes in the environment can compromise the build" >&2;}
  as_fn_error $? "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
fi
## -------------------- ##
## Main body of script. ##
## -------------------- ##

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu



ac_aux_dir=
for ac_dir in config/gnu "$srcdir"/config/gnu; do
  if test -f "$ac_dir/install-sh"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f "$ac_dir/install.sh"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  elif test -f "$ac_dir/shtool"; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/shtool install -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  as_fn_error $? "cannot find install-sh, install.sh, or shtool in config/gnu \"$srcdir\"/config/gnu" "$LINENO" 5
fi

# These three variables are undocumented and unsupported,
# and are intended to be withdrawn in a future Autoconf release.
# They can cause serious problems if a builder's source tree is in a directory
# whose full name contains unusual characters.
ac_config_guess="$SHELL $ac_aux_dir/config.guess"  # Please don't use this var.
ac_config_sub="$SHELL $ac_aux_dir/config.sub"  # Please don't use this var.
ac_configure="$SHELL $ac_aux_dir/configure"  # Please don't use this var.





# ---------------------------------------------------------------------------- #

#
# Startup
#


    
  abi_sec_title="Overall startup"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Initial setup
# Make sure we can run config.sub.
$SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
  as_fn_error $? "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
$as_echo_n "checking build system type... " >&6; }
if ${ac_cv_build+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_build_alias=$build_alias
test "x$ac_build_alias" = x &&
  ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
test "x$ac_build_alias" = x &&
  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
  as_fn_error $? "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
$as_echo "$ac_cv_build" >&6; }
case $ac_cv_build in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5;;
esac
build=$ac_cv_build
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_build
shift
build_cpu=$1
build_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
build_os=$*
IFS=$ac_save_IFS
case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
$as_echo_n "checking host system type... " >&6; }
if ${ac_cv_host+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test "x$host_alias" = x; then
  ac_cv_host=$ac_cv_build
else
  ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
$as_echo "$ac_cv_host" >&6; }
case $ac_cv_host in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5;;
esac
host=$ac_cv_host
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_host
shift
host_cpu=$1
host_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
host_os=$*
IFS=$ac_save_IFS
case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking target system type" >&5
$as_echo_n "checking target system type... " >&6; }
if ${ac_cv_target+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test "x$target_alias" = x; then
  ac_cv_target=$ac_cv_host
else
  ac_cv_target=`$SHELL "$ac_aux_dir/config.sub" $target_alias` ||
    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $target_alias failed" "$LINENO" 5
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_target" >&5
$as_echo "$ac_cv_target" >&6; }
case $ac_cv_target in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical target" "$LINENO" 5;;
esac
target=$ac_cv_target
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_target
shift
target_cpu=$1
target_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
target_os=$*
IFS=$ac_save_IFS
case $target_os in *\ *) target_os=`echo "$target_os" | sed 's/ /-/g'`;; esac


# The aliases save the names the user supplied, while $host etc.
# will get canonicalized.
test -n "$target_alias" &&
  test "$program_prefix$program_suffix$program_transform_name" = \
    NONENONEs,x,x, &&
  program_prefix=${target_alias}-
# Disable pax
alias pax='/bin/false'
am__api_version='1.13'

# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AmigaOS /C/install, which installs bootblocks on floppy discs
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# OS/2's system install, which has a completely different semantic
# ./install, which can be erroneously created by make from ./install.sh.
# Reject install programs that cannot install multiple files.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install" >&5
$as_echo_n "checking for a BSD-compatible install... " >&6; }
if test -z "$INSTALL"; then
if ${ac_cv_path_install+:} false; then :
  $as_echo_n "(cached) " >&6
else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    # Account for people who put trailing slashes in PATH elements.
case $as_dir/ in @%:@((
  ./ | .// | /[cC]/* | \
  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
  ?:[\\/]os2[\\/]install[\\/]* | ?:[\\/]OS2[\\/]INSTALL[\\/]* | \
  /usr/ucb/* ) ;;
  *)
    # OSF1 and SCO ODT 3.0 have their own names for install.
    # Don't use installbsd from OSF since it installs stuff as root
    # by default.
    for ac_prog in ginstall scoinst install; do
      for ac_exec_ext in '' $ac_executable_extensions; do
	if as_fn_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
	  if test $ac_prog = install &&
	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  elif test $ac_prog = install &&
	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
	    # program-specific install script used by HP pwplus--don't use.
	    :
	  else
	    rm -rf conftest.one conftest.two conftest.dir
	    echo one > conftest.one
	    echo two > conftest.two
	    mkdir conftest.dir
	    if "$as_dir/$ac_prog$ac_exec_ext" -c conftest.one conftest.two "`pwd`/conftest.dir" &&
	      test -s conftest.one && test -s conftest.two &&
	      test -s conftest.dir/conftest.one &&
	      test -s conftest.dir/conftest.two
	    then
	      ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
	      break 3
	    fi
	  fi
	fi
      done
    done
    ;;
esac

  done
IFS=$as_save_IFS

rm -rf conftest.one conftest.two conftest.dir

fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL=$ac_cv_path_install
  else
    # As a last resort, use the slow shell script.  Don't cache a
    # value for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the value is a relative name.
    INSTALL=$ac_install_sh
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $INSTALL" >&5
$as_echo "$INSTALL" >&6; }

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether build environment is sane" >&5
$as_echo_n "checking whether build environment is sane... " >&6; }
# Reject unsafe characters in $srcdir or the absolute working directory
# name.  Accept space and tab only in the latter.
am_lf='
'
case `pwd` in
  *[\\\"\#\$\&\'\`$am_lf]*)
    as_fn_error $? "unsafe absolute working directory name" "$LINENO" 5;;
esac
case $srcdir in
  *[\\\"\#\$\&\'\`$am_lf\ \	]*)
    as_fn_error $? "unsafe srcdir value: '$srcdir'" "$LINENO" 5;;
esac

# Do 'set' in a subshell so we don't clobber the current shell's
# arguments.  Must try -L first in case configure is actually a
# symlink; some systems play weird games with the mod time of symlinks
# (eg FreeBSD returns the mod time of the symlink's containing
# directory).
if (
   am_has_slept=no
   for am_try in 1 2; do
     echo "timestamp, slept: $am_has_slept" > conftest.file
     set X `ls -Lt "$srcdir/configure" conftest.file 2> /dev/null`
     if test "$*" = "X"; then
	# -L didn't work.
	set X `ls -t "$srcdir/configure" conftest.file`
     fi
     if test "$*" != "X $srcdir/configure conftest.file" \
	&& test "$*" != "X conftest.file $srcdir/configure"; then

	# If neither matched, then we have a broken ls.  This can happen
	# if, for instance, CONFIG_SHELL is bash and it inherits a
	# broken ls alias from the environment.  This has actually
	# happened.  Such a system could not be considered "sane".
	as_fn_error $? "ls -t appears to fail.  Make sure there is not a broken
  alias in your environment" "$LINENO" 5
     fi
     if test "$2" = conftest.file || test $am_try -eq 2; then
       break
     fi
     # Just in case.
     sleep 1
     am_has_slept=yes
   done
   test "$2" = conftest.file
   )
then
   # Ok.
   :
else
   as_fn_error $? "newly created file is older than distributed files!
Check your system clock" "$LINENO" 5
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
# If we didn't sleep, we still need to ensure time stamps of config.status and
# generated files are strictly newer.
am_sleep_pid=
if grep 'slept: no' conftest.file >/dev/null 2>&1; then
  ( sleep 1 ) &
  am_sleep_pid=$!
fi

rm -f conftest.file

test "$program_prefix" != NONE &&
  program_transform_name="s&^&$program_prefix&;$program_transform_name"
# Use a double $ so make ignores it.
test "$program_suffix" != NONE &&
  program_transform_name="s&\$&$program_suffix&;$program_transform_name"
# Double any \ or $.
# By default was `s,x,x', remove it if useless.
ac_script='s/[\\$]/&&/g;s/;s,x,x,$//'
program_transform_name=`$as_echo "$program_transform_name" | sed "$ac_script"`

# expand $ac_aux_dir to an absolute path
am_aux_dir=`cd $ac_aux_dir && pwd`

if test x"${MISSING+set}" != xset; then
  case $am_aux_dir in
  *\ * | *\	*)
    MISSING="\${SHELL} \"$am_aux_dir/missing\"" ;;
  *)
    MISSING="\${SHELL} $am_aux_dir/missing" ;;
  esac
fi
# Use eval to expand $SHELL
if eval "$MISSING --is-lightweight"; then
  am_missing_run="$MISSING "
else
  am_missing_run=
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: 'missing' script is too old or missing" >&5
$as_echo "$as_me: WARNING: 'missing' script is too old or missing" >&2;}
fi

if test x"${install_sh}" != xset; then
  case $am_aux_dir in
  *\ * | *\	*)
    install_sh="\${SHELL} '$am_aux_dir/install-sh'" ;;
  *)
    install_sh="\${SHELL} $am_aux_dir/install-sh"
  esac
fi

# Installed binaries are usually stripped using 'strip' when the user
# run "make install-strip".  However 'strip' might not be the right
# tool to use in cross-compilation environments, therefore Automake
# will honor the 'STRIP' environment variable to overrule this program.
if test "$cross_compiling" != no; then
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}strip", so it can be a program name with args.
set dummy ${ac_tool_prefix}strip; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_STRIP+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$STRIP"; then
  ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_STRIP="${ac_tool_prefix}strip"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
STRIP=$ac_cv_prog_STRIP
if test -n "$STRIP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $STRIP" >&5
$as_echo "$STRIP" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_STRIP"; then
  ac_ct_STRIP=$STRIP
  # Extract the first word of "strip", so it can be a program name with args.
set dummy strip; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_STRIP+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_STRIP"; then
  ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_STRIP="strip"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
if test -n "$ac_ct_STRIP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_STRIP" >&5
$as_echo "$ac_ct_STRIP" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

  if test "x$ac_ct_STRIP" = x; then
    STRIP=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    STRIP=$ac_ct_STRIP
  fi
else
  STRIP="$ac_cv_prog_STRIP"
fi

fi
INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for a thread-safe mkdir -p" >&5
$as_echo_n "checking for a thread-safe mkdir -p... " >&6; }
if test -z "$MKDIR_P"; then
  if ${ac_cv_path_mkdir+:} false; then :
  $as_echo_n "(cached) " >&6
else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in mkdir gmkdir; do
	 for ac_exec_ext in '' $ac_executable_extensions; do
	   as_fn_executable_p "$as_dir/$ac_prog$ac_exec_ext" || continue
	   case `"$as_dir/$ac_prog$ac_exec_ext" --version 2>&1` in #(
	     'mkdir (GNU coreutils) '* | \
	     'mkdir (coreutils) '* | \
	     'mkdir (fileutils) '4.1*)
	       ac_cv_path_mkdir=$as_dir/$ac_prog$ac_exec_ext
	       break 3;;
	   esac
	 done
       done
  done
IFS=$as_save_IFS

fi

  test -d ./--version && rmdir ./--version
  if test "${ac_cv_path_mkdir+set}" = set; then
    MKDIR_P="$ac_cv_path_mkdir -p"
  else
    # As a last resort, use the slow shell script.  Don't cache a
    # value for MKDIR_P within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the value is a relative name.
    MKDIR_P="$ac_install_sh -d"
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $MKDIR_P" >&5
$as_echo "$MKDIR_P" >&6; }

for ac_prog in gawk mawk nawk awk
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_AWK+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$AWK"; then
  ac_cv_prog_AWK="$AWK" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_AWK="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
AWK=$ac_cv_prog_AWK
if test -n "$AWK"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $AWK" >&5
$as_echo "$AWK" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$AWK" && break
done

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \$(MAKE)" >&5
$as_echo_n "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
set x ${MAKE-make}
ac_make=`$as_echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
if eval \${ac_cv_prog_make_${ac_make}_set+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat >conftest.make <<\_ACEOF
SHELL = /bin/sh
all:
	@echo '@@@%%%=$(MAKE)=@@@%%%'
_ACEOF
# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
case `${MAKE-make} -f conftest.make 2>/dev/null` in
  *@@@%%%=?*=@@@%%%*)
    eval ac_cv_prog_make_${ac_make}_set=yes;;
  *)
    eval ac_cv_prog_make_${ac_make}_set=no;;
esac
rm -f conftest.make
fi
if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
  SET_MAKE=
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  SET_MAKE="MAKE=${MAKE-make}"
fi

rm -rf .tst 2>/dev/null
mkdir .tst 2>/dev/null
if test -d .tst; then
  am__leading_dot=.
else
  am__leading_dot=_
fi
rmdir .tst 2>/dev/null

@%:@ Check whether --enable-silent-rules was given.
if test "${enable_silent_rules+set}" = set; then :
  enableval=$enable_silent_rules; 
fi

case $enable_silent_rules in @%:@ (((
  yes) AM_DEFAULT_VERBOSITY=0;;
   no) AM_DEFAULT_VERBOSITY=1;;
    *) AM_DEFAULT_VERBOSITY=1;;
esac
am_make=${MAKE-make}
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $am_make supports nested variables" >&5
$as_echo_n "checking whether $am_make supports nested variables... " >&6; }
if ${am_cv_make_support_nested_variables+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if $as_echo 'TRUE=$(BAR$(V))
BAR0=false
BAR1=true
V=1
am__doit:
	@$(TRUE)
.PHONY: am__doit' | $am_make -f - >/dev/null 2>&1; then
  am_cv_make_support_nested_variables=yes
else
  am_cv_make_support_nested_variables=no
fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_make_support_nested_variables" >&5
$as_echo "$am_cv_make_support_nested_variables" >&6; }
if test $am_cv_make_support_nested_variables = yes; then
    AM_V='$(V)'
  AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'
else
  AM_V=$AM_DEFAULT_VERBOSITY
  AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY
fi
AM_BACKSLASH='\'

if test "`cd $srcdir && pwd`" != "`pwd`"; then
  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
  # is not polluted with repeated "-I."
  am__isrc=' -I$(srcdir)'
  # test to see if srcdir already configured
  if test -f $srcdir/config.status; then
    as_fn_error $? "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
  fi
fi

# test whether we have cygpath
if test -z "$CYGPATH_W"; then
  if (cygpath --version) >/dev/null 2>/dev/null; then
    CYGPATH_W='cygpath -w'
  else
    CYGPATH_W=echo
  fi
fi


# Define the identity of the package.
 PACKAGE='abinit'
 VERSION='8.10.2'


cat >>confdefs.h <<_ACEOF
@%:@define PACKAGE "$PACKAGE"
_ACEOF

 
cat >>confdefs.h <<_ACEOF
@%:@define VERSION "$VERSION"
_ACEOF

# Some tools Automake needs.

ACLOCAL=${ACLOCAL-"${am_missing_run}aclocal-${am__api_version}"}


AUTOCONF=${AUTOCONF-"${am_missing_run}autoconf"}


AUTOMAKE=${AUTOMAKE-"${am_missing_run}automake-${am__api_version}"}


AUTOHEADER=${AUTOHEADER-"${am_missing_run}autoheader"}


MAKEINFO=${MAKEINFO-"${am_missing_run}makeinfo"}

# For better backward compatibility.  To be removed once Automake 1.9.x
# dies out for good.  For more background, see:
# <http://lists.gnu.org/archive/html/automake/2012-07/msg00001.html>
# <http://lists.gnu.org/archive/html/automake/2012-07/msg00014.html>
mkdir_p='$(MKDIR_P)'

# We need awk for the "check" target.  The system "awk" is bad on
# some platforms.
# Always define AMTAR for backward compatibility.  Yes, it's still used
# in the wild :-(  We should find a proper way to deprecate it ...
AMTAR='$${TAR-tar}'


# We'll loop over all known methods to create a tar archive until one works.
_am_tools='gnutar plaintar pax cpio none'

# The POSIX 1988 'ustar' format is defined with fixed-size fields.
      # There is notably a 21 bits limit for the UID and the GID.  In fact,
      # the 'pax' utility can hang on bigger UID/GID (see automake bug#8343
      # and bug#13588).
      am_max_uid=2097151 # 2^21 - 1
      am_max_gid=$am_max_uid
      # The $UID and $GID variables are not portable, so we need to resort
      # to the POSIX-mandated id(1) utility.  Errors in the 'id' calls
      # below are definitely unexpected, so allow the users to see them
      # (that is, avoid stderr redirection).
      am_uid=`id -u || echo unknown`
      am_gid=`id -g || echo unknown`
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether UID '$am_uid' is supported by ustar format" >&5
$as_echo_n "checking whether UID '$am_uid' is supported by ustar format... " >&6; }
      if test $am_uid -le $am_max_uid; then
         { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
      else
         { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
         _am_tools=none
      fi
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether GID '$am_gid' is supported by ustar format" >&5
$as_echo_n "checking whether GID '$am_gid' is supported by ustar format... " >&6; }
      if test $am_gid -le $am_max_gid; then
         { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
      else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
        _am_tools=none
      fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking how to create a ustar tar archive" >&5
$as_echo_n "checking how to create a ustar tar archive... " >&6; }

  # Go ahead even if we have the value already cached.  We do so because we
  # need to set the values for the 'am__tar' and 'am__untar' variables.
  _am_tools=${am_cv_prog_tar_ustar-$_am_tools}

  for _am_tool in $_am_tools; do
    case $_am_tool in
    gnutar)
      for _am_tar in tar gnutar gtar; do
        { echo "$as_me:$LINENO: $_am_tar --version" >&5
   ($_am_tar --version) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); } && break
      done
      am__tar="$_am_tar --format=ustar -chf - "'"$$tardir"'
      am__tar_="$_am_tar --format=ustar -chf - "'"$tardir"'
      am__untar="$_am_tar -xf -"
      ;;
    plaintar)
      # Must skip GNU tar: if it does not support --format= it doesn't create
      # ustar tarball either.
      (tar --version) >/dev/null 2>&1 && continue
      am__tar='tar chf - "$$tardir"'
      am__tar_='tar chf - "$tardir"'
      am__untar='tar xf -'
      ;;
    pax)
      am__tar='pax -L -x ustar -w "$$tardir"'
      am__tar_='pax -L -x ustar -w "$tardir"'
      am__untar='pax -r'
      ;;
    cpio)
      am__tar='find "$$tardir" -print | cpio -o -H ustar -L'
      am__tar_='find "$tardir" -print | cpio -o -H ustar -L'
      am__untar='cpio -i -H ustar -d'
      ;;
    none)
      am__tar=false
      am__tar_=false
      am__untar=false
      ;;
    esac

    # If the value was cached, stop now.  We just wanted to have am__tar
    # and am__untar set.
    test -n "${am_cv_prog_tar_ustar}" && break

    # tar/untar a dummy directory, and stop if the command works.
    rm -rf conftest.dir
    mkdir conftest.dir
    echo GrepMe > conftest.dir/file
    { echo "$as_me:$LINENO: tardir=conftest.dir && eval $am__tar_ >conftest.tar" >&5
   (tardir=conftest.dir && eval $am__tar_ >conftest.tar) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
    rm -rf conftest.dir
    if test -s conftest.tar; then
      { echo "$as_me:$LINENO: $am__untar <conftest.tar" >&5
   ($am__untar <conftest.tar) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
      { echo "$as_me:$LINENO: cat conftest.dir/file" >&5
   (cat conftest.dir/file) >&5 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
      grep GrepMe conftest.dir/file >/dev/null 2>&1 && break
    fi
  done
  rm -rf conftest.dir

  if ${am_cv_prog_tar_ustar+:} false; then :
  $as_echo_n "(cached) " >&6
else
  am_cv_prog_tar_ustar=$_am_tool
fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_prog_tar_ustar" >&5
$as_echo "$am_cv_prog_tar_ustar" >&6; }






unalias pax
ac_config_headers="$ac_config_headers config.h"


# Early Abinit setup - the order is important!

    ac_builddir=.

case "." in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`$as_echo "." | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix

  abinit_srcdir="${ac_abs_top_srcdir}"
  abinit_builddir="${ac_abs_top_builddir}"
  abinit_moddir="${abinit_builddir}/src/mods"

  export abinit_srcdir abinit_builddir

  
  
  


    ABINIT_VERSION="${PACKAGE_VERSION}"
  ABINIT_VERSION_MAJOR=`echo "${ABINIT_VERSION}" | cut -d. -s -f1`
  ABINIT_VERSION_MINOR=`echo "${ABINIT_VERSION}" | cut -d. -s -f2`
  ABINIT_VERSION_MICRO=`echo "${ABINIT_VERSION}" | cut -d. -s -f3`
  ABINIT_VERSION_MINOR=`echo "${ABINIT_VERSION_MINOR}" | sed -e 's/a-z//g'`
  if test "${ABINIT_VERSION_MICRO}" = ""; then
    ABINIT_VERSION_MICRO=`echo "${ABINIT_VERSION}" | cut -b4-`
  fi
  if test "${ABINIT_VERSION_MICRO}" = ""; then
    ABINIT_VERSION_MICRO="dev"
  fi
  ABINIT_VERSION_BUILD=`date '+%Y%m%d'`

  ABINIT_VERSION_BASE="${ABINIT_VERSION_MAJOR}.${ABINIT_VERSION_MINOR}"

    
cat >>confdefs.h <<_ACEOF
@%:@define ABINIT_VERSION "${ABINIT_VERSION}"
_ACEOF

  
cat >>confdefs.h <<_ACEOF
@%:@define ABINIT_VERSION_MAJOR "${ABINIT_VERSION_MAJOR}"
_ACEOF

  
cat >>confdefs.h <<_ACEOF
@%:@define ABINIT_VERSION_MINOR "${ABINIT_VERSION_MINOR}"
_ACEOF

  
cat >>confdefs.h <<_ACEOF
@%:@define ABINIT_VERSION_MICRO "${ABINIT_VERSION_MICRO}"
_ACEOF

  
cat >>confdefs.h <<_ACEOF
@%:@define ABINIT_VERSION_BUILD "${ABINIT_VERSION_BUILD}"
_ACEOF

  
cat >>confdefs.h <<_ACEOF
@%:@define ABINIT_VERSION_BASE "${ABINIT_VERSION_BASE}"
_ACEOF

  
  
  
  
  
  


  abi_cpu_platform=`echo "${target}" | cut -d- -f2`
  abi_cpu_vendor=""
  abi_cpu_model=""
  abi_cpu_spec=""
  abi_cpu_bits=""
  abi_cpu_64bits=""

  case "${target}" in

    alpha*)
      abi_cpu_vendor="dec"
      abi_cpu_model="${target_cpu}"
      abi_cpu_64bits=`echo "${abi_cpu_model}" | grep '64$'`
      if test "${abi_cpu_64bits}" = ""; then
        abi_cpu_64bits="no"
        abi_cpu_bits="32"
      else
        abi_cpu_64bits="yes"
        abi_cpu_bits="64"
      fi
      ;;

    powerpc*)
      abi_cpu_vendor="ibm"
      abi_cpu_model="${target_cpu}"
      abi_cpu_64bits=`echo "${abi_cpu_model}" | grep '64$'`
      if test "${abi_cpu_64bits}" = ""; then
        abi_cpu_64bits="no"
        abi_cpu_bits="32"
      else
        abi_cpu_64bits="yes"
        abi_cpu_bits="64"
      fi
      ;;

    i686-*linux*)
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Athlon'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="amd"
          abi_cpu_model="athlon"
          abi_cpu_64bits="no"
          abi_cpu_bits="32"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Pentium III'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="pentium3"
          abi_cpu_64bits="no"
          abi_cpu_bits="32"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Intel(R) Pentium(R) 4'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="pentium4"
          abi_cpu_64bits="no"
          abi_cpu_bits="32"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Intel(R) Pentium(R) M'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="pentium4"
          abi_cpu_64bits="no"
          abi_cpu_bits="32"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Intel(R) CPU           T2400'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="centrino"
          abi_cpu_64bits="no"
          abi_cpu_bits="32"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Intel(R) CPU           T2050'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="coreduo"
          abi_cpu_64bits="no"
          abi_cpu_bits="32"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Intel(R) Core(TM)2 CPU'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="core2"
          abi_cpu_64bits="no"
          abi_cpu_bits="32"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Intel(R) Core(TM)2 Quad CPU'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="core2"
          abi_cpu_64bits="no"
          abi_cpu_bits="32"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_vendor="unknown"
        abi_cpu_model="unknown"
        abi_cpu_64bits="unknown"
        abi_cpu_bits="32"
      fi
      ;;

    ia64-*linux*)
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Itanium' | grep -v 'Itanium 2'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="itanium1"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Itanium 2'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="itanium2"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat /proc/cpuinfo | grep 'Madison'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="itanium2"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_vendor="unknown"
        abi_cpu_model="unknown"
      fi
            abi_cpu_64bits="yes"
      abi_cpu_bits="64"
      ;;

    mips*irix*)
      # Get processor type
      abi_cpu_vendor="mips"
      abi_cpu_model=`hinv 2> /dev/null | grep '^CPU: MIPS '`
      if test "${abi_cpu_model}" != ""; then
        abi_cpu_model=`echo "${abi_cpu_model}" | awk '{print tolower()}'`
      fi
      abi_cpu_64bits="yes"
      abi_cpu_bits="64"
      ;;

    x86_64-*linux*|x86_64*apple*)
      case "${target}" in
      x86_64-*linux*)
         cp /proc/cpuinfo cpuinfo
         ;;
      x86_64-*apple*)
         sysctl -A | grep 'machdep.cpu.brand_string' > cpuinfo
         ;;
      esac
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat cpuinfo | grep 'Athlon'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="amd"
          abi_cpu_model="athlon64"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat cpuinfo | grep 'Opteron'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="amd"
          abi_cpu_model="opteron"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat cpuinfo | grep 'Sempron'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="amd"
          abi_cpu_model="athlon64"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat cpuinfo | grep 'Intel(R) Core(TM)2'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="core2"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat cpuinfo | grep 'Intel(R) Core(TM)2 Quad'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="core2"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat cpuinfo | grep 'Intel(R) Core(TM) i3'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="core_i3"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat cpuinfo | grep 'Intel(R) XEON(TM)'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="xeon"
        fi
      fi
      if test "${abi_cpu_model}" = ""; then
        abi_cpu_model=`cat cpuinfo | grep 'Intel(R) Xeon(R)'`
        if test "${abi_cpu_model}" != ""; then
          abi_cpu_vendor="intel"
          abi_cpu_model="xeon"
        fi
      fi
            if test "${abi_cpu_model}" = ""; then
        abi_cpu_vendor="unknown"
        abi_cpu_model="unknown"
      fi
            abi_cpu_64bits="yes"
      abi_cpu_bits="64"
      rm -rf cpuinfo
      ;;

  esac

    abi_cpu_spec="${abi_cpu_vendor}_${abi_cpu_model}"

    abi_sys_spec=`echo "${target_os}" | cut -d- -f1 | sed -e 's/[0-9].*//'`
  abi_sys_spec="${abi_sys_spec}-${target_cpu}"

  
  
  
  
  
  
  


  case "${target_os}" in

    *linux*)
      
$as_echo "@%:@define HAVE_OS_LINUX 1" >>confdefs.h

      ;;

    *apple*)
      
$as_echo "@%:@define HAVE_OS_MACOSX 1" >>confdefs.h

      ;;

    *cygwin*|*mingw*)
      
$as_echo "@%:@define HAVE_OS_WINDOWS 1" >>confdefs.h

      ;;

  esac


    

    


    case "${target}" in
    *apple*)
      abi_so_ext="dylib"
      ;;
    *)
      abi_so_ext="so"
      ;;
  esac


# Check for common programs
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \$(MAKE)" >&5
$as_echo_n "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
set x ${MAKE-make}
ac_make=`$as_echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
if eval \${ac_cv_prog_make_${ac_make}_set+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat >conftest.make <<\_ACEOF
SHELL = /bin/sh
all:
	@echo '@@@%%%=$(MAKE)=@@@%%%'
_ACEOF
# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
case `${MAKE-make} -f conftest.make 2>/dev/null` in
  *@@@%%%=?*=@@@%%%*)
    eval ac_cv_prog_make_${ac_make}_set=yes;;
  *)
    eval ac_cv_prog_make_${ac_make}_set=no;;
esac
rm -f conftest.make
fi
if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
  SET_MAKE=
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  SET_MAKE="MAKE=${MAKE-make}"
fi


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ln -s works" >&5
$as_echo_n "checking whether ln -s works... " >&6; }
LN_S=$as_ln_s
if test "$LN_S" = "ln -s"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no, using $LN_S" >&5
$as_echo "no, using $LN_S" >&6; }
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for a sed that does not truncate output" >&5
$as_echo_n "checking for a sed that does not truncate output... " >&6; }
if ${ac_cv_path_SED+:} false; then :
  $as_echo_n "(cached) " >&6
else
            ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
     for ac_i in 1 2 3 4 5 6 7; do
       ac_script="$ac_script$as_nl$ac_script"
     done
     echo "$ac_script" 2>/dev/null | sed 99q >conftest.sed
     { ac_script=; unset ac_script;}
     if test -z "$SED"; then
  ac_path_SED_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in sed gsed; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_SED="$as_dir/$ac_prog$ac_exec_ext"
      as_fn_executable_p "$ac_path_SED" || continue
# Check for GNU ac_path_SED and select it if it is found.
  # Check for GNU $ac_path_SED
case `"$ac_path_SED" --version 2>&1` in
*GNU*)
  ac_cv_path_SED="$ac_path_SED" ac_path_SED_found=:;;
*)
  ac_count=0
  $as_echo_n 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    $as_echo '' >> "conftest.nl"
    "$ac_path_SED" -f conftest.sed < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_SED_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_SED="$ac_path_SED"
      ac_path_SED_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_SED_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_SED"; then
    as_fn_error $? "no acceptable sed could be found in \$PATH" "$LINENO" 5
  fi
else
  ac_cv_path_SED=$SED
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_SED" >&5
$as_echo "$ac_cv_path_SED" >&6; }
 SED="$ac_cv_path_SED"
  rm -f conftest.sed

for ac_prog in gawk mawk nawk awk
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_AWK+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$AWK"; then
  ac_cv_prog_AWK="$AWK" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_AWK="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
AWK=$ac_cv_prog_AWK
if test -n "$AWK"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $AWK" >&5
$as_echo "$AWK" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$AWK" && break
done

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
$as_echo_n "checking for grep that handles long lines and -e... " >&6; }
if ${ac_cv_path_GREP+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -z "$GREP"; then
  ac_path_GREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in grep ggrep; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_GREP="$as_dir/$ac_prog$ac_exec_ext"
      as_fn_executable_p "$ac_path_GREP" || continue
# Check for GNU ac_path_GREP and select it if it is found.
  # Check for GNU $ac_path_GREP
case `"$ac_path_GREP" --version 2>&1` in
*GNU*)
  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
*)
  ac_count=0
  $as_echo_n 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    $as_echo 'GREP' >> "conftest.nl"
    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_GREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_GREP="$ac_path_GREP"
      ac_path_GREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_GREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_GREP"; then
    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_GREP=$GREP
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
$as_echo "$ac_cv_path_GREP" >&6; }
 GREP="$ac_cv_path_GREP"
 


# Workaround for the "grep -e" issue on Solaris systems
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
$as_echo_n "checking for egrep... " >&6; }
if ${ac_cv_path_EGREP+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
   then ac_cv_path_EGREP="$GREP -E"
   else
     if test -z "$EGREP"; then
  ac_path_EGREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in egrep; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_EGREP="$as_dir/$ac_prog$ac_exec_ext"
      as_fn_executable_p "$ac_path_EGREP" || continue
# Check for GNU ac_path_EGREP and select it if it is found.
  # Check for GNU $ac_path_EGREP
case `"$ac_path_EGREP" --version 2>&1` in
*GNU*)
  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
*)
  ac_count=0
  $as_echo_n 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    $as_echo 'EGREP' >> "conftest.nl"
    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_EGREP="$ac_path_EGREP"
      ac_path_EGREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac

      $ac_path_EGREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_EGREP"; then
    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_EGREP=$EGREP
fi

   fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
$as_echo "$ac_cv_path_EGREP" >&6; }
 EGREP="$ac_cv_path_EGREP"
 


# Workaround for the wrong path to install-sh on Mac systems

  
  abi_tmp_mkdir_p=`echo "${MKDIR_P}" | awk '{print $1}'`
  if test "${abi_tmp_mkdir_p}" = "config/gnu/install-sh"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: fixing wrong path to mkdir replacement" >&5
$as_echo "$as_me: fixing wrong path to mkdir replacement" >&6;}
    MKDIR_P="${abinit_srcdir}/${MKDIR_P}"
  fi
  unset abi_tmp_mkdir_p


# Look for a command that provide absolute paths
for ac_prog in realpath,readlink
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_REALPATH+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$REALPATH"; then
  ac_cv_prog_REALPATH="$REALPATH" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_REALPATH="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
REALPATH=$ac_cv_prog_REALPATH
if test -n "$REALPATH"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $REALPATH" >&5
$as_echo "$REALPATH" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$REALPATH" && break
done
test -n "$REALPATH" || REALPATH="true"

test "${REALPATH}" = "readlink" && REALPATH="${REALPATH} -f"

# Define command-line arguments


      
  @%:@ Check whether --enable-64bit-flags was given.
if test "${enable_64bit_flags+set}" = set; then :
  enableval=$enable_64bit_flags; 
fi

  

  @%:@ Check whether --enable-avx-safe-mode was given.
if test "${enable_avx_safe_mode+set}" = set; then :
  enableval=$enable_avx_safe_mode; 
fi

  

  @%:@ Check whether --enable-bse-unpacked was given.
if test "${enable_bse_unpacked+set}" = set; then :
  enableval=$enable_bse_unpacked; 
fi

  

  @%:@ Check whether --enable-cclock was given.
if test "${enable_cclock+set}" = set; then :
  enableval=$enable_cclock; 
fi

  

  @%:@ Check whether --enable-config-file was given.
if test "${enable_config_file+set}" = set; then :
  enableval=$enable_config_file; 
fi

  

  @%:@ Check whether --enable-connectors was given.
if test "${enable_connectors+set}" = set; then :
  enableval=$enable_connectors; 
fi

  

  @%:@ Check whether --enable-debug was given.
if test "${enable_debug+set}" = set; then :
  enableval=$enable_debug; 
fi

  

  @%:@ Check whether --enable-exports was given.
if test "${enable_exports+set}" = set; then :
  enableval=$enable_exports; 
fi

  

  @%:@ Check whether --enable-fallbacks was given.
if test "${enable_fallbacks+set}" = set; then :
  enableval=$enable_fallbacks; 
fi

  

  @%:@ Check whether --enable-fast-check was given.
if test "${enable_fast_check+set}" = set; then :
  enableval=$enable_fast_check; 
fi

  

  @%:@ Check whether --enable-fc-wrapper was given.
if test "${enable_fc_wrapper+set}" = set; then :
  enableval=$enable_fc_wrapper; 
fi

  

  @%:@ Check whether --enable-gpu was given.
if test "${enable_gpu+set}" = set; then :
  enableval=$enable_gpu; 
fi

  

  @%:@ Check whether --enable-gw-dpc was given.
if test "${enable_gw_dpc+set}" = set; then :
  enableval=$enable_gw_dpc; 
fi

  

  @%:@ Check whether --enable-hints was given.
if test "${enable_hints+set}" = set; then :
  enableval=$enable_hints; 
fi

  

  @%:@ Check whether --enable-lotf was given.
if test "${enable_lotf+set}" = set; then :
  enableval=$enable_lotf; 
fi

  

  @%:@ Check whether --enable-macroave was given.
if test "${enable_macroave+set}" = set; then :
  enableval=$enable_macroave; 
fi

  

  @%:@ Check whether --enable-maintainer-checks was given.
if test "${enable_maintainer_checks+set}" = set; then :
  enableval=$enable_maintainer_checks; 
fi

  

  @%:@ Check whether --enable-memory-profiling was given.
if test "${enable_memory_profiling+set}" = set; then :
  enableval=$enable_memory_profiling; 
fi

  

  @%:@ Check whether --enable-mpi was given.
if test "${enable_mpi+set}" = set; then :
  enableval=$enable_mpi; 
fi

  

  @%:@ Check whether --enable-mpi-inplace was given.
if test "${enable_mpi_inplace+set}" = set; then :
  enableval=$enable_mpi_inplace; 
fi

  

  @%:@ Check whether --enable-mpi-io was given.
if test "${enable_mpi_io+set}" = set; then :
  enableval=$enable_mpi_io; 
fi

  

  @%:@ Check whether --enable-mpi-io-default was given.
if test "${enable_mpi_io_default+set}" = set; then :
  enableval=$enable_mpi_io_default; 
fi

  

  @%:@ Check whether --enable-netcdf-default was given.
if test "${enable_netcdf_default+set}" = set; then :
  enableval=$enable_netcdf_default; 
fi

  

  @%:@ Check whether --enable-openmp was given.
if test "${enable_openmp+set}" = set; then :
  enableval=$enable_openmp; 
fi

  

  @%:@ Check whether --enable-optim was given.
if test "${enable_optim+set}" = set; then :
  enableval=$enable_optim; 
fi

  

  @%:@ Check whether --enable-stdin was given.
if test "${enable_stdin+set}" = set; then :
  enableval=$enable_stdin; 
fi

  

  @%:@ Check whether --enable-triqs-v1-4 was given.
if test "${enable_triqs_v1_4+set}" = set; then :
  enableval=$enable_triqs_v1_4; 
fi

  

  @%:@ Check whether --enable-triqs-v2-0 was given.
if test "${enable_triqs_v2_0+set}" = set; then :
  enableval=$enable_triqs_v2_0; 
fi

  

  @%:@ Check whether --enable-wannier90-v1 was given.
if test "${enable_wannier90_v1+set}" = set; then :
  enableval=$enable_wannier90_v1; 
fi

  

  @%:@ Check whether --enable-xml was given.
if test "${enable_xml+set}" = set; then :
  enableval=$enable_xml; 
fi

  

  @%:@ Check whether --enable-zdot-bugfix was given.
if test "${enable_zdot_bugfix+set}" = set; then :
  enableval=$enable_zdot_bugfix; 
fi

  

      
  
@%:@ Check whether --with-algo-flavor was given.
if test "${with_algo_flavor+set}" = set; then :
  withval=$with_algo_flavor; 
fi

  

  
@%:@ Check whether --with-algo-incs was given.
if test "${with_algo_incs+set}" = set; then :
  withval=$with_algo_incs; 
fi

  

  
@%:@ Check whether --with-algo-libs was given.
if test "${with_algo_libs+set}" = set; then :
  withval=$with_algo_libs; 
fi

  

  
@%:@ Check whether --with-atompaw-bins was given.
if test "${with_atompaw_bins+set}" = set; then :
  withval=$with_atompaw_bins; 
fi

  

  
@%:@ Check whether --with-atompaw-incs was given.
if test "${with_atompaw_incs+set}" = set; then :
  withval=$with_atompaw_incs; 
fi

  

  
@%:@ Check whether --with-atompaw-libs was given.
if test "${with_atompaw_libs+set}" = set; then :
  withval=$with_atompaw_libs; 
fi

  

  
@%:@ Check whether --with-bigdft-incs was given.
if test "${with_bigdft_incs+set}" = set; then :
  withval=$with_bigdft_incs; 
fi

  

  
@%:@ Check whether --with-bigdft-libs was given.
if test "${with_bigdft_libs+set}" = set; then :
  withval=$with_bigdft_libs; 
fi

  

  
@%:@ Check whether --with-config-file was given.
if test "${with_config_file+set}" = set; then :
  withval=$with_config_file; 
fi

  

  
@%:@ Check whether --with-dft-flavor was given.
if test "${with_dft_flavor+set}" = set; then :
  withval=$with_dft_flavor; 
fi

  

  
@%:@ Check whether --with-fc-vendor was given.
if test "${with_fc_vendor+set}" = set; then :
  withval=$with_fc_vendor; 
fi

  

  
@%:@ Check whether --with-fc-version was given.
if test "${with_fc_version+set}" = set; then :
  withval=$with_fc_version; 
fi

  

  
@%:@ Check whether --with-fft-flavor was given.
if test "${with_fft_flavor+set}" = set; then :
  withval=$with_fft_flavor; 
fi

  

  
@%:@ Check whether --with-fft-incs was given.
if test "${with_fft_incs+set}" = set; then :
  withval=$with_fft_incs; 
fi

  

  
@%:@ Check whether --with-fft-libs was given.
if test "${with_fft_libs+set}" = set; then :
  withval=$with_fft_libs; 
fi

  

  
@%:@ Check whether --with-gpu-cflags was given.
if test "${with_gpu_cflags+set}" = set; then :
  withval=$with_gpu_cflags; 
fi

  

  
@%:@ Check whether --with-gpu-cppflags was given.
if test "${with_gpu_cppflags+set}" = set; then :
  withval=$with_gpu_cppflags; 
fi

  

  
@%:@ Check whether --with-gpu-flavor was given.
if test "${with_gpu_flavor+set}" = set; then :
  withval=$with_gpu_flavor; 
fi

  

  
@%:@ Check whether --with-gpu-incs was given.
if test "${with_gpu_incs+set}" = set; then :
  withval=$with_gpu_incs; 
fi

  

  
@%:@ Check whether --with-gpu-ldflags was given.
if test "${with_gpu_ldflags+set}" = set; then :
  withval=$with_gpu_ldflags; 
fi

  

  
@%:@ Check whether --with-gpu-libs was given.
if test "${with_gpu_libs+set}" = set; then :
  withval=$with_gpu_libs; 
fi

  

  
@%:@ Check whether --with-gpu-prefix was given.
if test "${with_gpu_prefix+set}" = set; then :
  withval=$with_gpu_prefix; 
fi

  

  
@%:@ Check whether --with-libxc-incs was given.
if test "${with_libxc_incs+set}" = set; then :
  withval=$with_libxc_incs; 
fi

  

  
@%:@ Check whether --with-libxc-libs was given.
if test "${with_libxc_libs+set}" = set; then :
  withval=$with_libxc_libs; 
fi

  

  
@%:@ Check whether --with-linalg-flavor was given.
if test "${with_linalg_flavor+set}" = set; then :
  withval=$with_linalg_flavor; 
fi

  

  
@%:@ Check whether --with-linalg-incs was given.
if test "${with_linalg_incs+set}" = set; then :
  withval=$with_linalg_incs; 
fi

  

  
@%:@ Check whether --with-linalg-libs was given.
if test "${with_linalg_libs+set}" = set; then :
  withval=$with_linalg_libs; 
fi

  

  
@%:@ Check whether --with-math-flavor was given.
if test "${with_math_flavor+set}" = set; then :
  withval=$with_math_flavor; 
fi

  

  
@%:@ Check whether --with-math-incs was given.
if test "${with_math_incs+set}" = set; then :
  withval=$with_math_incs; 
fi

  

  
@%:@ Check whether --with-math-libs was given.
if test "${with_math_libs+set}" = set; then :
  withval=$with_math_libs; 
fi

  

  
@%:@ Check whether --with-mpi-incs was given.
if test "${with_mpi_incs+set}" = set; then :
  withval=$with_mpi_incs; 
fi

  

  
@%:@ Check whether --with-mpi-level was given.
if test "${with_mpi_level+set}" = set; then :
  withval=$with_mpi_level; 
fi

  

  
@%:@ Check whether --with-mpi-libs was given.
if test "${with_mpi_libs+set}" = set; then :
  withval=$with_mpi_libs; 
fi

  

  
@%:@ Check whether --with-mpi-prefix was given.
if test "${with_mpi_prefix+set}" = set; then :
  withval=$with_mpi_prefix; 
fi

  

  
@%:@ Check whether --with-netcdf-incs was given.
if test "${with_netcdf_incs+set}" = set; then :
  withval=$with_netcdf_incs; 
fi

  

  
@%:@ Check whether --with-netcdf-libs was given.
if test "${with_netcdf_libs+set}" = set; then :
  withval=$with_netcdf_libs; 
fi

  

  
@%:@ Check whether --with-psml-incs was given.
if test "${with_psml_incs+set}" = set; then :
  withval=$with_psml_incs; 
fi

  

  
@%:@ Check whether --with-psml-libs was given.
if test "${with_psml_libs+set}" = set; then :
  withval=$with_psml_libs; 
fi

  

  
@%:@ Check whether --with-tardir was given.
if test "${with_tardir+set}" = set; then :
  withval=$with_tardir; 
fi

  

  
@%:@ Check whether --with-timer-flavor was given.
if test "${with_timer_flavor+set}" = set; then :
  withval=$with_timer_flavor; 
fi

  

  
@%:@ Check whether --with-timer-incs was given.
if test "${with_timer_incs+set}" = set; then :
  withval=$with_timer_incs; 
fi

  

  
@%:@ Check whether --with-timer-libs was given.
if test "${with_timer_libs+set}" = set; then :
  withval=$with_timer_libs; 
fi

  

  
@%:@ Check whether --with-trio-flavor was given.
if test "${with_trio_flavor+set}" = set; then :
  withval=$with_trio_flavor; 
fi

  

  
@%:@ Check whether --with-triqs-incs was given.
if test "${with_triqs_incs+set}" = set; then :
  withval=$with_triqs_incs; 
fi

  

  
@%:@ Check whether --with-triqs-libs was given.
if test "${with_triqs_libs+set}" = set; then :
  withval=$with_triqs_libs; 
fi

  

  
@%:@ Check whether --with-wannier90-bins was given.
if test "${with_wannier90_bins+set}" = set; then :
  withval=$with_wannier90_bins; 
fi

  

  
@%:@ Check whether --with-wannier90-incs was given.
if test "${with_wannier90_incs+set}" = set; then :
  withval=$with_wannier90_incs; 
fi

  

  
@%:@ Check whether --with-wannier90-libs was given.
if test "${with_wannier90_libs+set}" = set; then :
  withval=$with_wannier90_libs; 
fi

  

  
@%:@ Check whether --with-yaml-incs was given.
if test "${with_yaml_incs+set}" = set; then :
  withval=$with_yaml_incs; 
fi

  

  
@%:@ Check whether --with-yaml-libs was given.
if test "${with_yaml_libs+set}" = set; then :
  withval=$with_yaml_libs; 
fi

  


# Read config file and ensure that priorities are respected

    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"




        cmd_enable_64bit_flags="${enable_64bit_flags}"
  cmd_enable_atompaw="${enable_atompaw}"
  cmd_enable_avx_safe_mode="${enable_avx_safe_mode}"
  cmd_enable_bigdft="${enable_bigdft}"
  cmd_enable_bse_unpacked="${enable_bse_unpacked}"
  cmd_enable_cclock="${enable_cclock}"
  cmd_enable_config_file="${enable_config_file}"
  cmd_enable_connectors="${enable_connectors}"
  cmd_enable_debug="${enable_debug}"
  cmd_enable_exports="${enable_exports}"
  cmd_enable_fallbacks="${enable_fallbacks}"
  cmd_enable_fast_check="${enable_fast_check}"
  cmd_enable_fc_wrapper="${enable_fc_wrapper}"
  cmd_enable_gpu="${enable_gpu}"
  cmd_enable_gw_dpc="${enable_gw_dpc}"
  cmd_enable_hints="${enable_hints}"
  cmd_enable_libpaw="${enable_libpaw}"
  cmd_enable_libtetra="${enable_libtetra}"
  cmd_enable_libxc="${enable_libxc}"
  cmd_enable_linalg="${enable_linalg}"
  cmd_enable_lotf="${enable_lotf}"
  cmd_enable_macroave="${enable_macroave}"
  cmd_enable_maintainer_checks="${enable_maintainer_checks}"
  cmd_enable_memory_profiling="${enable_memory_profiling}"
  cmd_enable_mpi="${enable_mpi}"
  cmd_enable_mpi_inplace="${enable_mpi_inplace}"
  cmd_enable_mpi_io="${enable_mpi_io}"
  cmd_enable_mpi_io_default="${enable_mpi_io_default}"
  cmd_enable_netcdf="${enable_netcdf}"
  cmd_enable_netcdf_default="${enable_netcdf_default}"
  cmd_enable_openmp="${enable_openmp}"
  cmd_enable_optim="${enable_optim}"
  cmd_enable_stdin="${enable_stdin}"
  cmd_enable_triqs_v1_4="${enable_triqs_v1_4}"
  cmd_enable_triqs_v2_0="${enable_triqs_v2_0}"
  cmd_enable_wannier90="${enable_wannier90}"
  cmd_enable_wannier90_v1="${enable_wannier90_v1}"
  cmd_enable_xml="${enable_xml}"
  cmd_enable_zdot_bugfix="${enable_zdot_bugfix}"

        cmd_with_algo_flavor="${with_algo_flavor}"
  cmd_with_algo_incs="${with_algo_incs}"
  cmd_with_algo_libs="${with_algo_libs}"
  cmd_with_atompaw_bins="${with_atompaw_bins}"
  cmd_with_atompaw_incs="${with_atompaw_incs}"
  cmd_with_atompaw_libs="${with_atompaw_libs}"
  cmd_with_bigdft_incs="${with_bigdft_incs}"
  cmd_with_bigdft_libs="${with_bigdft_libs}"
  cmd_with_config_file="${with_config_file}"
  cmd_with_dft_flavor="${with_dft_flavor}"
  cmd_with_fc_vendor="${with_fc_vendor}"
  cmd_with_fc_version="${with_fc_version}"
  cmd_with_fft_flavor="${with_fft_flavor}"
  cmd_with_fft_incs="${with_fft_incs}"
  cmd_with_fft_libs="${with_fft_libs}"
  cmd_with_gpu_cflags="${with_gpu_cflags}"
  cmd_with_gpu_cppflags="${with_gpu_cppflags}"
  cmd_with_gpu_flavor="${with_gpu_flavor}"
  cmd_with_gpu_incs="${with_gpu_incs}"
  cmd_with_gpu_ldflags="${with_gpu_ldflags}"
  cmd_with_gpu_libs="${with_gpu_libs}"
  cmd_with_gpu_prefix="${with_gpu_prefix}"
  cmd_with_libxc_incs="${with_libxc_incs}"
  cmd_with_libxc_libs="${with_libxc_libs}"
  cmd_with_linalg_flavor="${with_linalg_flavor}"
  cmd_with_linalg_incs="${with_linalg_incs}"
  cmd_with_linalg_libs="${with_linalg_libs}"
  cmd_with_math_flavor="${with_math_flavor}"
  cmd_with_math_incs="${with_math_incs}"
  cmd_with_math_libs="${with_math_libs}"
  cmd_with_mpi_incs="${with_mpi_incs}"
  cmd_with_mpi_level="${with_mpi_level}"
  cmd_with_mpi_libs="${with_mpi_libs}"
  cmd_with_mpi_prefix="${with_mpi_prefix}"
  cmd_with_netcdf_incs="${with_netcdf_incs}"
  cmd_with_netcdf_libs="${with_netcdf_libs}"
  cmd_with_psml_incs="${with_psml_incs}"
  cmd_with_psml_libs="${with_psml_libs}"
  cmd_with_tardir="${with_tardir}"
  cmd_with_timer_flavor="${with_timer_flavor}"
  cmd_with_timer_incs="${with_timer_incs}"
  cmd_with_timer_libs="${with_timer_libs}"
  cmd_with_trio_flavor="${with_trio_flavor}"
  cmd_with_triqs_incs="${with_triqs_incs}"
  cmd_with_triqs_libs="${with_triqs_libs}"
  cmd_with_wannier90_bins="${with_wannier90_bins}"
  cmd_with_wannier90_incs="${with_wannier90_incs}"
  cmd_with_wannier90_libs="${with_wannier90_libs}"
  cmd_with_yaml_incs="${with_yaml_incs}"
  cmd_with_yaml_libs="${with_yaml_libs}"

        if test "${prefix}" != "NONE"; then
    cmd_prefix="${prefix}"
  fi

test "${enable_config_file}" = "" && enable_config_file="yes"

    abi_hostname=`hostname | sed -e 's/\..*//'`
  abi_sys_options="/etc/abinit/build/${abi_hostname}.ac"
  abi_per_options="${HOME}/.abinit/build/${abi_hostname}.ac"
  abi_src_options="${abinit_srcdir}/${abi_hostname}.ac"
  abi_loc_options="./${abi_hostname}.ac"
  abi_cmd_options=`eval echo "${with_config_file}"`
  abi_cfg_options=""
  abi_ac_distcheck=""

    if test "${abi_cmd_options}" != ""; then
    abi_cmd_has_path=`echo "${abi_cmd_options}" | grep '/'`
    if test "${abi_cmd_has_path}" = ""; then
      abi_cmd_options="./${abi_cmd_options}"
    fi
    unset abi_cmd_has_path
  fi

    if test "${enable_config_file}" = "yes"; then
    if test "${with_config_file}" != "" -a \
            ! -e "${with_config_file}"; then
      as_fn_error $? "config file ${with_config_file} not found" "$LINENO" 5
    fi

    for abi_options in "${abi_sys_options}" "${abi_per_options}" \
                       "${abi_src_options}" "${abi_loc_options}" \
                       "${abi_cmd_options}"; do
      if test -s "${abi_options}"; then
        abi_cfg_options="${abi_options}"
      fi
    done

        if grep "From configure.ac Autotools support for ABINIT" \
      "${abi_cfg_options}" >/dev/null 2>&1; then
      as_fn_error $? "infinite loop detected - aborting!" "$LINENO" 5
    fi

        if test "${abi_cfg_options}" != ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: reading options from ${abi_cfg_options}" >&5
$as_echo "$as_me: reading options from ${abi_cfg_options}" >&6;}
      . "${abi_cfg_options}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: not loading options (no config file available)" >&5
$as_echo "$as_me: not loading options (no config file available)" >&6;}
    fi
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: not loading options (disabled from command line)" >&5
$as_echo "$as_me: not loading options (disabled from command line)" >&6;}
  fi

    abi_ac_distcheck=`${REALPATH} -f "${abi_cfg_options}"`
  if test "${abi_ac_distcheck}" != ""; then
    abi_ac_distcheck="--with-config-file=\"${abi_ac_distcheck}\""
  fi

  



      
  if test "${cmd_enable_64bit_flags}" != ""; then
    enable_64bit_flags="${cmd_enable_64bit_flags}"
  fi

  if test "${cmd_enable_atompaw}" != ""; then
    enable_atompaw="${cmd_enable_atompaw}"
  fi

  if test "${cmd_enable_avx_safe_mode}" != ""; then
    enable_avx_safe_mode="${cmd_enable_avx_safe_mode}"
  fi

  if test "${cmd_enable_bigdft}" != ""; then
    enable_bigdft="${cmd_enable_bigdft}"
  fi

  if test "${cmd_enable_bse_unpacked}" != ""; then
    enable_bse_unpacked="${cmd_enable_bse_unpacked}"
  fi

  if test "${cmd_enable_cclock}" != ""; then
    enable_cclock="${cmd_enable_cclock}"
  fi

  if test "${cmd_enable_config_file}" != ""; then
    enable_config_file="${cmd_enable_config_file}"
  fi

  if test "${cmd_enable_connectors}" != ""; then
    enable_connectors="${cmd_enable_connectors}"
  fi

  if test "${cmd_enable_debug}" != ""; then
    enable_debug="${cmd_enable_debug}"
  fi

  if test "${cmd_enable_exports}" != ""; then
    enable_exports="${cmd_enable_exports}"
  fi

  if test "${cmd_enable_fallbacks}" != ""; then
    enable_fallbacks="${cmd_enable_fallbacks}"
  fi

  if test "${cmd_enable_fast_check}" != ""; then
    enable_fast_check="${cmd_enable_fast_check}"
  fi

  if test "${cmd_enable_fc_wrapper}" != ""; then
    enable_fc_wrapper="${cmd_enable_fc_wrapper}"
  fi

  if test "${cmd_enable_gpu}" != ""; then
    enable_gpu="${cmd_enable_gpu}"
  fi

  if test "${cmd_enable_gw_dpc}" != ""; then
    enable_gw_dpc="${cmd_enable_gw_dpc}"
  fi

  if test "${cmd_enable_hints}" != ""; then
    enable_hints="${cmd_enable_hints}"
  fi

  if test "${cmd_enable_libpaw}" != ""; then
    enable_libpaw="${cmd_enable_libpaw}"
  fi

  if test "${cmd_enable_libtetra}" != ""; then
    enable_libtetra="${cmd_enable_libtetra}"
  fi

  if test "${cmd_enable_libxc}" != ""; then
    enable_libxc="${cmd_enable_libxc}"
  fi

  if test "${cmd_enable_linalg}" != ""; then
    enable_linalg="${cmd_enable_linalg}"
  fi

  if test "${cmd_enable_lotf}" != ""; then
    enable_lotf="${cmd_enable_lotf}"
  fi

  if test "${cmd_enable_macroave}" != ""; then
    enable_macroave="${cmd_enable_macroave}"
  fi

  if test "${cmd_enable_maintainer_checks}" != ""; then
    enable_maintainer_checks="${cmd_enable_maintainer_checks}"
  fi

  if test "${cmd_enable_memory_profiling}" != ""; then
    enable_memory_profiling="${cmd_enable_memory_profiling}"
  fi

  if test "${cmd_enable_mpi}" != ""; then
    enable_mpi="${cmd_enable_mpi}"
  fi

  if test "${cmd_enable_mpi_inplace}" != ""; then
    enable_mpi_inplace="${cmd_enable_mpi_inplace}"
  fi

  if test "${cmd_enable_mpi_io}" != ""; then
    enable_mpi_io="${cmd_enable_mpi_io}"
  fi

  if test "${cmd_enable_mpi_io_default}" != ""; then
    enable_mpi_io_default="${cmd_enable_mpi_io_default}"
  fi

  if test "${cmd_enable_netcdf}" != ""; then
    enable_netcdf="${cmd_enable_netcdf}"
  fi

  if test "${cmd_enable_netcdf_default}" != ""; then
    enable_netcdf_default="${cmd_enable_netcdf_default}"
  fi

  if test "${cmd_enable_openmp}" != ""; then
    enable_openmp="${cmd_enable_openmp}"
  fi

  if test "${cmd_enable_optim}" != ""; then
    enable_optim="${cmd_enable_optim}"
  fi

  if test "${cmd_enable_stdin}" != ""; then
    enable_stdin="${cmd_enable_stdin}"
  fi

  if test "${cmd_enable_triqs_v1_4}" != ""; then
    enable_triqs_v1_4="${cmd_enable_triqs_v1_4}"
  fi

  if test "${cmd_enable_triqs_v2_0}" != ""; then
    enable_triqs_v2_0="${cmd_enable_triqs_v2_0}"
  fi

  if test "${cmd_enable_wannier90}" != ""; then
    enable_wannier90="${cmd_enable_wannier90}"
  fi

  if test "${cmd_enable_wannier90_v1}" != ""; then
    enable_wannier90_v1="${cmd_enable_wannier90_v1}"
  fi

  if test "${cmd_enable_xml}" != ""; then
    enable_xml="${cmd_enable_xml}"
  fi

  if test "${cmd_enable_zdot_bugfix}" != ""; then
    enable_zdot_bugfix="${cmd_enable_zdot_bugfix}"
  fi

      
  if test "${cmd_with_algo_flavor}" != ""; then
    with_algo_flavor="${cmd_with_algo_flavor}"
  fi

  if test "${cmd_with_algo_incs}" != ""; then
    with_algo_incs="${cmd_with_algo_incs}"
  fi

  if test "${cmd_with_algo_libs}" != ""; then
    with_algo_libs="${cmd_with_algo_libs}"
  fi

  if test "${cmd_with_atompaw_bins}" != ""; then
    with_atompaw_bins="${cmd_with_atompaw_bins}"
  fi

  if test "${cmd_with_atompaw_incs}" != ""; then
    with_atompaw_incs="${cmd_with_atompaw_incs}"
  fi

  if test "${cmd_with_atompaw_libs}" != ""; then
    with_atompaw_libs="${cmd_with_atompaw_libs}"
  fi

  if test "${cmd_with_bigdft_incs}" != ""; then
    with_bigdft_incs="${cmd_with_bigdft_incs}"
  fi

  if test "${cmd_with_bigdft_libs}" != ""; then
    with_bigdft_libs="${cmd_with_bigdft_libs}"
  fi

  if test "${cmd_with_config_file}" != ""; then
    with_config_file="${cmd_with_config_file}"
  fi

  if test "${cmd_with_dft_flavor}" != ""; then
    with_dft_flavor="${cmd_with_dft_flavor}"
  fi

  if test "${cmd_with_fc_vendor}" != ""; then
    with_fc_vendor="${cmd_with_fc_vendor}"
  fi

  if test "${cmd_with_fc_version}" != ""; then
    with_fc_version="${cmd_with_fc_version}"
  fi

  if test "${cmd_with_fft_flavor}" != ""; then
    with_fft_flavor="${cmd_with_fft_flavor}"
  fi

  if test "${cmd_with_fft_incs}" != ""; then
    with_fft_incs="${cmd_with_fft_incs}"
  fi

  if test "${cmd_with_fft_libs}" != ""; then
    with_fft_libs="${cmd_with_fft_libs}"
  fi

  if test "${cmd_with_gpu_cflags}" != ""; then
    with_gpu_cflags="${cmd_with_gpu_cflags}"
  fi

  if test "${cmd_with_gpu_cppflags}" != ""; then
    with_gpu_cppflags="${cmd_with_gpu_cppflags}"
  fi

  if test "${cmd_with_gpu_flavor}" != ""; then
    with_gpu_flavor="${cmd_with_gpu_flavor}"
  fi

  if test "${cmd_with_gpu_incs}" != ""; then
    with_gpu_incs="${cmd_with_gpu_incs}"
  fi

  if test "${cmd_with_gpu_ldflags}" != ""; then
    with_gpu_ldflags="${cmd_with_gpu_ldflags}"
  fi

  if test "${cmd_with_gpu_libs}" != ""; then
    with_gpu_libs="${cmd_with_gpu_libs}"
  fi

  if test "${cmd_with_gpu_prefix}" != ""; then
    with_gpu_prefix="${cmd_with_gpu_prefix}"
  fi

  if test "${cmd_with_libxc_incs}" != ""; then
    with_libxc_incs="${cmd_with_libxc_incs}"
  fi

  if test "${cmd_with_libxc_libs}" != ""; then
    with_libxc_libs="${cmd_with_libxc_libs}"
  fi

  if test "${cmd_with_linalg_flavor}" != ""; then
    with_linalg_flavor="${cmd_with_linalg_flavor}"
  fi

  if test "${cmd_with_linalg_incs}" != ""; then
    with_linalg_incs="${cmd_with_linalg_incs}"
  fi

  if test "${cmd_with_linalg_libs}" != ""; then
    with_linalg_libs="${cmd_with_linalg_libs}"
  fi

  if test "${cmd_with_math_flavor}" != ""; then
    with_math_flavor="${cmd_with_math_flavor}"
  fi

  if test "${cmd_with_math_incs}" != ""; then
    with_math_incs="${cmd_with_math_incs}"
  fi

  if test "${cmd_with_math_libs}" != ""; then
    with_math_libs="${cmd_with_math_libs}"
  fi

  if test "${cmd_with_mpi_incs}" != ""; then
    with_mpi_incs="${cmd_with_mpi_incs}"
  fi

  if test "${cmd_with_mpi_level}" != ""; then
    with_mpi_level="${cmd_with_mpi_level}"
  fi

  if test "${cmd_with_mpi_libs}" != ""; then
    with_mpi_libs="${cmd_with_mpi_libs}"
  fi

  if test "${cmd_with_mpi_prefix}" != ""; then
    with_mpi_prefix="${cmd_with_mpi_prefix}"
  fi

  if test "${cmd_with_netcdf_incs}" != ""; then
    with_netcdf_incs="${cmd_with_netcdf_incs}"
  fi

  if test "${cmd_with_netcdf_libs}" != ""; then
    with_netcdf_libs="${cmd_with_netcdf_libs}"
  fi

  if test "${cmd_with_psml_incs}" != ""; then
    with_psml_incs="${cmd_with_psml_incs}"
  fi

  if test "${cmd_with_psml_libs}" != ""; then
    with_psml_libs="${cmd_with_psml_libs}"
  fi

  if test "${cmd_with_tardir}" != ""; then
    with_tardir="${cmd_with_tardir}"
  fi

  if test "${cmd_with_timer_flavor}" != ""; then
    with_timer_flavor="${cmd_with_timer_flavor}"
  fi

  if test "${cmd_with_timer_incs}" != ""; then
    with_timer_incs="${cmd_with_timer_incs}"
  fi

  if test "${cmd_with_timer_libs}" != ""; then
    with_timer_libs="${cmd_with_timer_libs}"
  fi

  if test "${cmd_with_trio_flavor}" != ""; then
    with_trio_flavor="${cmd_with_trio_flavor}"
  fi

  if test "${cmd_with_triqs_incs}" != ""; then
    with_triqs_incs="${cmd_with_triqs_incs}"
  fi

  if test "${cmd_with_triqs_libs}" != ""; then
    with_triqs_libs="${cmd_with_triqs_libs}"
  fi

  if test "${cmd_with_wannier90_bins}" != ""; then
    with_wannier90_bins="${cmd_with_wannier90_bins}"
  fi

  if test "${cmd_with_wannier90_incs}" != ""; then
    with_wannier90_incs="${cmd_with_wannier90_incs}"
  fi

  if test "${cmd_with_wannier90_libs}" != ""; then
    with_wannier90_libs="${cmd_with_wannier90_libs}"
  fi

  if test "${cmd_with_yaml_incs}" != ""; then
    with_yaml_incs="${cmd_with_yaml_incs}"
  fi

  if test "${cmd_with_yaml_libs}" != ""; then
    with_yaml_libs="${cmd_with_yaml_libs}"
  fi

        if test "${cmd_prefix}" != ""; then
    prefix="${cmd_prefix}"
  fi


    
    if test "${abi_env_ABI_CPPFLAGS}" != ""; then
    test "${ABI_CPPFLAGS}" != "${abi_env_ABI_CPPFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of ABI_CPPFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of ABI_CPPFLAGS from environment" >&6;}
    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"
  fi

    if test "${abi_env_AR}" != ""; then
    test "${AR}" != "${abi_env_AR}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of AR from environment" >&5
$as_echo "$as_me: overriding configuration of AR from environment" >&6;}
    AR="${abi_env_AR}"
  fi

    if test "${abi_env_ARFLAGS}" != ""; then
    test "${ARFLAGS}" != "${abi_env_ARFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of ARFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of ARFLAGS from environment" >&6;}
    ARFLAGS="${abi_env_ARFLAGS}"
  fi

    if test "${abi_env_ARFLAGS_64BITS}" != ""; then
    test "${ARFLAGS_64BITS}" != "${abi_env_ARFLAGS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of ARFLAGS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of ARFLAGS_64BITS from environment" >&6;}
    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"
  fi

    if test "${abi_env_ARFLAGS_CMD}" != ""; then
    test "${ARFLAGS_CMD}" != "${abi_env_ARFLAGS_CMD}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of ARFLAGS_CMD from environment" >&5
$as_echo "$as_me: overriding configuration of ARFLAGS_CMD from environment" >&6;}
    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"
  fi

    if test "${abi_env_ARFLAGS_DEBUG}" != ""; then
    test "${ARFLAGS_DEBUG}" != "${abi_env_ARFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of ARFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of ARFLAGS_DEBUG from environment" >&6;}
    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"
  fi

    if test "${abi_env_ARFLAGS_EXTRA}" != ""; then
    test "${ARFLAGS_EXTRA}" != "${abi_env_ARFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of ARFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of ARFLAGS_EXTRA from environment" >&6;}
    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"
  fi

    if test "${abi_env_ARFLAGS_HINTS}" != ""; then
    test "${ARFLAGS_HINTS}" != "${abi_env_ARFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of ARFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of ARFLAGS_HINTS from environment" >&6;}
    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"
  fi

    if test "${abi_env_ARFLAGS_OPTIM}" != ""; then
    test "${ARFLAGS_OPTIM}" != "${abi_env_ARFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of ARFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of ARFLAGS_OPTIM from environment" >&6;}
    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"
  fi

    if test "${abi_env_CC}" != ""; then
    test "${CC}" != "${abi_env_CC}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC from environment" >&5
$as_echo "$as_me: overriding configuration of CC from environment" >&6;}
    CC="${abi_env_CC}"
  fi

    if test "${abi_env_CC_LDFLAGS}" != ""; then
    test "${CC_LDFLAGS}" != "${abi_env_CC_LDFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LDFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LDFLAGS from environment" >&6;}
    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"
  fi

    if test "${abi_env_CC_LDFLAGS_64BITS}" != ""; then
    test "${CC_LDFLAGS_64BITS}" != "${abi_env_CC_LDFLAGS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LDFLAGS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LDFLAGS_64BITS from environment" >&6;}
    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"
  fi

    if test "${abi_env_CC_LDFLAGS_DEBUG}" != ""; then
    test "${CC_LDFLAGS_DEBUG}" != "${abi_env_CC_LDFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LDFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LDFLAGS_DEBUG from environment" >&6;}
    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"
  fi

    if test "${abi_env_CC_LDFLAGS_EXTRA}" != ""; then
    test "${CC_LDFLAGS_EXTRA}" != "${abi_env_CC_LDFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LDFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LDFLAGS_EXTRA from environment" >&6;}
    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"
  fi

    if test "${abi_env_CC_LDFLAGS_GPU}" != ""; then
    test "${CC_LDFLAGS_GPU}" != "${abi_env_CC_LDFLAGS_GPU}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LDFLAGS_GPU from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LDFLAGS_GPU from environment" >&6;}
    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"
  fi

    if test "${abi_env_CC_LDFLAGS_HINTS}" != ""; then
    test "${CC_LDFLAGS_HINTS}" != "${abi_env_CC_LDFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LDFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LDFLAGS_HINTS from environment" >&6;}
    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"
  fi

    if test "${abi_env_CC_LDFLAGS_OPTIM}" != ""; then
    test "${CC_LDFLAGS_OPTIM}" != "${abi_env_CC_LDFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LDFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LDFLAGS_OPTIM from environment" >&6;}
    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"
  fi

    if test "${abi_env_CC_LIBS}" != ""; then
    test "${CC_LIBS}" != "${abi_env_CC_LIBS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LIBS from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LIBS from environment" >&6;}
    CC_LIBS="${abi_env_CC_LIBS}"
  fi

    if test "${abi_env_CC_LIBS_64BITS}" != ""; then
    test "${CC_LIBS_64BITS}" != "${abi_env_CC_LIBS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LIBS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LIBS_64BITS from environment" >&6;}
    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"
  fi

    if test "${abi_env_CC_LIBS_DEBUG}" != ""; then
    test "${CC_LIBS_DEBUG}" != "${abi_env_CC_LIBS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LIBS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LIBS_DEBUG from environment" >&6;}
    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"
  fi

    if test "${abi_env_CC_LIBS_EXTRA}" != ""; then
    test "${CC_LIBS_EXTRA}" != "${abi_env_CC_LIBS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LIBS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LIBS_EXTRA from environment" >&6;}
    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"
  fi

    if test "${abi_env_CC_LIBS_GPU}" != ""; then
    test "${CC_LIBS_GPU}" != "${abi_env_CC_LIBS_GPU}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LIBS_GPU from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LIBS_GPU from environment" >&6;}
    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"
  fi

    if test "${abi_env_CC_LIBS_HINTS}" != ""; then
    test "${CC_LIBS_HINTS}" != "${abi_env_CC_LIBS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LIBS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LIBS_HINTS from environment" >&6;}
    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"
  fi

    if test "${abi_env_CC_LIBS_OPTIM}" != ""; then
    test "${CC_LIBS_OPTIM}" != "${abi_env_CC_LIBS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CC_LIBS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of CC_LIBS_OPTIM from environment" >&6;}
    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"
  fi

    if test "${abi_env_CFLAGS}" != ""; then
    test "${CFLAGS}" != "${abi_env_CFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of CFLAGS from environment" >&6;}
    CFLAGS="${abi_env_CFLAGS}"
  fi

    if test "${abi_env_CFLAGS_64BITS}" != ""; then
    test "${CFLAGS_64BITS}" != "${abi_env_CFLAGS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CFLAGS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of CFLAGS_64BITS from environment" >&6;}
    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"
  fi

    if test "${abi_env_CFLAGS_DEBUG}" != ""; then
    test "${CFLAGS_DEBUG}" != "${abi_env_CFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of CFLAGS_DEBUG from environment" >&6;}
    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"
  fi

    if test "${abi_env_CFLAGS_EXTRA}" != ""; then
    test "${CFLAGS_EXTRA}" != "${abi_env_CFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of CFLAGS_EXTRA from environment" >&6;}
    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"
  fi

    if test "${abi_env_CFLAGS_GPU}" != ""; then
    test "${CFLAGS_GPU}" != "${abi_env_CFLAGS_GPU}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CFLAGS_GPU from environment" >&5
$as_echo "$as_me: overriding configuration of CFLAGS_GPU from environment" >&6;}
    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"
  fi

    if test "${abi_env_CFLAGS_HINTS}" != ""; then
    test "${CFLAGS_HINTS}" != "${abi_env_CFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of CFLAGS_HINTS from environment" >&6;}
    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"
  fi

    if test "${abi_env_CFLAGS_OPTIM}" != ""; then
    test "${CFLAGS_OPTIM}" != "${abi_env_CFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of CFLAGS_OPTIM from environment" >&6;}
    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"
  fi

    if test "${abi_env_CPP}" != ""; then
    test "${CPP}" != "${abi_env_CPP}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CPP from environment" >&5
$as_echo "$as_me: overriding configuration of CPP from environment" >&6;}
    CPP="${abi_env_CPP}"
  fi

    if test "${abi_env_CPPFLAGS}" != ""; then
    test "${CPPFLAGS}" != "${abi_env_CPPFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CPPFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of CPPFLAGS from environment" >&6;}
    CPPFLAGS="${abi_env_CPPFLAGS}"
  fi

    if test "${abi_env_CPPFLAGS_64BITS}" != ""; then
    test "${CPPFLAGS_64BITS}" != "${abi_env_CPPFLAGS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CPPFLAGS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of CPPFLAGS_64BITS from environment" >&6;}
    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"
  fi

    if test "${abi_env_CPPFLAGS_DEBUG}" != ""; then
    test "${CPPFLAGS_DEBUG}" != "${abi_env_CPPFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CPPFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of CPPFLAGS_DEBUG from environment" >&6;}
    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"
  fi

    if test "${abi_env_CPPFLAGS_EXTRA}" != ""; then
    test "${CPPFLAGS_EXTRA}" != "${abi_env_CPPFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CPPFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of CPPFLAGS_EXTRA from environment" >&6;}
    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"
  fi

    if test "${abi_env_CPPFLAGS_GPU}" != ""; then
    test "${CPPFLAGS_GPU}" != "${abi_env_CPPFLAGS_GPU}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CPPFLAGS_GPU from environment" >&5
$as_echo "$as_me: overriding configuration of CPPFLAGS_GPU from environment" >&6;}
    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"
  fi

    if test "${abi_env_CPPFLAGS_HINTS}" != ""; then
    test "${CPPFLAGS_HINTS}" != "${abi_env_CPPFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CPPFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of CPPFLAGS_HINTS from environment" >&6;}
    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"
  fi

    if test "${abi_env_CPPFLAGS_OPTIM}" != ""; then
    test "${CPPFLAGS_OPTIM}" != "${abi_env_CPPFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CPPFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of CPPFLAGS_OPTIM from environment" >&6;}
    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"
  fi

    if test "${abi_env_CXX}" != ""; then
    test "${CXX}" != "${abi_env_CXX}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX from environment" >&5
$as_echo "$as_me: overriding configuration of CXX from environment" >&6;}
    CXX="${abi_env_CXX}"
  fi

    if test "${abi_env_CXXFLAGS}" != ""; then
    test "${CXXFLAGS}" != "${abi_env_CXXFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXXFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of CXXFLAGS from environment" >&6;}
    CXXFLAGS="${abi_env_CXXFLAGS}"
  fi

    if test "${abi_env_CXXFLAGS_64BITS}" != ""; then
    test "${CXXFLAGS_64BITS}" != "${abi_env_CXXFLAGS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXXFLAGS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of CXXFLAGS_64BITS from environment" >&6;}
    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"
  fi

    if test "${abi_env_CXXFLAGS_DEBUG}" != ""; then
    test "${CXXFLAGS_DEBUG}" != "${abi_env_CXXFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXXFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of CXXFLAGS_DEBUG from environment" >&6;}
    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"
  fi

    if test "${abi_env_CXXFLAGS_EXTRA}" != ""; then
    test "${CXXFLAGS_EXTRA}" != "${abi_env_CXXFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXXFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of CXXFLAGS_EXTRA from environment" >&6;}
    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"
  fi

    if test "${abi_env_CXXFLAGS_GPU}" != ""; then
    test "${CXXFLAGS_GPU}" != "${abi_env_CXXFLAGS_GPU}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXXFLAGS_GPU from environment" >&5
$as_echo "$as_me: overriding configuration of CXXFLAGS_GPU from environment" >&6;}
    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"
  fi

    if test "${abi_env_CXXFLAGS_HINTS}" != ""; then
    test "${CXXFLAGS_HINTS}" != "${abi_env_CXXFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXXFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of CXXFLAGS_HINTS from environment" >&6;}
    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"
  fi

    if test "${abi_env_CXXFLAGS_OPTIM}" != ""; then
    test "${CXXFLAGS_OPTIM}" != "${abi_env_CXXFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXXFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of CXXFLAGS_OPTIM from environment" >&6;}
    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"
  fi

    if test "${abi_env_CXX_LDFLAGS}" != ""; then
    test "${CXX_LDFLAGS}" != "${abi_env_CXX_LDFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LDFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LDFLAGS from environment" >&6;}
    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"
  fi

    if test "${abi_env_CXX_LDFLAGS_64BITS}" != ""; then
    test "${CXX_LDFLAGS_64BITS}" != "${abi_env_CXX_LDFLAGS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LDFLAGS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LDFLAGS_64BITS from environment" >&6;}
    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"
  fi

    if test "${abi_env_CXX_LDFLAGS_DEBUG}" != ""; then
    test "${CXX_LDFLAGS_DEBUG}" != "${abi_env_CXX_LDFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LDFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LDFLAGS_DEBUG from environment" >&6;}
    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"
  fi

    if test "${abi_env_CXX_LDFLAGS_EXTRA}" != ""; then
    test "${CXX_LDFLAGS_EXTRA}" != "${abi_env_CXX_LDFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LDFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LDFLAGS_EXTRA from environment" >&6;}
    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"
  fi

    if test "${abi_env_CXX_LDFLAGS_GPU}" != ""; then
    test "${CXX_LDFLAGS_GPU}" != "${abi_env_CXX_LDFLAGS_GPU}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LDFLAGS_GPU from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LDFLAGS_GPU from environment" >&6;}
    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"
  fi

    if test "${abi_env_CXX_LDFLAGS_HINTS}" != ""; then
    test "${CXX_LDFLAGS_HINTS}" != "${abi_env_CXX_LDFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LDFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LDFLAGS_HINTS from environment" >&6;}
    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"
  fi

    if test "${abi_env_CXX_LDFLAGS_OPTIM}" != ""; then
    test "${CXX_LDFLAGS_OPTIM}" != "${abi_env_CXX_LDFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LDFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LDFLAGS_OPTIM from environment" >&6;}
    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"
  fi

    if test "${abi_env_CXX_LIBS}" != ""; then
    test "${CXX_LIBS}" != "${abi_env_CXX_LIBS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LIBS from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LIBS from environment" >&6;}
    CXX_LIBS="${abi_env_CXX_LIBS}"
  fi

    if test "${abi_env_CXX_LIBS_64BITS}" != ""; then
    test "${CXX_LIBS_64BITS}" != "${abi_env_CXX_LIBS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LIBS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LIBS_64BITS from environment" >&6;}
    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"
  fi

    if test "${abi_env_CXX_LIBS_DEBUG}" != ""; then
    test "${CXX_LIBS_DEBUG}" != "${abi_env_CXX_LIBS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LIBS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LIBS_DEBUG from environment" >&6;}
    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"
  fi

    if test "${abi_env_CXX_LIBS_EXTRA}" != ""; then
    test "${CXX_LIBS_EXTRA}" != "${abi_env_CXX_LIBS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LIBS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LIBS_EXTRA from environment" >&6;}
    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"
  fi

    if test "${abi_env_CXX_LIBS_GPU}" != ""; then
    test "${CXX_LIBS_GPU}" != "${abi_env_CXX_LIBS_GPU}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LIBS_GPU from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LIBS_GPU from environment" >&6;}
    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"
  fi

    if test "${abi_env_CXX_LIBS_HINTS}" != ""; then
    test "${CXX_LIBS_HINTS}" != "${abi_env_CXX_LIBS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LIBS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LIBS_HINTS from environment" >&6;}
    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"
  fi

    if test "${abi_env_CXX_LIBS_OPTIM}" != ""; then
    test "${CXX_LIBS_OPTIM}" != "${abi_env_CXX_LIBS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of CXX_LIBS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of CXX_LIBS_OPTIM from environment" >&6;}
    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"
  fi

    if test "${abi_env_DEFS}" != ""; then
    test "${DEFS}" != "${abi_env_DEFS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of DEFS from environment" >&5
$as_echo "$as_me: overriding configuration of DEFS from environment" >&6;}
    DEFS="${abi_env_DEFS}"
  fi

    if test "${abi_env_F77}" != ""; then
    test "${F77}" != "${abi_env_F77}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of F77 from environment" >&5
$as_echo "$as_me: overriding configuration of F77 from environment" >&6;}
    F77="${abi_env_F77}"
  fi

    if test "${abi_env_FC}" != ""; then
    test "${FC}" != "${abi_env_FC}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC from environment" >&5
$as_echo "$as_me: overriding configuration of FC from environment" >&6;}
    FC="${abi_env_FC}"
  fi

    if test "${abi_env_FCFLAGS}" != ""; then
    test "${FCFLAGS}" != "${abi_env_FCFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS from environment" >&6;}
    FCFLAGS="${abi_env_FCFLAGS}"
  fi

    if test "${abi_env_FCFLAGS_64BITS}" != ""; then
    test "${FCFLAGS_64BITS}" != "${abi_env_FCFLAGS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_64BITS from environment" >&6;}
    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"
  fi

    if test "${abi_env_FCFLAGS_DEBUG}" != ""; then
    test "${FCFLAGS_DEBUG}" != "${abi_env_FCFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_DEBUG from environment" >&6;}
    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"
  fi

    if test "${abi_env_FCFLAGS_EXTRA}" != ""; then
    test "${FCFLAGS_EXTRA}" != "${abi_env_FCFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_EXTRA from environment" >&6;}
    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"
  fi

    if test "${abi_env_FCFLAGS_FIXEDFORM}" != ""; then
    test "${FCFLAGS_FIXEDFORM}" != "${abi_env_FCFLAGS_FIXEDFORM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_FIXEDFORM from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_FIXEDFORM from environment" >&6;}
    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"
  fi

    if test "${abi_env_FCFLAGS_FREEFORM}" != ""; then
    test "${FCFLAGS_FREEFORM}" != "${abi_env_FCFLAGS_FREEFORM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_FREEFORM from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_FREEFORM from environment" >&6;}
    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"
  fi

    if test "${abi_env_FCFLAGS_HINTS}" != ""; then
    test "${FCFLAGS_HINTS}" != "${abi_env_FCFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_HINTS from environment" >&6;}
    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"
  fi

    if test "${abi_env_FCFLAGS_MODDIR}" != ""; then
    test "${FCFLAGS_MODDIR}" != "${abi_env_FCFLAGS_MODDIR}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_MODDIR from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_MODDIR from environment" >&6;}
    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"
  fi

    if test "${abi_env_FCFLAGS_OPENMP}" != ""; then
    test "${FCFLAGS_OPENMP}" != "${abi_env_FCFLAGS_OPENMP}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_OPENMP from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_OPENMP from environment" >&6;}
    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"
  fi

    if test "${abi_env_FCFLAGS_OPTIM}" != ""; then
    test "${FCFLAGS_OPTIM}" != "${abi_env_FCFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FCFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of FCFLAGS_OPTIM from environment" >&6;}
    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"
  fi

    if test "${abi_env_FC_LDFLAGS}" != ""; then
    test "${FC_LDFLAGS}" != "${abi_env_FC_LDFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LDFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LDFLAGS from environment" >&6;}
    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"
  fi

    if test "${abi_env_FC_LDFLAGS_64BITS}" != ""; then
    test "${FC_LDFLAGS_64BITS}" != "${abi_env_FC_LDFLAGS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LDFLAGS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LDFLAGS_64BITS from environment" >&6;}
    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"
  fi

    if test "${abi_env_FC_LDFLAGS_DEBUG}" != ""; then
    test "${FC_LDFLAGS_DEBUG}" != "${abi_env_FC_LDFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LDFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LDFLAGS_DEBUG from environment" >&6;}
    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"
  fi

    if test "${abi_env_FC_LDFLAGS_EXTRA}" != ""; then
    test "${FC_LDFLAGS_EXTRA}" != "${abi_env_FC_LDFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LDFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LDFLAGS_EXTRA from environment" >&6;}
    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"
  fi

    if test "${abi_env_FC_LDFLAGS_HINTS}" != ""; then
    test "${FC_LDFLAGS_HINTS}" != "${abi_env_FC_LDFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LDFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LDFLAGS_HINTS from environment" >&6;}
    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"
  fi

    if test "${abi_env_FC_LDFLAGS_OPTIM}" != ""; then
    test "${FC_LDFLAGS_OPTIM}" != "${abi_env_FC_LDFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LDFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LDFLAGS_OPTIM from environment" >&6;}
    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"
  fi

    if test "${abi_env_FC_LIBS}" != ""; then
    test "${FC_LIBS}" != "${abi_env_FC_LIBS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LIBS from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LIBS from environment" >&6;}
    FC_LIBS="${abi_env_FC_LIBS}"
  fi

    if test "${abi_env_FC_LIBS_64BITS}" != ""; then
    test "${FC_LIBS_64BITS}" != "${abi_env_FC_LIBS_64BITS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LIBS_64BITS from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LIBS_64BITS from environment" >&6;}
    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"
  fi

    if test "${abi_env_FC_LIBS_DEBUG}" != ""; then
    test "${FC_LIBS_DEBUG}" != "${abi_env_FC_LIBS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LIBS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LIBS_DEBUG from environment" >&6;}
    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"
  fi

    if test "${abi_env_FC_LIBS_EXTRA}" != ""; then
    test "${FC_LIBS_EXTRA}" != "${abi_env_FC_LIBS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LIBS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LIBS_EXTRA from environment" >&6;}
    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"
  fi

    if test "${abi_env_FC_LIBS_HINTS}" != ""; then
    test "${FC_LIBS_HINTS}" != "${abi_env_FC_LIBS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LIBS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LIBS_HINTS from environment" >&6;}
    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"
  fi

    if test "${abi_env_FC_LIBS_OPTIM}" != ""; then
    test "${FC_LIBS_OPTIM}" != "${abi_env_FC_LIBS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FC_LIBS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of FC_LIBS_OPTIM from environment" >&6;}
    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"
  fi

    if test "${abi_env_FPP}" != ""; then
    test "${FPP}" != "${abi_env_FPP}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FPP from environment" >&5
$as_echo "$as_me: overriding configuration of FPP from environment" >&6;}
    FPP="${abi_env_FPP}"
  fi

    if test "${abi_env_FPPFLAGS}" != ""; then
    test "${FPPFLAGS}" != "${abi_env_FPPFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FPPFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of FPPFLAGS from environment" >&6;}
    FPPFLAGS="${abi_env_FPPFLAGS}"
  fi

    if test "${abi_env_FPPFLAGS_DEBUG}" != ""; then
    test "${FPPFLAGS_DEBUG}" != "${abi_env_FPPFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FPPFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of FPPFLAGS_DEBUG from environment" >&6;}
    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"
  fi

    if test "${abi_env_FPPFLAGS_EXTRA}" != ""; then
    test "${FPPFLAGS_EXTRA}" != "${abi_env_FPPFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FPPFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of FPPFLAGS_EXTRA from environment" >&6;}
    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"
  fi

    if test "${abi_env_FPPFLAGS_HINTS}" != ""; then
    test "${FPPFLAGS_HINTS}" != "${abi_env_FPPFLAGS_HINTS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FPPFLAGS_HINTS from environment" >&5
$as_echo "$as_me: overriding configuration of FPPFLAGS_HINTS from environment" >&6;}
    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"
  fi

    if test "${abi_env_FPPFLAGS_OPTIM}" != ""; then
    test "${FPPFLAGS_OPTIM}" != "${abi_env_FPPFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of FPPFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of FPPFLAGS_OPTIM from environment" >&6;}
    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"
  fi

    if test "${abi_env_LD}" != ""; then
    test "${LD}" != "${abi_env_LD}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of LD from environment" >&5
$as_echo "$as_me: overriding configuration of LD from environment" >&6;}
    LD="${abi_env_LD}"
  fi

    if test "${abi_env_LTXFLAGS}" != ""; then
    test "${LTXFLAGS}" != "${abi_env_LTXFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of LTXFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of LTXFLAGS from environment" >&6;}
    LTXFLAGS="${abi_env_LTXFLAGS}"
  fi

    if test "${abi_env_MDFLAGS}" != ""; then
    test "${MDFLAGS}" != "${abi_env_MDFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of MDFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of MDFLAGS from environment" >&6;}
    MDFLAGS="${abi_env_MDFLAGS}"
  fi

    if test "${abi_env_MODEXT}" != ""; then
    test "${MODEXT}" != "${abi_env_MODEXT}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of MODEXT from environment" >&5
$as_echo "$as_me: overriding configuration of MODEXT from environment" >&6;}
    MODEXT="${abi_env_MODEXT}"
  fi

    if test "${abi_env_MPI_RUNNER}" != ""; then
    test "${MPI_RUNNER}" != "${abi_env_MPI_RUNNER}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of MPI_RUNNER from environment" >&5
$as_echo "$as_me: overriding configuration of MPI_RUNNER from environment" >&6;}
    MPI_RUNNER="${abi_env_MPI_RUNNER}"
  fi

    if test "${abi_env_NM}" != ""; then
    test "${NM}" != "${abi_env_NM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of NM from environment" >&5
$as_echo "$as_me: overriding configuration of NM from environment" >&6;}
    NM="${abi_env_NM}"
  fi

    if test "${abi_env_NVCC}" != ""; then
    test "${NVCC}" != "${abi_env_NVCC}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of NVCC from environment" >&5
$as_echo "$as_me: overriding configuration of NVCC from environment" >&6;}
    NVCC="${abi_env_NVCC}"
  fi

    if test "${abi_env_NVCC_CFLAGS}" != ""; then
    test "${NVCC_CFLAGS}" != "${abi_env_NVCC_CFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of NVCC_CFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of NVCC_CFLAGS from environment" >&6;}
    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"
  fi

    if test "${abi_env_NVCC_CPPFLAGS}" != ""; then
    test "${NVCC_CPPFLAGS}" != "${abi_env_NVCC_CPPFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of NVCC_CPPFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of NVCC_CPPFLAGS from environment" >&6;}
    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"
  fi

    if test "${abi_env_NVCC_LDFLAGS}" != ""; then
    test "${NVCC_LDFLAGS}" != "${abi_env_NVCC_LDFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of NVCC_LDFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of NVCC_LDFLAGS from environment" >&6;}
    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"
  fi

    if test "${abi_env_NVCC_LIBS}" != ""; then
    test "${NVCC_LIBS}" != "${abi_env_NVCC_LIBS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of NVCC_LIBS from environment" >&5
$as_echo "$as_me: overriding configuration of NVCC_LIBS from environment" >&6;}
    NVCC_LIBS="${abi_env_NVCC_LIBS}"
  fi

    if test "${abi_env_PDFFLAGS}" != ""; then
    test "${PDFFLAGS}" != "${abi_env_PDFFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of PDFFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of PDFFLAGS from environment" >&6;}
    PDFFLAGS="${abi_env_PDFFLAGS}"
  fi

    if test "${abi_env_PYFLAGS}" != ""; then
    test "${PYFLAGS}" != "${abi_env_PYFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of PYFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of PYFLAGS from environment" >&6;}
    PYFLAGS="${abi_env_PYFLAGS}"
  fi

    if test "${abi_env_PYTHON_CPPFLAGS}" != ""; then
    test "${PYTHON_CPPFLAGS}" != "${abi_env_PYTHON_CPPFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of PYTHON_CPPFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of PYTHON_CPPFLAGS from environment" >&6;}
    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"
  fi

    if test "${abi_env_RANLIB}" != ""; then
    test "${RANLIB}" != "${abi_env_RANLIB}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of RANLIB from environment" >&5
$as_echo "$as_me: overriding configuration of RANLIB from environment" >&6;}
    RANLIB="${abi_env_RANLIB}"
  fi

    if test "${abi_env_SERIAL_RUNNER}" != ""; then
    test "${SERIAL_RUNNER}" != "${abi_env_SERIAL_RUNNER}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of SERIAL_RUNNER from environment" >&5
$as_echo "$as_me: overriding configuration of SERIAL_RUNNER from environment" >&6;}
    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"
  fi

    if test "${abi_env_TRUE_CPP}" != ""; then
    test "${TRUE_CPP}" != "${abi_env_TRUE_CPP}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of TRUE_CPP from environment" >&5
$as_echo "$as_me: overriding configuration of TRUE_CPP from environment" >&6;}
    TRUE_CPP="${abi_env_TRUE_CPP}"
  fi

    if test "${abi_env_XPP}" != ""; then
    test "${XPP}" != "${abi_env_XPP}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of XPP from environment" >&5
$as_echo "$as_me: overriding configuration of XPP from environment" >&6;}
    XPP="${abi_env_XPP}"
  fi

    if test "${abi_env_XPPFLAGS}" != ""; then
    test "${XPPFLAGS}" != "${abi_env_XPPFLAGS}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of XPPFLAGS from environment" >&5
$as_echo "$as_me: overriding configuration of XPPFLAGS from environment" >&6;}
    XPPFLAGS="${abi_env_XPPFLAGS}"
  fi

    if test "${abi_env_XPPFLAGS_DEBUG}" != ""; then
    test "${XPPFLAGS_DEBUG}" != "${abi_env_XPPFLAGS_DEBUG}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of XPPFLAGS_DEBUG from environment" >&5
$as_echo "$as_me: overriding configuration of XPPFLAGS_DEBUG from environment" >&6;}
    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"
  fi

    if test "${abi_env_XPPFLAGS_EXTRA}" != ""; then
    test "${XPPFLAGS_EXTRA}" != "${abi_env_XPPFLAGS_EXTRA}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of XPPFLAGS_EXTRA from environment" >&5
$as_echo "$as_me: overriding configuration of XPPFLAGS_EXTRA from environment" >&6;}
    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"
  fi

    if test "${abi_env_XPPFLAGS_OPTIM}" != ""; then
    test "${XPPFLAGS_OPTIM}" != "${abi_env_XPPFLAGS_OPTIM}" && \
      { $as_echo "$as_me:${as_lineno-$LINENO}: overriding configuration of XPPFLAGS_OPTIM from environment" >&5
$as_echo "$as_me: overriding configuration of XPPFLAGS_OPTIM from environment" >&6;}
    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"
  fi



# Set still undefined options


      
  if test "${enable_64bit_flags}" = ""; then
    enable_64bit_flags="no"
  fi
  if test "${enable_avx_safe_mode}" = ""; then
    enable_avx_safe_mode="no"
  fi
  if test "${enable_bse_unpacked}" = ""; then
    enable_bse_unpacked="no"
  fi
  if test "${enable_cclock}" = ""; then
    enable_cclock="no"
  fi
  if test "${enable_config_file}" = ""; then
    enable_config_file="yes"
  fi
  if test "${enable_connectors}" = ""; then
    enable_connectors="yes"
  fi
  if test "${enable_debug}" = ""; then
    enable_debug="basic"
  fi
  if test "${enable_exports}" = ""; then
    enable_exports="no"
  fi
  if test "${enable_fallbacks}" = ""; then
    enable_fallbacks="yes"
  fi
  if test "${enable_fast_check}" = ""; then
    enable_fast_check="no"
  fi
  if test "${enable_fc_wrapper}" = ""; then
    enable_fc_wrapper="no"
  fi
  if test "${enable_gpu}" = ""; then
    enable_gpu="no"
  fi
  if test "${enable_gw_dpc}" = ""; then
    enable_gw_dpc="no"
  fi
  if test "${enable_hints}" = ""; then
    enable_hints="yes"
  fi
  if test "${enable_lotf}" = ""; then
    enable_lotf="no"
  fi
  if test "${enable_macroave}" = ""; then
    enable_macroave="yes"
  fi
  if test "${enable_maintainer_checks}" = ""; then
    enable_maintainer_checks="no"
  fi
  if test "${enable_mpi}" = ""; then
    enable_mpi="auto"
  fi
  if test "${enable_mpi_inplace}" = ""; then
    enable_mpi_inplace="no"
  fi
  if test "${enable_mpi_io}" = ""; then
    enable_mpi_io="auto"
  fi
  if test "${enable_mpi_io_default}" = ""; then
    enable_mpi_io_default="no"
  fi
  if test "${enable_netcdf_default}" = ""; then
    enable_netcdf_default="no"
  fi
  if test "${enable_openmp}" = ""; then
    enable_openmp="no"
  fi
  if test "${enable_optim}" = ""; then
    enable_optim="standard"
  fi
  if test "${enable_stdin}" = ""; then
    enable_stdin="yes"
  fi
  if test "${enable_triqs_v1_4}" = ""; then
    enable_triqs_v1_4="no"
  fi
  if test "${enable_triqs_v2_0}" = ""; then
    enable_triqs_v2_0="no"
  fi
  if test "${enable_wannier90_v1}" = ""; then
    enable_wannier90_v1="no"
  fi
  if test "${enable_xml}" = ""; then
    enable_xml="no"
  fi
  if test "${enable_zdot_bugfix}" = ""; then
    enable_zdot_bugfix="no"
  fi

      
  if test "${with_algo_flavor}" = ""; then
    with_algo_flavor="none"
  fi
  if test "${with_algo_flavor}" = "no"; then
    with_algo_flavor=""
  fi
  if test "${with_algo_incs}" = "no"; then
    with_algo_incs=""
  fi
  if test "${with_algo_libs}" = "no"; then
    with_algo_libs=""
  fi
  if test "${with_atompaw_bins}" = "no"; then
    with_atompaw_bins=""
  fi
  if test "${with_atompaw_incs}" = "no"; then
    with_atompaw_incs=""
  fi
  if test "${with_atompaw_libs}" = "no"; then
    with_atompaw_libs=""
  fi
  if test "${with_bigdft_incs}" = "no"; then
    with_bigdft_incs=""
  fi
  if test "${with_bigdft_libs}" = "no"; then
    with_bigdft_libs=""
  fi
  if test "${with_config_file}" = "no"; then
    with_config_file=""
  fi
  if test "${with_dft_flavor}" = ""; then
    with_dft_flavor="none"
  fi
  if test "${with_dft_flavor}" = "no"; then
    with_dft_flavor=""
  fi
  if test "${with_fc_vendor}" = "no"; then
    with_fc_vendor=""
  fi
  if test "${with_fc_version}" = "no"; then
    with_fc_version=""
  fi
  if test "${with_fft_flavor}" = ""; then
    with_fft_flavor="none"
  fi
  if test "${with_fft_flavor}" = "no"; then
    with_fft_flavor=""
  fi
  if test "${with_fft_incs}" = "no"; then
    with_fft_incs=""
  fi
  if test "${with_fft_libs}" = "no"; then
    with_fft_libs=""
  fi
  if test "${with_gpu_cflags}" = "no"; then
    with_gpu_cflags=""
  fi
  if test "${with_gpu_cppflags}" = "no"; then
    with_gpu_cppflags=""
  fi
  if test "${with_gpu_flavor}" = ""; then
    with_gpu_flavor="cuda-double"
  fi
  if test "${with_gpu_flavor}" = "no"; then
    with_gpu_flavor=""
  fi
  if test "${with_gpu_incs}" = "no"; then
    with_gpu_incs=""
  fi
  if test "${with_gpu_ldflags}" = "no"; then
    with_gpu_ldflags=""
  fi
  if test "${with_gpu_libs}" = "no"; then
    with_gpu_libs=""
  fi
  if test "${with_gpu_prefix}" = "no"; then
    with_gpu_prefix=""
  fi
  if test "${with_libxc_incs}" = "no"; then
    with_libxc_incs=""
  fi
  if test "${with_libxc_libs}" = "no"; then
    with_libxc_libs=""
  fi
  if test "${with_linalg_flavor}" = ""; then
    with_linalg_flavor="netlib"
  fi
  if test "${with_linalg_flavor}" = "no"; then
    with_linalg_flavor=""
  fi
  if test "${with_linalg_incs}" = "no"; then
    with_linalg_incs=""
  fi
  if test "${with_linalg_libs}" = "no"; then
    with_linalg_libs=""
  fi
  if test "${with_math_flavor}" = ""; then
    with_math_flavor="none"
  fi
  if test "${with_math_flavor}" = "no"; then
    with_math_flavor=""
  fi
  if test "${with_math_incs}" = "no"; then
    with_math_incs=""
  fi
  if test "${with_math_libs}" = "no"; then
    with_math_libs=""
  fi
  if test "${with_mpi_incs}" = "no"; then
    with_mpi_incs=""
  fi
  if test "${with_mpi_level}" = "no"; then
    with_mpi_level=""
  fi
  if test "${with_mpi_libs}" = "no"; then
    with_mpi_libs=""
  fi
  if test "${with_mpi_prefix}" = "no"; then
    with_mpi_prefix=""
  fi
  if test "${with_netcdf_incs}" = "no"; then
    with_netcdf_incs=""
  fi
  if test "${with_netcdf_libs}" = "no"; then
    with_netcdf_libs=""
  fi
  if test "${with_psml_incs}" = "no"; then
    with_psml_incs=""
  fi
  if test "${with_psml_libs}" = "no"; then
    with_psml_libs=""
  fi
  if test "${with_tardir}" = "no"; then
    with_tardir=""
  fi
  if test "${with_timer_flavor}" = ""; then
    with_timer_flavor="abinit"
  fi
  if test "${with_timer_flavor}" = "no"; then
    with_timer_flavor=""
  fi
  if test "${with_timer_incs}" = "no"; then
    with_timer_incs=""
  fi
  if test "${with_timer_libs}" = "no"; then
    with_timer_libs=""
  fi
  if test "${with_trio_flavor}" = ""; then
    with_trio_flavor="none"
  fi
  if test "${with_trio_flavor}" = "no"; then
    with_trio_flavor=""
  fi
  if test "${with_triqs_incs}" = "no"; then
    with_triqs_incs=""
  fi
  if test "${with_triqs_libs}" = "no"; then
    with_triqs_libs=""
  fi
  if test "${with_wannier90_bins}" = "no"; then
    with_wannier90_bins=""
  fi
  if test "${with_wannier90_incs}" = "no"; then
    with_wannier90_incs=""
  fi
  if test "${with_wannier90_libs}" = "no"; then
    with_wannier90_libs=""
  fi
  if test "${with_yaml_incs}" = "no"; then
    with_yaml_incs=""
  fi
  if test "${with_yaml_libs}" = "no"; then
    with_yaml_libs=""
  fi


# Initialize environment, taking options into account


    ABI_CPPFLAGS=''
  

  
  
    ARFLAGS_64BITS=''
  

    ARFLAGS_CMD='rc'
  

    
  

    
  

    ARFLAGS_HINTS=''
  

    
  

  
    
  

    CC_LDFLAGS_64BITS=''
  

    
  

    

    CC_LDFLAGS_GPU=''
  

    CC_LDFLAGS_HINTS=''
  

    
  

    
  

    CC_LIBS_64BITS=''
  

    
  

    

    CC_LIBS_GPU=''
  

    CC_LIBS_HINTS=''
  

    
  

  
    CFLAGS_64BITS=''
  

    
  

    
  

    CFLAGS_GPU=''
  

    CFLAGS_HINTS=''
  

    
  

  
  
    CPPFLAGS_64BITS=''
  

    
  

    
  

    CPPFLAGS_GPU=''
  

    CPPFLAGS_HINTS=''
  

    
  

  
  
    CXXFLAGS_64BITS=''
  

    
  

    
  

    CXXFLAGS_GPU=''
  

    CXXFLAGS_HINTS=''
  

    
  

    

    CXX_LDFLAGS_64BITS=''
  

    
  

    
  

    CXX_LDFLAGS_GPU=''
  

    CXX_LDFLAGS_HINTS=''
  

    
  

    
  

    CXX_LIBS_64BITS=''
  

    
  

    

    CXX_LIBS_GPU=''
  

    CXX_LIBS_HINTS=''
  

    
  

  
  
  
    

    FCFLAGS_64BITS=''
  

    
  

    
  

    
  

    
  

    
  

    
  

    
  

    
  

    

    FC_LDFLAGS_64BITS=''
  

    
  

    
  

    FC_LDFLAGS_HINTS=''
  

    
  

    
  

    FC_LIBS_64BITS=''
  

    
  

    

    FC_LIBS_HINTS=''
  

    
  

    
  

    
  

    
  

    
  

    FPPFLAGS_HINTS=''
  

    
  

  
    

    

    MODEXT=''
  

    
  

  
    

    

    

    

    

    

    
  

    
  

  
    
  

    TRUE_CPP=''

    
  

    
  

    
  

    
  

    
  










# Initialize install dirs (requires version and config options to be set)

    if test "${prefix}" = "NONE"; then
    abinit_prefix="${ac_default_prefix}"
  else
    abinit_prefix="${prefix}"
  fi

    abinit_bindir="${abinit_prefix}/bin"
  abinit_chkdir="${abinit_prefix}/share/abinit/tests"
  abinit_datdir="${abinit_prefix}/share/abinit"
  abinit_docdir="${abinit_prefix}/doc/abinit"
  abinit_incdir="${abinit_prefix}/include"
  abinit_libdir="${abinit_prefix}/lib"
  abinit_mandir="${abinit_prefix}/share/man"

    
  
  
  
  
  
  
  


# Translate optimization level
abi_optflags_mode="${enable_optim}"

# Disable wrapping of Fortran compiler by default
abi_fc_wrap="no"

# Save user-defined CPP
abi_cpp_user="${CPP}"

# Set-up required information for core libraries

    src_01_gsl_ext_incs='-I$(top_builddir)/src/01_gsl_ext -I$(top_srcdir)/src/01_gsl_ext'
  src_02_clib_incs='-I$(top_builddir)/src/02_clib -I$(top_srcdir)/src/02_clib'
  src_10_defs_incs='-I$(top_builddir)/src/10_defs -I$(top_srcdir)/src/10_defs'
  src_10_dumpinfo_incs='-I$(top_builddir)/src/10_dumpinfo -I$(top_srcdir)/src/10_dumpinfo'
  src_11_memory_mpi_incs='-I$(top_builddir)/src/11_memory_mpi -I$(top_srcdir)/src/11_memory_mpi'
  src_12_hide_mpi_incs='-I$(top_builddir)/src/12_hide_mpi -I$(top_srcdir)/src/12_hide_mpi'
  src_14_hidewrite_incs='-I$(top_builddir)/src/14_hidewrite -I$(top_srcdir)/src/14_hidewrite'
  src_15_gpu_toolbox_incs='-I$(top_builddir)/src/15_gpu_toolbox -I$(top_srcdir)/src/15_gpu_toolbox'
  src_16_hideleave_incs='-I$(top_builddir)/src/16_hideleave -I$(top_srcdir)/src/16_hideleave'
  src_17_libtetra_ext_incs='-I$(top_builddir)/src/17_libtetra_ext -I$(top_srcdir)/src/17_libtetra_ext'
  src_18_timing_incs='-I$(top_builddir)/src/18_timing -I$(top_srcdir)/src/18_timing'
  src_21_hashfuncs_incs='-I$(top_builddir)/src/21_hashfuncs -I$(top_srcdir)/src/21_hashfuncs'
  src_27_toolbox_oop_incs='-I$(top_builddir)/src/27_toolbox_oop -I$(top_srcdir)/src/27_toolbox_oop'
  src_28_numeric_noabirule_incs='-I$(top_builddir)/src/28_numeric_noabirule -I$(top_srcdir)/src/28_numeric_noabirule'
  src_29_kpoints_incs='-I$(top_builddir)/src/29_kpoints -I$(top_srcdir)/src/29_kpoints'
  src_32_util_incs='-I$(top_builddir)/src/32_util -I$(top_srcdir)/src/32_util'
  src_41_geometry_incs='-I$(top_builddir)/src/41_geometry -I$(top_srcdir)/src/41_geometry'
  src_41_xc_lowlevel_incs='-I$(top_builddir)/src/41_xc_lowlevel -I$(top_srcdir)/src/41_xc_lowlevel'
  src_42_libpaw_incs='-I$(top_builddir)/src/42_libpaw -I$(top_srcdir)/src/42_libpaw'
  src_42_nlstrain_incs='-I$(top_builddir)/src/42_nlstrain -I$(top_srcdir)/src/42_nlstrain'
  src_42_parser_incs='-I$(top_builddir)/src/42_parser -I$(top_srcdir)/src/42_parser'
  src_43_ptgroups_incs='-I$(top_builddir)/src/43_ptgroups -I$(top_srcdir)/src/43_ptgroups'
  src_43_wvl_wrappers_incs='-I$(top_builddir)/src/43_wvl_wrappers -I$(top_srcdir)/src/43_wvl_wrappers'
  src_44_abitools_incs='-I$(top_builddir)/src/44_abitools -I$(top_srcdir)/src/44_abitools'
  src_44_abitypes_defs_incs='-I$(top_builddir)/src/44_abitypes_defs -I$(top_srcdir)/src/44_abitypes_defs'
  src_45_geomoptim_incs='-I$(top_builddir)/src/45_geomoptim -I$(top_srcdir)/src/45_geomoptim'
  src_45_xgTools_incs='-I$(top_builddir)/src/45_xgTools -I$(top_srcdir)/src/45_xgTools'
  src_46_diago_incs='-I$(top_builddir)/src/46_diago -I$(top_srcdir)/src/46_diago'
  src_49_gw_toolbox_oop_incs='-I$(top_builddir)/src/49_gw_toolbox_oop -I$(top_srcdir)/src/49_gw_toolbox_oop'
  src_51_manage_mpi_incs='-I$(top_builddir)/src/51_manage_mpi -I$(top_srcdir)/src/51_manage_mpi'
  src_52_fft_mpi_noabirule_incs='-I$(top_builddir)/src/52_fft_mpi_noabirule -I$(top_srcdir)/src/52_fft_mpi_noabirule'
  src_52_manage_cuda_incs='-I$(top_builddir)/src/52_manage_cuda -I$(top_srcdir)/src/52_manage_cuda'
  src_53_ffts_incs='-I$(top_builddir)/src/53_ffts -I$(top_srcdir)/src/53_ffts'
  src_54_spacepar_incs='-I$(top_builddir)/src/54_spacepar -I$(top_srcdir)/src/54_spacepar'
  src_55_abiutil_incs='-I$(top_builddir)/src/55_abiutil -I$(top_srcdir)/src/55_abiutil'
  src_56_io_mpi_incs='-I$(top_builddir)/src/56_io_mpi -I$(top_srcdir)/src/56_io_mpi'
  src_56_mixing_incs='-I$(top_builddir)/src/56_mixing -I$(top_srcdir)/src/56_mixing'
  src_56_recipspace_incs='-I$(top_builddir)/src/56_recipspace -I$(top_srcdir)/src/56_recipspace'
  src_56_xc_incs='-I$(top_builddir)/src/56_xc -I$(top_srcdir)/src/56_xc'
  src_57_iopsp_parser_incs='-I$(top_builddir)/src/57_iopsp_parser -I$(top_srcdir)/src/57_iopsp_parser'
  src_57_iovars_incs='-I$(top_builddir)/src/57_iovars -I$(top_srcdir)/src/57_iovars'
  src_59_ionetcdf_incs='-I$(top_builddir)/src/59_ionetcdf -I$(top_srcdir)/src/59_ionetcdf'
  src_61_occeig_incs='-I$(top_builddir)/src/61_occeig -I$(top_srcdir)/src/61_occeig'
  src_62_cg_noabirule_incs='-I$(top_builddir)/src/62_cg_noabirule -I$(top_srcdir)/src/62_cg_noabirule'
  src_62_ctqmc_incs='-I$(top_builddir)/src/62_ctqmc -I$(top_srcdir)/src/62_ctqmc'
  src_62_iowfdenpot_incs='-I$(top_builddir)/src/62_iowfdenpot -I$(top_srcdir)/src/62_iowfdenpot'
  src_62_poisson_incs='-I$(top_builddir)/src/62_poisson -I$(top_srcdir)/src/62_poisson'
  src_62_wvl_wfs_incs='-I$(top_builddir)/src/62_wvl_wfs -I$(top_srcdir)/src/62_wvl_wfs'
  src_63_bader_incs='-I$(top_builddir)/src/63_bader -I$(top_srcdir)/src/63_bader'
  src_64_psp_incs='-I$(top_builddir)/src/64_psp -I$(top_srcdir)/src/64_psp'
  src_65_lotf_base_incs='-I$(top_builddir)/src/65_lotf_base -I$(top_srcdir)/src/65_lotf_base'
  src_65_paw_incs='-I$(top_builddir)/src/65_paw -I$(top_srcdir)/src/65_paw'
  src_66_nonlocal_incs='-I$(top_builddir)/src/66_nonlocal -I$(top_srcdir)/src/66_nonlocal'
  src_66_vdwxc_incs='-I$(top_builddir)/src/66_vdwxc -I$(top_srcdir)/src/66_vdwxc'
  src_66_wfs_incs='-I$(top_builddir)/src/66_wfs -I$(top_srcdir)/src/66_wfs'
  src_67_common_incs='-I$(top_builddir)/src/67_common -I$(top_srcdir)/src/67_common'
  src_67_triqs_ext_incs='-I$(top_builddir)/src/67_triqs_ext -I$(top_srcdir)/src/67_triqs_ext'
  src_68_dmft_incs='-I$(top_builddir)/src/68_dmft -I$(top_srcdir)/src/68_dmft'
  src_68_lotf_incs='-I$(top_builddir)/src/68_lotf -I$(top_srcdir)/src/68_lotf'
  src_68_recursion_incs='-I$(top_builddir)/src/68_recursion -I$(top_srcdir)/src/68_recursion'
  src_68_rsprc_incs='-I$(top_builddir)/src/68_rsprc -I$(top_srcdir)/src/68_rsprc'
  src_69_wfdesc_incs='-I$(top_builddir)/src/69_wfdesc -I$(top_srcdir)/src/69_wfdesc'
  src_70_gw_incs='-I$(top_builddir)/src/70_gw -I$(top_srcdir)/src/70_gw'
  src_71_bse_incs='-I$(top_builddir)/src/71_bse -I$(top_srcdir)/src/71_bse'
  src_71_wannier_incs='-I$(top_builddir)/src/71_wannier -I$(top_srcdir)/src/71_wannier'
  src_72_response_incs='-I$(top_builddir)/src/72_response -I$(top_srcdir)/src/72_response'
  src_77_ddb_incs='-I$(top_builddir)/src/77_ddb -I$(top_srcdir)/src/77_ddb'
  src_77_suscep_incs='-I$(top_builddir)/src/77_suscep -I$(top_srcdir)/src/77_suscep'
  src_78_effpot_incs='-I$(top_builddir)/src/78_effpot -I$(top_srcdir)/src/78_effpot'
  src_78_eph_incs='-I$(top_builddir)/src/78_eph -I$(top_srcdir)/src/78_eph'
  src_79_seqpar_mpi_incs='-I$(top_builddir)/src/79_seqpar_mpi -I$(top_srcdir)/src/79_seqpar_mpi'
  src_80_tdep_incs='-I$(top_builddir)/src/80_tdep -I$(top_srcdir)/src/80_tdep'
  src_83_cut3d_incs='-I$(top_builddir)/src/83_cut3d -I$(top_srcdir)/src/83_cut3d'
  src_84_fold2Bloch_incs='-I$(top_builddir)/src/84_fold2Bloch -I$(top_srcdir)/src/84_fold2Bloch'
  src_94_scfcv_incs='-I$(top_builddir)/src/94_scfcv -I$(top_srcdir)/src/94_scfcv'
  src_95_drive_incs='-I$(top_builddir)/src/95_drive -I$(top_srcdir)/src/95_drive'
  src_incs_incs='-I$(top_builddir)/src/incs -I$(top_srcdir)/src/incs'
  src_mods_incs='-I$(top_builddir)/src/mods -I$(top_srcdir)/src/mods'

    
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  



# ---------------------------------------------------------------------------- #

#
# Build-system information
#


    
  abi_sec_title="Build-system information"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Display ABINIT version
{ $as_echo "$as_me:${as_lineno-$LINENO}: ABINIT version ${ABINIT_VERSION}" >&5
$as_echo "$as_me: ABINIT version ${ABINIT_VERSION}" >&6;}

# Display Autotools version information

    abi_m4_version="010416"
  abi_ac_version="026900"
  abi_am_version="011304"
  abi_lt_version="020406"

    { $as_echo "$as_me:${as_lineno-$LINENO}: M4 ${abi_m4_version} - Autoconf ${abi_ac_version} - Automake ${abi_am_version} - Libtool ${abi_lt_version}" >&5
$as_echo "$as_me: M4 ${abi_m4_version} - Autoconf ${abi_ac_version} - Automake ${abi_am_version} - Libtool ${abi_lt_version}" >&6;}

    
  
  
  


# Display UI changes

  { $as_echo "$as_me:${as_lineno-$LINENO}: reporting user interface changes:" >&5
$as_echo "$as_me: reporting user interface changes:" >&6;}

    if test "${enable_bindings}" != ""; then
    as_fn_error $? "removed option --enable-bindings has been used" "$LINENO" 5
  fi

    if test "${enable_clib}" != ""; then
    as_fn_error $? "removed option --enable-clib has been used" "$LINENO" 5
  fi

    if test "${enable_dev_timer}" != ""; then
    as_fn_error $? "removed option --enable-dev-timer has been used" "$LINENO" 5
  fi

    if test "${enable_gui}" != ""; then
    as_fn_error $? "removed option --enable-gui has been used" "$LINENO" 5
  fi

    if test "${enable_gui_build}" != ""; then
    as_fn_error $? "removed option --enable-gui-build has been used" "$LINENO" 5
  fi

    if test "${enable_mpi_trace}" != ""; then
    as_fn_error $? "removed option --enable-mpi-trace has been used" "$LINENO" 5
  fi

    if test "${enable_pkg_check}" != ""; then
    as_fn_error $? "removed option --enable-pkg-check has been used" "$LINENO" 5
  fi

    if test "${enable_test_timeout}" != ""; then
    as_fn_error $? "removed option --enable-test-timeout has been used" "$LINENO" 5
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}:  * new option --enable-triqs-v1-4 is available" >&5
$as_echo "$as_me:  * new option --enable-triqs-v1-4 is available" >&6;}

    { $as_echo "$as_me:${as_lineno-$LINENO}:  * new option --enable-triqs-v2-0 is available" >&5
$as_echo "$as_me:  * new option --enable-triqs-v2-0 is available" >&6;}

    { $as_echo "$as_me:${as_lineno-$LINENO}:  * new option --enable-xml is available" >&5
$as_echo "$as_me:  * new option --enable-xml is available" >&6;}

    if test "${with_fox_incs}" != ""; then
    as_fn_error $? "removed option --with-fox-incs has been used" "$LINENO" 5
  fi

    if test "${with_fox_libs}" != ""; then
    as_fn_error $? "removed option --with-fox-libs has been used" "$LINENO" 5
  fi

    if test "${with_libpspio_incs}" != ""; then
    as_fn_error $? "removed option --with-libpspio-incs has been used" "$LINENO" 5
  fi

    if test "${with_libpspio_libs}" != ""; then
    as_fn_error $? "removed option --with-libpspio-libs has been used" "$LINENO" 5
  fi

    if test "${with_test_timeout}" != ""; then
    as_fn_error $? "removed option --with-test-timeout has been used" "$LINENO" 5
  fi



# ---------------------------------------------------------------------------- #

#
# Check option consistency
#

# NOTE: please hack this section with EXTREME CARE


    
  abi_sec_title="Option consistency checking"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# --------- #
# Libraries #
# --------- #

abi_optchk_ok="yes"

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking consistency of library-related options" >&5
$as_echo "$as_me: checking consistency of library-related options" >&6;}

# Closing remarks
if test "${abi_optchk_ok}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}:  |---> all OK" >&5
$as_echo "$as_me:  |---> all OK" >&6;}
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}

# -------------------- #
# Experimental options #
# -------------------- #

abi_optchk_ok="yes"

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking consistency of experimental options" >&5
$as_echo "$as_me: checking consistency of experimental options" >&6;}

# Bindings require exports
if test "${enable_bindings}" = "yes"; then
  if test "${enable_exports}" != "yes"; then
    enable_exports="yes"
    { $as_echo "$as_me:${as_lineno-$LINENO}: |---> enabling exports (required for bindings" >&5
$as_echo "$as_me: |---> enabling exports (required for bindings" >&6;}
    abi_optchk_ok="no"
  fi
fi

# Closing remarks
if test "${abi_optchk_ok}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}:  |---> all OK" >&5
$as_echo "$as_me:  |---> all OK" >&6;}
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}

# ------------------ #
# Maintainer options #
# ------------------ #

abi_optchk_ok="yes"

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking consistency of maintainer options" >&5
$as_echo "$as_me: checking consistency of maintainer options" >&6;}

# Fast check conflicts with package check
if test "${enable_fast_check}" = "yes"; then
  if test "${enable_pkg_check}" = "yes"; then
    as_fn_error $? "--enable-fast-check conflicts with --enable-pkg-check" "$LINENO" 5
    abi_optchk_ok="no"
  fi
fi

# Closing remarks
if test "${abi_optchk_ok}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}:  |---> all OK" >&5
$as_echo "$as_me:  |---> all OK" >&6;}
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}

# ------------------- #
# Final step: parsing #
# ------------------- #


  
  { $as_echo "$as_me:${as_lineno-$LINENO}: parsing command-line options" >&5
$as_echo "$as_me: parsing command-line options" >&6;}

    if test "${enable_64bit_flags}" != ""; then
    for v in `echo "${enable_64bit_flags}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_64bit_flags = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_64bit_flags = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_64bit_flags = ${v}" "$LINENO" 5
    fi
  fi

      enable_atompaw="no"

    if test "${enable_avx_safe_mode}" != ""; then
    for v in `echo "${enable_avx_safe_mode}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_avx_safe_mode = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_avx_safe_mode = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_avx_safe_mode = ${v}" "$LINENO" 5
    fi
  fi

      enable_bigdft="no"

    if test "${enable_bse_unpacked}" != ""; then
    for v in `echo "${enable_bse_unpacked}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_bse_unpacked = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_bse_unpacked = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_bse_unpacked = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_cclock}" != ""; then
    for v in `echo "${enable_cclock}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_cclock = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_cclock = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_cclock = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_config_file}" != ""; then
    for v in `echo "${enable_config_file}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_config_file = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_config_file = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_config_file = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_connectors}" != ""; then
    for v in `echo "${enable_connectors}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_connectors = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_connectors = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_connectors = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_debug}" != ""; then
    for v in `echo "${enable_debug}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes basic verbose enhanced paranoid naughty; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_debug = (no|yes|basic|verbose|enhanced|paranoid|naughty)" >&5
$as_echo "$as_me: WARNING: enable_debug = (no|yes|basic|verbose|enhanced|paranoid|naughty)" >&2;}
      as_fn_error $? "invalid option: enable_debug = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_exports}" != ""; then
    for v in `echo "${enable_exports}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_exports = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_exports = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_exports = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_fallbacks}" != ""; then
    for v in `echo "${enable_fallbacks}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes force; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_fallbacks = (no|yes|force)" >&5
$as_echo "$as_me: WARNING: enable_fallbacks = (no|yes|force)" >&2;}
      as_fn_error $? "invalid option: enable_fallbacks = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_fast_check}" != ""; then
    for v in `echo "${enable_fast_check}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_fast_check = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_fast_check = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_fast_check = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_fc_wrapper}" != ""; then
    for v in `echo "${enable_fc_wrapper}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_fc_wrapper = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_fc_wrapper = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_fc_wrapper = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_gpu}" != ""; then
    for v in `echo "${enable_gpu}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_gpu = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_gpu = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_gpu = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_gw_dpc}" != ""; then
    for v in `echo "${enable_gw_dpc}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_gw_dpc = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_gw_dpc = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_gw_dpc = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_hints}" != ""; then
    for v in `echo "${enable_hints}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_hints = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_hints = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_hints = ${v}" "$LINENO" 5
    fi
  fi

      enable_libpaw="yes"

      enable_libtetra="yes"

      enable_libxc="no"

      enable_linalg="no"

    if test "${enable_lotf}" != ""; then
    for v in `echo "${enable_lotf}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_lotf = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_lotf = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_lotf = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_macroave}" != ""; then
    for v in `echo "${enable_macroave}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_macroave = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_macroave = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_macroave = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_maintainer_checks}" != ""; then
    for v in `echo "${enable_maintainer_checks}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_maintainer_checks = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_maintainer_checks = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_maintainer_checks = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_memory_profiling}" != ""; then
    for v in `echo "${enable_memory_profiling}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_memory_profiling = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_memory_profiling = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_memory_profiling = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_mpi}" != ""; then
    for v in `echo "${enable_mpi}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes auto; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_mpi = (no|yes|auto)" >&5
$as_echo "$as_me: WARNING: enable_mpi = (no|yes|auto)" >&2;}
      as_fn_error $? "invalid option: enable_mpi = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_mpi_inplace}" != ""; then
    for v in `echo "${enable_mpi_inplace}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_mpi_inplace = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_mpi_inplace = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_mpi_inplace = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_mpi_io}" != ""; then
    for v in `echo "${enable_mpi_io}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes auto; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_mpi_io = (no|yes|auto)" >&5
$as_echo "$as_me: WARNING: enable_mpi_io = (no|yes|auto)" >&2;}
      as_fn_error $? "invalid option: enable_mpi_io = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_mpi_io_default}" != ""; then
    for v in `echo "${enable_mpi_io_default}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_mpi_io_default = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_mpi_io_default = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_mpi_io_default = ${v}" "$LINENO" 5
    fi
  fi

      enable_netcdf="no"

    if test "${enable_netcdf_default}" != ""; then
    for v in `echo "${enable_netcdf_default}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_netcdf_default = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_netcdf_default = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_netcdf_default = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_openmp}" != ""; then
    for v in `echo "${enable_openmp}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_openmp = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_openmp = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_openmp = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_optim}" != ""; then
    for v in `echo "${enable_optim}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes safe standard aggressive; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_optim = (no|yes|safe|standard|aggressive)" >&5
$as_echo "$as_me: WARNING: enable_optim = (no|yes|safe|standard|aggressive)" >&2;}
      as_fn_error $? "invalid option: enable_optim = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_stdin}" != ""; then
    for v in `echo "${enable_stdin}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_stdin = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_stdin = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_stdin = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_triqs_v1_4}" != ""; then
    for v in `echo "${enable_triqs_v1_4}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_triqs_v1_4 = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_triqs_v1_4 = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_triqs_v1_4 = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_triqs_v2_0}" != ""; then
    for v in `echo "${enable_triqs_v2_0}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_triqs_v2_0 = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_triqs_v2_0 = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_triqs_v2_0 = ${v}" "$LINENO" 5
    fi
  fi

      enable_wannier90="no"

    if test "${enable_wannier90_v1}" != ""; then
    for v in `echo "${enable_wannier90_v1}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_wannier90_v1 = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_wannier90_v1 = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_wannier90_v1 = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_xml}" != ""; then
    for v in `echo "${enable_xml}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_xml = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_xml = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_xml = ${v}" "$LINENO" 5
    fi
  fi

    if test "${enable_zdot_bugfix}" != ""; then
    for v in `echo "${enable_zdot_bugfix}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in no yes; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: enable_zdot_bugfix = (no|yes)" >&5
$as_echo "$as_me: WARNING: enable_zdot_bugfix = (no|yes)" >&2;}
      as_fn_error $? "invalid option: enable_zdot_bugfix = ${v}" "$LINENO" 5
    fi
  fi

    
   if test "${with_algo_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_algo_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_algo_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_algo_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_algo_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_algo_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_algo_libs: ${v}" >&2;}
    fi
  fi

   if test "${with_atompaw_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_atompaw_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_atompaw_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_atompaw_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_atompaw_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_atompaw_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_atompaw_libs: ${v}" >&2;}
    fi
  fi

   if test "${with_bigdft_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_bigdft_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_bigdft_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_bigdft_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_bigdft_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_bigdft_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_bigdft_libs: ${v}" >&2;}
    fi
  fi

    if test "${with_dft_flavor}" != ""; then
    for v in `echo "${with_dft_flavor}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in atompaw atompaw-fallback bigdft bigdft-fallback libxc libxc-fallback none wannier90 wannier90-fallback; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: with_dft_flavor = (atompaw|atompaw-fallback|bigdft|bigdft-fallback|libxc|libxc-fallback|none|wannier90|wannier90-fallback)" >&5
$as_echo "$as_me: WARNING: with_dft_flavor = (atompaw|atompaw-fallback|bigdft|bigdft-fallback|libxc|libxc-fallback|none|wannier90|wannier90-fallback)" >&2;}
      as_fn_error $? "invalid option: with_dft_flavor = ${v}" "$LINENO" 5
    fi
  fi

    if test "${with_fft_flavor}" != ""; then
    for v in `echo "${with_fft_flavor}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in asl custom fftw2 fftw2-threads fftw3 fftw3-mkl fftw3-threads fftw3-mpi none sgimath dfti dfti-threads; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: with_fft_flavor = (asl|custom|fftw2|fftw2-threads|fftw3|fftw3-mkl|fftw3-threads|fftw3-mpi|none|sgimath|dfti|dfti-threads)" >&5
$as_echo "$as_me: WARNING: with_fft_flavor = (asl|custom|fftw2|fftw2-threads|fftw3|fftw3-mkl|fftw3-threads|fftw3-mpi|none|sgimath|dfti|dfti-threads)" >&2;}
      as_fn_error $? "invalid option: with_fft_flavor = ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_fft_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_fft_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_fft_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_fft_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_fft_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_fft_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_fft_libs: ${v}" >&2;}
    fi
  fi

    if test "${with_gpu_flavor}" != ""; then
    for v in `echo "${with_gpu_flavor}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in cuda-single cuda-double none; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: with_gpu_flavor = (cuda-single|cuda-double|none)" >&5
$as_echo "$as_me: WARNING: with_gpu_flavor = (cuda-single|cuda-double|none)" >&2;}
      as_fn_error $? "invalid option: with_gpu_flavor = ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_gpu_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_gpu_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_gpu_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_gpu_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_gpu_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_gpu_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_gpu_libs: ${v}" >&2;}
    fi
  fi

   if test "${with_libxc_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_libxc_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_libxc_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_libxc_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_libxc_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_libxc_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_libxc_libs: ${v}" >&2;}
    fi
  fi

    if test "${with_linalg_flavor}" != ""; then
    for v in `echo "${with_linalg_flavor}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in acml asl atlas custom elpa essl goto magma mkl netlib netlib-fallback none plasma scalapack; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: with_linalg_flavor = (acml|asl|atlas|custom|elpa|essl|goto|magma|mkl|netlib|netlib-fallback|none|plasma|scalapack)" >&5
$as_echo "$as_me: WARNING: with_linalg_flavor = (acml|asl|atlas|custom|elpa|essl|goto|magma|mkl|netlib|netlib-fallback|none|plasma|scalapack)" >&2;}
      as_fn_error $? "invalid option: with_linalg_flavor = ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_linalg_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_linalg_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_linalg_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_linalg_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_linalg_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_linalg_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_linalg_libs: ${v}" >&2;}
    fi
  fi

    if test "${with_math_flavor}" != ""; then
    for v in `echo "${with_math_flavor}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in gsl none; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: with_math_flavor = (gsl|none)" >&5
$as_echo "$as_me: WARNING: with_math_flavor = (gsl|none)" >&2;}
      as_fn_error $? "invalid option: with_math_flavor = ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_math_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_math_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_math_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_math_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_math_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_math_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_math_libs: ${v}" >&2;}
    fi
  fi

   if test "${with_mpi_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_mpi_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_mpi_incs: ${v}" "$LINENO" 5
    fi
  fi

    if test "${with_mpi_level}" != ""; then
    for v in `echo "${with_mpi_level}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in 1 2; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: with_mpi_level = (1|2)" >&5
$as_echo "$as_me: WARNING: with_mpi_level = (1|2)" >&2;}
      as_fn_error $? "invalid option: with_mpi_level = ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_mpi_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_mpi_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_mpi_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_mpi_libs: ${v}" >&2;}
    fi
  fi

   if test "${with_netcdf_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_netcdf_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_netcdf_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_netcdf_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_netcdf_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_netcdf_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_netcdf_libs: ${v}" >&2;}
    fi
  fi

   if test "${with_psml_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_psml_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_psml_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_psml_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_psml_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_psml_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_psml_libs: ${v}" >&2;}
    fi
  fi

    if test "${with_timer_flavor}" != ""; then
    for v in `echo "${with_timer_flavor}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in abinit gptl none papi; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: with_timer_flavor = (abinit|gptl|none|papi)" >&5
$as_echo "$as_me: WARNING: with_timer_flavor = (abinit|gptl|none|papi)" >&2;}
      as_fn_error $? "invalid option: with_timer_flavor = ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_timer_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_timer_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_timer_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_timer_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_timer_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_timer_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_timer_libs: ${v}" >&2;}
    fi
  fi

    if test "${with_trio_flavor}" != ""; then
    for v in `echo "${with_trio_flavor}" | sed -e 's/+/ /g'`; do
      opt_ok="no"
      for r in psml netcdf netcdf-fallback yaml none; do
        if test "${v}" = "${r}";then
          opt_ok="yes"
          break
        fi
      done
      test "${opt_ok}" = "no" && break
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: with_trio_flavor = (psml|netcdf|netcdf-fallback|yaml|none)" >&5
$as_echo "$as_me: WARNING: with_trio_flavor = (psml|netcdf|netcdf-fallback|yaml|none)" >&2;}
      as_fn_error $? "invalid option: with_trio_flavor = ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_triqs_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_triqs_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_triqs_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_triqs_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_triqs_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_triqs_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_triqs_libs: ${v}" >&2;}
    fi
  fi

   if test "${with_wannier90_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_wannier90_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_wannier90_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_wannier90_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_wannier90_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_wannier90_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_wannier90_libs: ${v}" >&2;}
    fi
  fi

   if test "${with_yaml_incs}" != ""; then
    opt_ok="yes"
    for v in ${with_yaml_incs}; do
      if test "`echo "${v}" | grep '^-I'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      as_fn_error $? "invalid include statement in with_yaml_incs: ${v}" "$LINENO" 5
    fi
  fi

   if test "${with_yaml_libs}" != ""; then
    opt_ok="yes"
    for v in ${with_yaml_libs}; do
      if test "`echo "${v}" | grep '^-[LloW]'`" = ""; then
        opt_ok="no"
        break
      fi
    done
    if test "${opt_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: possible invalid library statement in with_yaml_libs: ${v}" >&5
$as_echo "$as_me: WARNING: possible invalid library statement in with_yaml_libs: ${v}" >&2;}
    fi
  fi



# ---------------------------------------------------------------------------- #

#
# Multicore architecture startup
#


    
  abi_sec_title="Multicore architecture startup"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Prepare MPI support

    abi_mpi_cc_ok="unknown"
  abi_mpi_cxx_ok="unknown"
  abi_mpi_complete="unknown"
  abi_mpi_enabled="${enable_mpi}"
  abi_mpi_fc_level="none"
  abi_mpi_fc_ok="unknown"
  abi_mpi_has_cc="no"
  abi_mpi_has_cxx="no"
  abi_mpi_has_fc="no"
  abi_mpi_level="${with_mpi_level}"
  abi_mpi_usable="no"
  lib_mpi_incs="${with_mpi_incs}"
  lib_mpi_libs="${with_mpi_libs}"
  test "${MPI_RUNNER}" = "" && MPI_RUNNER="${with_mpi_runner}"
  test "${MPI_2PROCS}" = "" && MPI_2PROCS="-np 2"
  MPI_CC=""
  MPI_CXX=""
  MPI_FC=""

  if test "${enable_mpi}" = "yes" -o "${enable_mpi}" = "auto"; then

        { $as_echo "$as_me:${as_lineno-$LINENO}: Initializing MPI support" >&5
$as_echo "$as_me: Initializing MPI support" >&6;}

        if test "${with_mpi_prefix}" != ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: looking for MPI in ${with_mpi_prefix}" >&5
$as_echo "$as_me: looking for MPI in ${with_mpi_prefix}" >&6;}

            if test "${CPP}" != ""; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: ${CPP} might not be fully compatible with MPI" >&5
$as_echo "$as_me: WARNING: ${CPP} might not be fully compatible with MPI" >&2;}
      fi
      if test "${MPI_RUNNER}" != ""; then
        as_fn_error $? "use --with-mpi-prefix or set MPI_RUNNER, not both" "$LINENO" 5
      fi
      if test "${with_mpi_incs}" != ""; then
        as_fn_error $? "use --with-mpi-prefix or --with-mpi-includes, not both" "$LINENO" 5
      fi
      if test "${with_mpi_level}" != ""; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: forcing MPI level to ${with_mpi_level} might make the build fail" >&5
$as_echo "$as_me: WARNING: forcing MPI level to ${with_mpi_level} might make the build fail" >&2;}
      fi
      if test "${with_mpi_libs}" != ""; then
        as_fn_error $? "use --with-mpi-prefix or --with-mpi-libs, not both" "$LINENO" 5
      fi
      if test "${with_mpi_runner}" != ""; then
        as_fn_error $? "use --with-mpi-prefix or --with-mpi-runner, not both" "$LINENO" 5
      fi

            { $as_echo "$as_me:${as_lineno-$LINENO}: checking for a MPI C compiler" >&5
$as_echo_n "checking for a MPI C compiler... " >&6; }
      if test -x "${with_mpi_prefix}/bin/mpicc"; then
        abi_mpi_has_cc="yes"
        MPI_CC="${with_mpi_prefix}/bin/mpicc"
      fi
      if test "${MPI_CC}" = ""; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: none found" >&5
$as_echo "none found" >&6; }
      else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${MPI_CC}" >&5
$as_echo "${MPI_CC}" >&6; }
      fi

            { $as_echo "$as_me:${as_lineno-$LINENO}: checking for a MPI C++ compiler" >&5
$as_echo_n "checking for a MPI C++ compiler... " >&6; }
      if test -x "${with_mpi_prefix}/bin/mpicxx"; then
        abi_mpi_has_cxx="yes"
        MPI_CXX="${with_mpi_prefix}/bin/mpicxx"
      elif test -x "${with_mpi_prefix}/bin/mpic++"; then
        abi_mpi_has_cxx="yes"
        MPI_CXX="${with_mpi_prefix}/bin/mpic++"
      fi
      if test "${MPI_CXX}" = ""; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: none found" >&5
$as_echo "none found" >&6; }
      else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${MPI_CXX}" >&5
$as_echo "${MPI_CXX}" >&6; }
      fi

            { $as_echo "$as_me:${as_lineno-$LINENO}: checking for a MPI Fortran compiler" >&5
$as_echo_n "checking for a MPI Fortran compiler... " >&6; }
      if test -x "${with_mpi_prefix}/bin/mpif90"; then
        abi_mpi_has_fc="yes"
        MPI_FC="${with_mpi_prefix}/bin/mpif90"
      fi
      if test "${MPI_FC}" = ""; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: none found" >&5
$as_echo "none found" >&6; }
      else
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${MPI_FC}" >&5
$as_echo "${MPI_FC}" >&6; }
      fi

            if test "${abi_mpi_has_cc}" = "yes" -a \
              "${abi_mpi_has_fc}" = "yes"; then
        abi_mpi_complete="yes"

                                                        tmp_chk_cc="no"
        tmp_chk_redundant="no"
        if test "${CC}" = "${MPI_CC}"; then
          tmp_chk_cc="yes"
          tmp_chk_redundant="yes"
          { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: redundant setting of MPI C compiler!
    Use --with-mpi-prefix preferably." >&5
$as_echo "$as_me: WARNING: redundant setting of MPI C compiler!
    Use --with-mpi-prefix preferably." >&2;}
        fi
        tmp_chk_cxx="no"
        if test "${CXX}" = "${MPI_CXX}"; then
          tmp_chk_cxx="yes"
          { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: redundant setting of MPI C++ compiler!
    Use --with-mpi-prefix preferably." >&5
$as_echo "$as_me: WARNING: redundant setting of MPI C++ compiler!
    Use --with-mpi-prefix preferably." >&2;}
        fi
        if test "${tmp_chk_cxx}" != "${tmp_chk_redundant}"; then
          { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: inconsistent compiler settings!
    Use --with-mpi-prefix or set (CC, CXX, FC), not both." >&5
$as_echo "$as_me: WARNING: inconsistent compiler settings!
    Use --with-mpi-prefix or set (CC, CXX, FC), not both." >&2;}
        fi
        tmp_chk_fc="no"
        if test "${FC}" = "${MPI_FC}"; then
          tmp_chk_fc="yes"
          { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: redundant setting of MPI Fortran compiler
    Use --with-mpi-prefix preferably." >&5
$as_echo "$as_me: WARNING: redundant setting of MPI Fortran compiler
    Use --with-mpi-prefix preferably." >&2;}
        fi
        if test "${tmp_chk_fc}" != "${tmp_chk_redundant}"; then
          as_fn_error $? "inconsistent compiler settings!
    Use --with-mpi-prefix or set (CC, CXX, FC), not both." "$LINENO" 5
        fi
        if test "${tmp_chk_redundant}" = "yes"; then
          CC=""
          CXX=""
          FC=""
          { $as_echo "$as_me:${as_lineno-$LINENO}: ignoring CC, CXX, and FC settings" >&5
$as_echo "$as_me: ignoring CC, CXX, and FC settings" >&6;}
        fi
        unset tmp_chk_cc tmp_chk_cxx tmp_chk_fc tmp_chk_redundant

                if test "${CC}" = ""; then
          CC="${MPI_CC}"
        else
          { $as_echo "$as_me:${as_lineno-$LINENO}: creating wrapper for MPI C compiler" >&5
$as_echo "$as_me: creating wrapper for MPI C compiler" >&6;}
          
    tmp_name=`echo "CC" | sed -e 's/.*/\L&/'`
  ${MKDIR_P} config/wrappers

    cat >${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name} <<EOF
#!/bin/sh

CC="${CC}"
export CC

${MPI_CC} \${*}
EOF

    chmod u+x ${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name}

    eval CC="${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name}"

    unset tmp_name

        fi
        if test "${CXX}" = ""; then
          CXX="${MPI_CXX}"
        else
          { $as_echo "$as_me:${as_lineno-$LINENO}: creating wrapper for MPI C++ compiler" >&5
$as_echo "$as_me: creating wrapper for MPI C++ compiler" >&6;}
          
    tmp_name=`echo "CXX" | sed -e 's/.*/\L&/'`
  ${MKDIR_P} config/wrappers

    cat >${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name} <<EOF
#!/bin/sh

CXX="${CXX}"
export CXX

${MPI_CXX} \${*}
EOF

    chmod u+x ${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name}

    eval CXX="${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name}"

    unset tmp_name

        fi
        if test "${FC}" = ""; then
          FC="${MPI_FC}"
        else
          { $as_echo "$as_me:${as_lineno-$LINENO}: creating wrapper for MPI Fortran compiler" >&5
$as_echo "$as_me: creating wrapper for MPI Fortran compiler" >&6;}
          
    tmp_name=`echo "FC" | sed -e 's/.*/\L&/'`
  ${MKDIR_P} config/wrappers

    cat >${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name} <<EOF
#!/bin/sh

FC="${FC}"
export FC

${MPI_FC} \${*}
EOF

    chmod u+x ${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name}

    eval FC="${abinit_builddir}/config/wrappers/wrap-mpi${tmp_name}"

    unset tmp_name

        fi
      else
        unset MPI_CC
        unset MPI_CXX
        unset MPI_FC
        unset MPI_RUNNER
        unset MPI_2PROCS
        abi_mpi_complete="no"
      fi

    else 
            { $as_echo "$as_me:${as_lineno-$LINENO}: compiler checks deferred" >&5
$as_echo "$as_me: compiler checks deferred" >&6;}
  
    fi 
  else 
    { $as_echo "$as_me:${as_lineno-$LINENO}: MPI support disabled from command-line" >&5
$as_echo "$as_me: MPI support disabled from command-line" >&6;}
    enable_mpi_inplace="no"
    enable_mpi_io="no"
    with_mpi_level=""
    with_mpi_prefix=""
    lib_mpi_incs=""
    lib_mpi_libs=""
    MPI_RUNNER=""
    MPI_2PROCS=""

  fi 
    
  
  
  
  
  


# GPU support requires MPI
if test "${enable_gpu}" = "yes" -a "${enable_mpi}" != "yes"; then
  as_fn_error $? "GPU support requires MPI" "$LINENO" 5
fi

# Prepare GPU support

    abi_gpu_complete="unknown"
  abi_gpu_has_cc="no"
  abi_gpu_has_fft="no"
  abi_gpu_has_incs="no"
  abi_gpu_has_libs="no"
  abi_gpu_has_linalg="no"
  abi_gpu_usable="no"
  lib_gpu_fcflags=""
  lib_gpu_ldflags=""
  lib_gpu_flavor="none"
  lib_gpu_incs=""
  lib_gpu_libs=""

  if test "${enable_gpu}" = "yes"; then

        { $as_echo "$as_me:${as_lineno-$LINENO}: Initializing GPU support" >&5
$as_echo "$as_me: Initializing GPU support" >&6;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which kind of GPU we want" >&5
$as_echo_n "checking which kind of GPU we want... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_gpu_flavor}" >&5
$as_echo "${with_gpu_flavor}" >&6; }

        if test "${with_gpu_prefix}" != ""; then
      if test "${with_gpu_incs}" != ""; then
        as_fn_error $? "use --with-gpu-prefix or --with-gpu-includes, not both" "$LINENO" 5
      fi
      if test "${with_gpu_libs}" != ""; then
        as_fn_error $? "use --with-gpu-prefix or --with-gpu-libs, not both" "$LINENO" 5
      fi
      { $as_echo "$as_me:${as_lineno-$LINENO}: looking for GPU support in ${with_gpu_prefix}" >&5
$as_echo "$as_me: looking for GPU support in ${with_gpu_prefix}" >&6;}
    fi

        case "${with_gpu_flavor}" in

      cuda*)
        
    abi_gpu_cuda_has_cc="no"
  abi_gpu_cuda_has_common="no"
  abi_gpu_cuda_has_fft="no"
  abi_gpu_cuda_has_incs="no"
  abi_gpu_cuda_has_libs="no"
  abi_gpu_cuda_has_linalg="no"
  abi_gpu_cuda_has_runtime="no"
  abi_gpu_cuda_libdir=""
  abi_gpu_cuda_incs="${with_gpu_incs}"
  abi_gpu_cuda_libs="${with_gpu_libs}"
  abi_gpu_cuda_root="${with_gpu_prefix}"

    if test "${abi_gpu_cuda_root}" = ""; then
    abi_gpu_cuda_root="${CUDA_ROOT}"
  fi

    if test "${abi_gpu_cuda_root}" = ""; then

        if test "${NVCC}" = ""; then
      for ac_prog in nvcc
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_NVCC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$NVCC"; then
  ac_cv_prog_NVCC="$NVCC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_NVCC="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
NVCC=$ac_cv_prog_NVCC
if test -n "$NVCC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $NVCC" >&5
$as_echo "$NVCC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$NVCC" && break
done

    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the nVidia C compiler" >&5
$as_echo_n "checking for the nVidia C compiler... " >&6; }
    if test "${NVCC}" = ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: none found" >&5
$as_echo "none found" >&6; }
    else
      abi_gpu_cuda_has_cc="yes"
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${NVCC}" >&5
$as_echo "${NVCC}" >&6; }
    fi

  else

        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the nVidia C compiler" >&5
$as_echo_n "checking for the nVidia C compiler... " >&6; }
    if test -x "${abi_gpu_cuda_root}/bin/nvcc"; then
      abi_gpu_cuda_has_cc="yes"
      NVCC="${abi_gpu_cuda_root}/bin/nvcc"
    fi
    if test "${NVCC}" = ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: none found" >&5
$as_echo "none found" >&6; }
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${NVCC}" >&5
$as_echo "${NVCC}" >&6; }
    fi

        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Cuda headers" >&5
$as_echo_n "checking for Cuda headers... " >&6; }
    abi_result=""
    if test -s "${abi_gpu_cuda_root}/include/cuda_runtime_api.h"; then
      if test "${with_gpu_incs}" = ""; then
        abi_gpu_cuda_incs="-I${abi_gpu_cuda_root}/include"
      fi
      abi_gpu_cuda_has_incs="yes"
      abi_result="${abi_result} run-time"
    fi
    if test -s "${abi_gpu_cuda_root}/include/cufft.h"; then
      abi_result="${abi_result} fft"
    fi
    if test -s "${abi_gpu_cuda_root}/include/cublas.h"; then
      abi_result="${abi_result} blas"
    fi
    if test -s "${abi_gpu_cuda_root}/SDK/C/common/inc/cutil.h"; then
      if test "${with_gpu_incs}" = ""; then
        abi_gpu_cuda_incs="-I${abi_gpu_cuda_root}/SDK/C/common/inc ${abi_gpu_cuda_incs}"
      fi
      abi_result="${abi_result} sdk"
    fi
    if test "${abi_result}" = ""; then
      abi_result="none"
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_result}" >&5
$as_echo "${abi_result}" >&6; }

        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Cuda libraries" >&5
$as_echo_n "checking for Cuda libraries... " >&6; }
    abi_result=""
    if test "${abi_cpu_64bits}" = "yes"; then
      abi_gpu_cuda_libdir="${abi_gpu_cuda_root}/lib64"
    else
      abi_gpu_cuda_libdir="${abi_gpu_cuda_root}/lib"
    fi
    for tmp_cuda_dir in \
        /usr/lib \
        /usr/local/lib \
        /usr/local/lib${abi_cpu_bits} \
        /usr/lib/nvidia-current \
        /usr/local/lib/nvidia-current \
        /usr/local/lib${abi_cpu_bits}/nvidia-current; do
      if test "${abi_gpu_cuda_has_common}" = "no"; then
        if test -e "${tmp_cuda_dir}/libcuda.${abi_so_ext}"; then
          abi_gpu_cuda_has_libs="yes"
          abi_gpu_cuda_has_common="yes"
          abi_result="${abi_result} common"
        fi
      fi
    done
    if test -e "${abi_gpu_cuda_libdir}/libcudart.${abi_so_ext}"; then
      if test "${with_gpu_libs}" = ""; then
        abi_gpu_cuda_libs="-lcudart"
      fi
      abi_gpu_cuda_has_libs="yes"
      abi_gpu_cuda_has_runtime="yes"
      abi_result="${abi_result} run-time"
    fi
    if test "${abi_gpu_cuda_has_libs}" = "yes"; then
      if test -e "${abi_gpu_cuda_libdir}/libcufft.${abi_so_ext}"; then
        if test "${with_gpu_libs}" = ""; then
          abi_gpu_cuda_libs="-lcufft ${abi_gpu_cuda_libs}"
        fi
        abi_gpu_cuda_has_fft="yes"
        abi_result="${abi_result} fft"
      fi
      if test -e "${abi_gpu_cuda_libdir}/libcublas.${abi_so_ext}"; then
        if test "${with_gpu_libs}" = ""; then
          abi_gpu_cuda_libs="-lcublas ${abi_gpu_cuda_libs}"
        fi
        abi_gpu_cuda_has_linalg="yes"
        abi_result="${abi_result} blas"
      fi
      if test "${with_gpu_libs}" = ""; then
        abi_gpu_cuda_libs="-L${abi_gpu_cuda_libdir} ${abi_gpu_cuda_libs}"
      fi
    fi
    if test -s "${abi_gpu_cuda_root}/SDK/C/lib/libcutil.a"; then
      if test "${with_gpu_libs}" = ""; then
        abi_gpu_cuda_libs="-L${abi_gpu_cuda_root}/SDK/C/lib -lcutil ${abi_gpu_cuda_libs}"
      fi
      abi_result="${abi_result} sdk"
    fi
    if test "${abi_result}" = ""; then
      abi_result="none"
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_result}" >&5
$as_echo "${abi_result}" >&6; }
    if test "${with_gpu_libs}" = ""; then
      abi_gpu_cuda_libs="${abi_gpu_cuda_libs} -lcuda"
    fi
    if test "${abi_gpu_cuda_has_common}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: could not find libcuda.${abi_so_ext}" >&5
$as_echo "$as_me: WARNING: could not find libcuda.${abi_so_ext}" >&2;}
    fi

        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Cuda link flags" >&5
$as_echo_n "checking for Cuda link flags... " >&6; }
    if test "${CC_LDFLAGS_GPU}" = ""; then
      if test "${abi_cpu_64bits}" = "yes"; then
        CC_LDFLAGS_GPU="-Wl,-rpath=${abi_gpu_cuda_root}/lib64"
      else
        CC_LDFLAGS_GPU="-Wl,-rpath=${abi_gpu_cuda_root}/lib"
      fi
    fi
    if test "${CXX_LDFLAGS_GPU}" = ""; then
      if test "${abi_cpu_64bits}" = "yes"; then
        CXX_LDFLAGS_GPU="-Wl,-rpath=${abi_gpu_cuda_root}/lib64"
      else
        CXX_LDFLAGS_GPU="-Wl,-rpath=${abi_gpu_cuda_root}/lib"
      fi
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${CC_LDFLAGS_GPU}" >&5
$as_echo "${CC_LDFLAGS_GPU}" >&6; }

  fi 
  { $as_echo "$as_me:${as_lineno-$LINENO}: Cuda incs: ${abi_gpu_cuda_incs}" >&5
$as_echo "$as_me: Cuda incs: ${abi_gpu_cuda_incs}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: Cuda libs: ${abi_gpu_cuda_libs}" >&5
$as_echo "$as_me: Cuda libs: ${abi_gpu_cuda_libs}" >&6;}

        abi_gpu_has_cc="${abi_gpu_cuda_has_cc}"
        abi_gpu_has_fft="${abi_gpu_cuda_has_fft}"
        abi_gpu_has_incs="${abi_gpu_cuda_has_incs}"
        abi_gpu_has_libs="${abi_gpu_cuda_has_libs}"
        abi_gpu_has_linalg="${abi_gpu_cuda_has_linalg}"
        if test "${abi_gpu_has_cc}" = "yes" -a \
                "${abi_gpu_has_incs}" = "yes" -a \
                "${abi_gpu_has_libs}" = "yes"; then
          abi_gpu_complete="yes"
        else
          abi_gpu_complete="no"
        fi
        ;;

    esac

  else

    { $as_echo "$as_me:${as_lineno-$LINENO}: GPU support disabled from command-line" >&5
$as_echo "$as_me: GPU support disabled from command-line" >&6;}

  fi 
    
  
  
  
  


# ScaLAPACK support requires MPI
if test "${enable_scalapack}" = "yes" -a "${enable_mpi}" != "yes"; then
  as_fn_error $? "ScaLAPACK support requires MPI" "$LINENO" 5
fi

# ---------------------------------------------------------------------------- #

#
# Miscellaneous utilities
#


    
  abi_sec_title="Utilities"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Check for various programs
# Extract the first word of "sh", so it can be a program name with args.
set dummy sh; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_BOURNE_SHELL+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $BOURNE_SHELL in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_BOURNE_SHELL="$BOURNE_SHELL" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_BOURNE_SHELL="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_path_BOURNE_SHELL" && ac_cv_path_BOURNE_SHELL="/bin/sh"
  ;;
esac
fi
BOURNE_SHELL=$ac_cv_path_BOURNE_SHELL
if test -n "$BOURNE_SHELL"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $BOURNE_SHELL" >&5
$as_echo "$BOURNE_SHELL" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


# Extract the first word of "mv", so it can be a program name with args.
set dummy mv; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_MV+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $MV in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_MV="$MV" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_MV="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_path_MV" && ac_cv_path_MV="/bin/false"
  ;;
esac
fi
MV=$ac_cv_path_MV
if test -n "$MV"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $MV" >&5
$as_echo "$MV" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


# Extract the first word of "perl", so it can be a program name with args.
set dummy perl; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_PERL+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $PERL in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_PERL="$PERL" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_PERL="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_path_PERL" && ac_cv_path_PERL="/bin/false"
  ;;
esac
fi
PERL=$ac_cv_path_PERL
if test -n "$PERL"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $PERL" >&5
$as_echo "$PERL" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


# Extract the first word of "rm", so it can be a program name with args.
set dummy rm; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_RM+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $RM in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_RM="$RM" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_RM="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_path_RM" && ac_cv_path_RM="/bin/false"
  ;;
esac
fi
RM=$ac_cv_path_RM
if test -n "$RM"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $RM" >&5
$as_echo "$RM" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi



for ac_prog in patch
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_PATCH+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$PATCH"; then
  ac_cv_prog_PATCH="$PATCH" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_PATCH="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
PATCH=$ac_cv_prog_PATCH
if test -n "$PATCH"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $PATCH" >&5
$as_echo "$PATCH" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$PATCH" && break
done

for ac_prog in tar
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_TAR+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$TAR"; then
  ac_cv_prog_TAR="$TAR" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_TAR="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
TAR=$ac_cv_prog_TAR
if test -n "$TAR"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $TAR" >&5
$as_echo "$TAR" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$TAR" && break
done


# ---------------------------------------------------------------------------- #

#
# C support
#


    
  abi_sec_title="C support"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Preserve environment

    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



# Look for the C compiler
if test "${CC}" != "" -a ! -x "${CC}"; then
  abi_cc_probe=`echo "${CC}" | sed -e 's/ .*//'`
  if test ! -x "${abi_cc_probe}"; then
    # Extract the first word of "${abi_cc_probe}", so it can be a program name with args.
set dummy ${abi_cc_probe}; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_abi_cc_path+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $abi_cc_path in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_abi_cc_path="$abi_cc_path" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_abi_cc_path="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
abi_cc_path=$ac_cv_path_abi_cc_path
if test -n "$abi_cc_path"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $abi_cc_path" >&5
$as_echo "$abi_cc_path" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    if test "${abi_cc_path}" = ""; then
      as_fn_error $? "could not run C compiler \"${CC}\"" "$LINENO" 5
    fi
  fi
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}gcc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_CC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="gcc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
$as_echo "$ac_ct_CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
else
  CC="$ac_cv_prog_CC"
fi

if test -z "$CC"; then
          if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
set dummy ${ac_tool_prefix}cc; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="${ac_tool_prefix}cc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  fi
fi
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_prog_rejected=no
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
       ac_prog_rejected=yes
       continue
     fi
    ac_cv_prog_CC="cc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $@%:@ != 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@"
  fi
fi
fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  for ac_prog in cl.exe
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    test -n "$CC" && break
  done
fi
if test -z "$CC"; then
  ac_ct_CC=$CC
  for ac_prog in cl.exe
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_CC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CC="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
$as_echo "$ac_ct_CC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$ac_ct_CC" && break
done

  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
fi

fi


test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "no acceptable C compiler found in \$PATH
See \`config.log' for more details" "$LINENO" 5; }

# Provide some information about the compiler.
$as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files a.out a.out.dSYM a.exe b.out"
# Try to create an executable without -o first, disregard a.out.
# It will help us diagnose broken compilers, and finding out an intuition
# of exeext.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the C compiler works" >&5
$as_echo_n "checking whether the C compiler works... " >&6; }
ac_link_default=`$as_echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`

# The possible output files:
ac_files="a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*"

ac_rmfiles=
for ac_file in $ac_files
do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    * ) ac_rmfiles="$ac_rmfiles $ac_file";;
  esac
done
rm -f $ac_rmfiles

if { { ac_try="$ac_link_default"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link_default") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
# in a Makefile.  We should not override ac_cv_exeext if it was cached,
# so that the user can short-circuit this test for compilers unknown to
# Autoconf.
for ac_file in $ac_files ''
do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )
	;;
    [ab].out )
	# We found the default executable, but exeext='' is most
	# certainly right.
	break;;
    *.* )
	if test "${ac_cv_exeext+set}" = set && test "$ac_cv_exeext" != no;
	then :; else
	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	fi
	# We set ac_cv_exeext here because the later test for it is not
	# safe: cross compilers may not add the suffix if given an `-o'
	# argument, so we may need to know it at that point already.
	# Even if this section looks crufty: it has the advantage of
	# actually working.
	break;;
    * )
	break;;
  esac
done
test "$ac_cv_exeext" = no && ac_cv_exeext=

else
  ac_file=''
fi
if test -z "$ac_file"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
$as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "C compiler cannot create executables
See \`config.log' for more details" "$LINENO" 5; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
$as_echo_n "checking for C compiler default output file name... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_file" >&5
$as_echo "$ac_file" >&6; }
ac_exeext=$ac_cv_exeext

rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out
ac_clean_files=$ac_clean_files_save
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for suffix of executables" >&5
$as_echo_n "checking for suffix of executables... " >&6; }
if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
  # If both `conftest.exe' and `conftest' are `present' (well, observable)
# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
# work properly (i.e., refer to `conftest.exe'), while it won't with
# `rm'.
for ac_file in conftest.exe conftest conftest.*; do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	  break;;
    * ) break;;
  esac
done
else
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f conftest conftest$ac_cv_exeext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
$as_echo "$ac_cv_exeext" >&6; }

rm -f conftest.$ac_ext
EXEEXT=$ac_cv_exeext
ac_exeext=$EXEEXT
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
@%:@include <stdio.h>
int
main ()
{
FILE *f = fopen ("conftest.out", "w");
 return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
ac_clean_files="$ac_clean_files conftest.out"
# Check that the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling" >&5
$as_echo_n "checking whether we are cross compiling... " >&6; }
if test "$cross_compiling" != yes; then
  { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
  if { ac_try='./conftest$ac_cv_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details" "$LINENO" 5; }
    fi
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
$as_echo "$cross_compiling" >&6; }

rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out
ac_clean_files=$ac_clean_files_save
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
$as_echo_n "checking for suffix of object files... " >&6; }
if ${ac_cv_objext+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.o conftest.obj
if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
  for ac_file in conftest.o conftest.obj conftest.*; do
  test -f "$ac_file" || continue;
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;
    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
       break;;
  esac
done
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of object files: cannot compile
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f conftest.$ac_cv_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
$as_echo "$ac_cv_objext" >&6; }
OBJEXT=$ac_cv_objext
ac_objext=$OBJEXT
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler" >&5
$as_echo_n "checking whether we are using the GNU C compiler... " >&6; }
if ${ac_cv_c_compiler_gnu+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_compiler_gnu=yes
else
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
ac_cv_c_compiler_gnu=$ac_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
$as_echo "$ac_cv_c_compiler_gnu" >&6; }
if test $ac_compiler_gnu = yes; then
  GCC=yes
else
  GCC=
fi
ac_test_CFLAGS=${CFLAGS+set}
ac_save_CFLAGS=$CFLAGS
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
$as_echo_n "checking whether $CC accepts -g... " >&6; }
if ${ac_cv_prog_cc_g+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_save_c_werror_flag=$ac_c_werror_flag
   ac_c_werror_flag=yes
   ac_cv_prog_cc_g=no
   CFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_prog_cc_g=yes
else
  CFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  
else
  ac_c_werror_flag=$ac_save_c_werror_flag
	 CFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_prog_cc_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   ac_c_werror_flag=$ac_save_c_werror_flag
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
$as_echo "$ac_cv_prog_cc_g" >&6; }
if test "$ac_test_CFLAGS" = set; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89" >&5
$as_echo_n "checking for $CC option to accept ISO C89... " >&6; }
if ${ac_cv_prog_cc_c89+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_cv_prog_cc_c89=no
ac_save_CC=$CC
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdarg.h>
#include <stdio.h>
struct stat;
/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
struct buf { int x; };
FILE * (*rcsopen) (struct buf *, struct stat *, int);
static char *e (p, i)
     char **p;
     int i;
{
  return p[i];
}
static char *f (char * (*g) (char **, int), char **p, ...)
{
  char *s;
  va_list v;
  va_start (v,p);
  s = g (p, va_arg (v,int));
  va_end (v);
  return s;
}

/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
   function prototypes and stuff, but not '\xHH' hex character constants.
   These don't provoke an error unfortunately, instead are silently treated
   as 'x'.  The following induces an error, until -std is added to get
   proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
   array size at least.  It's necessary to write '\x00'==0 to get something
   that's true only with -std.  */
int osf4_cc_array ['\x00' == 0 ? 1 : -1];

/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
   inside strings and character constants.  */
#define FOO(x) 'x'
int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];

int test (int i, double x);
struct s1 {int (*f) (int a);};
struct s2 {int (*f) (double a);};
int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
int argc;
char **argv;
int
main ()
{
return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
  ;
  return 0;
}
_ACEOF
for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \
	-Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_prog_cc_c89=$ac_arg
fi
rm -f core conftest.err conftest.$ac_objext
  test "x$ac_cv_prog_cc_c89" != "xno" && break
done
rm -f conftest.$ac_ext
CC=$ac_save_CC

fi
# AC_CACHE_VAL
case "x$ac_cv_prog_cc_c89" in
  x)
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
$as_echo "none needed" >&6; } ;;
  xno)
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
$as_echo "unsupported" >&6; } ;;
  *)
    CC="$CC $ac_cv_prog_cc_c89"
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
$as_echo "$ac_cv_prog_cc_c89" >&6; } ;;
esac
if test "x$ac_cv_prog_cc_c89" != xno; then :
  
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
DEPDIR="${am__leading_dot}deps"

ac_config_commands="$ac_config_commands depfiles"


am_make=${MAKE-make}
cat > confinc << 'END'
am__doit:
	@echo this is the am__doit target
.PHONY: am__doit
END
# If we don't find an include directive, just comment out the code.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for style of include used by $am_make" >&5
$as_echo_n "checking for style of include used by $am_make... " >&6; }
am__include="#"
am__quote=
_am_result=none
# First try GNU make style include.
echo "include confinc" > confmf
# Ignore all kinds of additional output from 'make'.
case `$am_make -s -f confmf 2> /dev/null` in #(
*the\ am__doit\ target*)
  am__include=include
  am__quote=
  _am_result=GNU
  ;;
esac
# Now try BSD make style include.
if test "$am__include" = "#"; then
   echo '.include "confinc"' > confmf
   case `$am_make -s -f confmf 2> /dev/null` in #(
   *the\ am__doit\ target*)
     am__include=.include
     am__quote="\""
     _am_result=BSD
     ;;
   esac
fi


{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $_am_result" >&5
$as_echo "$_am_result" >&6; }
rm -f confinc confmf

@%:@ Check whether --enable-dependency-tracking was given.
if test "${enable_dependency_tracking+set}" = set; then :
  enableval=$enable_dependency_tracking; 
fi

if test "x$enable_dependency_tracking" != xno; then
  am_depcomp="$ac_aux_dir/depcomp"
  AMDEPBACKSLASH='\'
  am__nodep='_no'
fi
 if test "x$enable_dependency_tracking" != xno; then
  AMDEP_TRUE=
  AMDEP_FALSE='#'
else
  AMDEP_TRUE='#'
  AMDEP_FALSE=
fi



depcc="$CC"   am_compiler_list=

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
$as_echo_n "checking dependency style of $depcc... " >&6; }
if ${am_cv_CC_dependencies_compiler_type+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named 'D' -- because '-MD' means "put the output
  # in D".
  rm -rf conftest.dir
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_CC_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
  fi
  am__universal=false
  case " $depcc " in #(
     *\ -arch\ *\ -arch\ *) am__universal=true ;;
     esac

  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using ": > sub/conftst$i.h" creates only sub/conftst1.h with
      # Solaris 10 /bin/sh.
      echo '/* dummy */' > sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with '-c' and '-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle '-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs.
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # After this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested.
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvc7 | msvc7msys | msvisualcpp | msvcmsys)
      # This compiler won't grok '-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_CC_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_CC_dependencies_compiler_type=none
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_CC_dependencies_compiler_type" >&5
$as_echo "$am_cv_CC_dependencies_compiler_type" >&6; }
CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type

 if 
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CC_dependencies_compiler_type" = gcc3; then
  am__fastdepCC_TRUE=
  am__fastdepCC_FALSE='#'
else
  am__fastdepCC_TRUE='#'
  am__fastdepCC_FALSE=
fi



# Fail if no C compiler is available
if test "${CC}" = ""; then
  as_fn_error $? "no C compiler available" "$LINENO" 5
fi

# Look for the C preprocessor
if test "${CPP}" != "" -a ! -x "${CPP}"; then
  # Extract the first word of "${CPP}", so it can be a program name with args.
set dummy ${CPP}; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_abi_cpp_path+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $abi_cpp_path in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_abi_cpp_path="$abi_cpp_path" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_abi_cpp_path="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
abi_cpp_path=$ac_cv_path_abi_cpp_path
if test -n "$abi_cpp_path"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $abi_cpp_path" >&5
$as_echo "$abi_cpp_path" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  if test "${abi_cpp_path}" = ""; then
    as_fn_error $? "could not run C preprocessor \"${CPP}\"" "$LINENO" 5
  fi
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor" >&5
$as_echo_n "checking how to run the C preprocessor... " >&6; }
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
  if ${ac_cv_prog_CPP+:} false; then :
  $as_echo_n "(cached) " >&6
else
      # Double quotes because CPP needs to be expanded
    for CPP in "$CC -E" "$CC -E -traditional-cpp" "/lib/cpp"
    do
      ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
@%:@ifdef __STDC__
@%:@ include <limits.h>
@%:@else
@%:@ include <assert.h>
@%:@endif
		     Syntax error
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  
else
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
@%:@include <ac_nonexistent.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  # Broken: success on invalid input.
continue
else
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok; then :
  break
fi

    done
    ac_cv_prog_CPP=$CPP
  
fi
  CPP=$ac_cv_prog_CPP
else
  ac_cv_prog_CPP=$CPP
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $CPP" >&5
$as_echo "$CPP" >&6; }
ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
@%:@ifdef __STDC__
@%:@ include <limits.h>
@%:@else
@%:@ include <assert.h>
@%:@endif
		     Syntax error
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  
else
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.i conftest.$ac_ext

  # OK, works on sane cases.  Now check whether nonexistent headers
  # can be detected and how.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
@%:@include <ac_nonexistent.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  # Broken: success on invalid input.
continue
else
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.i conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok; then :
  
else
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details" "$LINENO" 5; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


# Fail if no C preprocessor is available
if test "${CPP}" = ""; then
  as_fn_error $? "no C preprocessor available" "$LINENO" 5
fi

# Set Abinit C parameters

    if test "${abi_cc_vendor}" = ""; then
    abi_cc_vendor="unknown"
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which type of compiler we have" >&5
$as_echo_n "checking which type of compiler we have... " >&6; }

    if test "${abi_cc_vendor}" = "unknown"; then
    
    
    cc_info_string=`${CC} -qversion 2>&1 | head -n 1`
  cc_garbage=`${CC} -qversion 2>&1 | wc -l | sed -e 's/ //g'`
  abi_result=`echo "${cc_info_string}" | grep 'IBM XL C/C++'`
  if test "${abi_result}" = ""; then
    abi_result=`echo "${cc_info_string}" | grep 'IBM(R) XL C/C++'`
  fi
  if test "${abi_result}" = ""; then
    abi_result=`echo "${cc_info_string}" | grep 'C for AIX'`
  fi
  if test "${abi_result}" = ""; then
    abi_result="no"
    cc_info_string=""
    abi_cc_vendor="unknown"
    abi_cc_version="unknown"
    if test "${cc_garbage}" -gt 50; then
      
$as_echo "@%:@define CC_IBM 1" >>confdefs.h

      abi_cc_vendor="ibm"
      abi_cc_version="unknown"
      abi_result="yes"
    fi
  else
    
$as_echo "@%:@define CC_IBM 1" >>confdefs.h

    abi_cc_vendor="ibm"
    abi_cc_version=`echo "${abi_result}" | sed -e 's/.* V//; s/ .*//'`
    if test "${abi_cc_version}" = "${abi_result}"; then
      abi_cc_version=`echo "${abi_result}" | sed -e 's/C for AIX version //'`
    fi
    if test "${abi_cc_version}" = "${abi_result}"; then
      abi_cc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi

  if test "${abi_cc_vendor}" = "unknown"; then
    
    
    cc_info_string=`${CC} -V 2>&1 | head -n 1`
  abi_result=`echo "${cc_info_string}" | grep '^Compaq C '`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cc_info_string=""
    abi_cc_vendor="unknown"
    abi_cc_version="unknown"
  else
    
$as_echo "@%:@define CC_COMPAQ 1" >>confdefs.h

    abi_cc_vendor="compaq"
    cc_info_string=`${CC} -V 2>&1 | grep '^Compiler Driver' | head -n 1`
    abi_cc_version=`echo "${cc_info_string}" | sed -e 's/Compiler Driver V//; s/ .*//'`
    if test "${abi_cc_version}" = "${cc_info_string}"; then
      abi_cc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cc_vendor}" = "unknown"; then
    
    
    cc_info_string=`${CC} -V 2>&1 | head -n 1`
  abi_result=`echo "${cc_info_string}" | grep '^Intel(R) C'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cc_info_string=""
    abi_cc_vendor="unknown"
    abi_cc_version="unknown"
  else
    
$as_echo "@%:@define CC_INTEL 1" >>confdefs.h

    abi_cc_vendor="intel"
    abi_cc_version=`echo "${abi_result}" | sed -e 's/.*Version //; s/ .*//'`
    if test "${abi_cc_version}" = "${abi_result}"; then
      abi_cc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cc_vendor}" = "unknown"; then
    
    
    cc_info_string=`${CC} --version 2>&1 | head -n 1`
  abi_result=`echo "${cc_info_string}" | grep '^PathScale'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cc_info_string=""
    abi_cc_vendor="unknown"
    abi_cc_version="unknown"
  else
    
$as_echo "@%:@define CC_PATHSCALE 1" >>confdefs.h

    abi_cc_vendor="pathscale"
    abi_cc_version=`echo "${abi_result}" | sed -e 's/.* Version //; s/ .*//'`
    if test "${abi_cc_version}" = "${abi_result}"; then
      abi_cc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cc_vendor}" = "unknown"; then
    
    
    cc_info_string=`${CC} --version 2>&1 | head -n 1`
  abi_result=`echo "${cc_info_string}" | grep '^Open64'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cc_info_string=""
    abi_cc_vendor="unknown"
    abi_cc_version="unknown"
  else
    
$as_echo "@%:@define CC_OPEN64 1" >>confdefs.h

    abi_cc_vendor="open64"
    abi_cc_version=`echo "${abi_result}" | sed -e 's/.* Version //; s/ .*//'`
    if test "${abi_cc_version}" = "${abi_result}"; then
      abi_cc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cc_vendor}" = "unknown"; then
    
    
    cc_info_string=`${CC} -V 2>&1 | sed -e '/^$/d' | head -n 1`
  abi_result=`echo "${cc_info_string}" | grep '^pgcc'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cc_info_string=""
    abi_cc_vendor="unknown"
    abi_cc_version="unknown"
  else
    
$as_echo "@%:@define CC_PGI 1" >>confdefs.h

    abi_cc_vendor="pgi"
    abi_cc_version=`echo "${abi_result}" | sed -e 's/.* //; s/-.*//'`
    if test "${abi_cc_version}" = "${abi_result}"; then
      abi_cc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cc_vendor}" = "unknown"; then
    
    
    cc_info_string=`${CC} -V 2>&1 | head -n 1`
  abi_result=`echo "${cc_info_string}" | grep 'Sun' | grep ' C '`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cc_info_string=""
    abi_cc_vendor="unknown"
    abi_cc_version="unknown"
  else
    
$as_echo "@%:@define CC_SUN 1" >>confdefs.h

    abi_cc_vendor="sun"
    abi_cc_version=`echo "${abi_result}" | sed -e 's/.* C //; s/ .*//'`
    if test "${abi_cc_version}" = "${abi_result}"; then
      abi_cc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi

      if test "${abi_cc_vendor}" = "unknown"; then
    
    
    cc_info_string=`${CC} --version 2>&1 | ${EGREP} '^g?cc' | head -n 1`
  if test "${ac_cv_c_compiler_gnu}" != "yes"; then
    abi_cc_vendor="unknown"
    abi_cc_version="unknown"
    abi_result="no"
  else
    
$as_echo "@%:@define CC_GNU 1" >>confdefs.h

    abi_cc_vendor="gnu"
    abi_cc_version=`echo ${cc_info_string} | sed -e 's/.*([^)]*) //; s/ .*//'`
    if test "${abi_cc_version}" = "${cc_info_string}"; then
      abi_result=`echo "${cc_info_string}" | grep ' '`
      if test "${abi_result}" != ""; then
        abi_cc_version="unknown"
      fi
    fi
    abi_result="yes"
  fi
  
  fi

    if test "${abi_cc_vendor}" = "unknown"; then
    abi_cc_vendor="generic"
    abi_cc_version="0.0"
  fi

    abi_cc_version=`echo ${abi_cc_version} | cut -d. -f1-2`

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cc_vendor} ${abi_cc_version}" >&5
$as_echo "${abi_cc_vendor} ${abi_cc_version}" >&6; }

    
  
  


# Restore back CPPFLAGS and CFLAGS
CPPFLAGS="${abi_env_CPPFLAGS}"
CFLAGS="${abi_env_CFLAGS}"

# Check for system peculiarities


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ANSI C header files" >&5
$as_echo_n "checking for ANSI C header files... " >&6; }
if ${ac_cv_header_stdc+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_header_stdc=yes
else
  ac_cv_header_stdc=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <string.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "memchr" >/dev/null 2>&1; then :
  
else
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "free" >/dev/null 2>&1; then :
  
else
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then :
  :
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ctype.h>
#include <stdlib.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) \
		   (('a' <= (c) && (c) <= 'i') \
		     || ('j' <= (c) && (c) <= 'r') \
		     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int
main ()
{
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
	|| toupper (i) != TOUPPER (i))
      return 2;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  
else
  ac_cv_header_stdc=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc" >&5
$as_echo "$ac_cv_header_stdc" >&6; }
if test $ac_cv_header_stdc = yes; then
  
$as_echo "@%:@define STDC_HEADERS 1" >>confdefs.h

fi

# On IRIX 5.3, sys/types and inttypes.h are conflicting.
for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
		  inttypes.h stdint.h unistd.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default
"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
@%:@define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
 
fi

done


 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether byte ordering is bigendian" >&5
$as_echo_n "checking whether byte ordering is bigendian... " >&6; }
if ${ac_cv_c_bigendian+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_cv_c_bigendian=unknown
    # See if we're dealing with a universal compiler.
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __APPLE_CC__
	       not a universal capable compiler
	     #endif
	     typedef int dummy;
	    
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  
	# Check for potential -arch flags.  It is not universal unless
	# there are at least two -arch flags with different values.
	ac_arch=
	ac_prev=
	for ac_word in $CC $CFLAGS $CPPFLAGS $LDFLAGS; do
	 if test -n "$ac_prev"; then
	   case $ac_word in
	     i?86 | x86_64 | ppc | ppc64)
	       if test -z "$ac_arch" || test "$ac_arch" = "$ac_word"; then
		 ac_arch=$ac_word
	       else
		 ac_cv_c_bigendian=universal
		 break
	       fi
	       ;;
	   esac
	   ac_prev=
	 elif test "x$ac_word" = "x-arch"; then
	   ac_prev=arch
	 fi
       done
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    if test $ac_cv_c_bigendian = unknown; then
      # See if sys/param.h defines the BYTE_ORDER macro.
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
	     #include <sys/param.h>
	   
int
main ()
{
#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \
		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \
		     && LITTLE_ENDIAN)
	      bogus endian macros
	     #endif
	   
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  # It does; now see whether it defined to BIG_ENDIAN or not.
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
		#include <sys/param.h>
	      
int
main ()
{
#if BYTE_ORDER != BIG_ENDIAN
		 not big endian
		#endif
	      
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_c_bigendian=yes
else
  ac_cv_c_bigendian=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi
    if test $ac_cv_c_bigendian = unknown; then
      # See if <limits.h> defines _LITTLE_ENDIAN or _BIG_ENDIAN (e.g., Solaris).
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <limits.h>
	   
int
main ()
{
#if ! (defined _LITTLE_ENDIAN || defined _BIG_ENDIAN)
	      bogus endian macros
	     #endif
	   
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  # It does; now see whether it defined to _BIG_ENDIAN or not.
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <limits.h>
	      
int
main ()
{
#ifndef _BIG_ENDIAN
		 not big endian
		#endif
	      
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_c_bigendian=yes
else
  ac_cv_c_bigendian=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi
    if test $ac_cv_c_bigendian = unknown; then
      # Compile a test program.
      if test "$cross_compiling" = yes; then :
  # Try to guess by grepping values from an object file.
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
short int ascii_mm[] =
		  { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };
		short int ascii_ii[] =
		  { 0x694C, 0x5454, 0x656C, 0x6E45, 0x6944, 0x6E61, 0 };
		int use_ascii (int i) {
		  return ascii_mm[i] + ascii_ii[i];
		}
		short int ebcdic_ii[] =
		  { 0x89D3, 0xE3E3, 0x8593, 0x95C5, 0x89C4, 0x9581, 0 };
		short int ebcdic_mm[] =
		  { 0xC2C9, 0xC785, 0x95C4, 0x8981, 0x95E2, 0xA8E2, 0 };
		int use_ebcdic (int i) {
		  return ebcdic_mm[i] + ebcdic_ii[i];
		}
		extern int foo;
	      
int
main ()
{
return use_ascii (foo) == use_ebcdic (foo);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then
	      ac_cv_c_bigendian=yes
	    fi
	    if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
	      if test "$ac_cv_c_bigendian" = unknown; then
		ac_cv_c_bigendian=no
	      else
		# finding both strings is unlikely to happen, but who knows?
		ac_cv_c_bigendian=unknown
	      fi
	    fi
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_includes_default
int
main ()
{

	     /* Are we little or big endian?  From Harbison&Steele.  */
	     union
	     {
	       long int l;
	       char c[sizeof (long int)];
	     } u;
	     u.l = 1;
	     return u.c[sizeof (long int) - 1] == 1;
	   
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  ac_cv_c_bigendian=no
else
  ac_cv_c_bigendian=yes
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

    fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_bigendian" >&5
$as_echo "$ac_cv_c_bigendian" >&6; }
 case $ac_cv_c_bigendian in #(
   yes)
     $as_echo "@%:@define WORDS_BIGENDIAN 1" >>confdefs.h
;; #(
   no)
      ;; #(
   universal)
     	
$as_echo "@%:@define AC_APPLE_UNIVERSAL_BUILD 1" >>confdefs.h

     ;; #(
   *)
     as_fn_error $? "unknown endianness
 presetting ac_cv_c_bigendian=no (or yes) will help" "$LINENO" 5 ;;
 esac


  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable assertions" >&5
$as_echo_n "checking whether to enable assertions... " >&6; }
  @%:@ Check whether --enable-assert was given.
if test "${enable_assert+set}" = set; then :
  enableval=$enable_assert; ac_enable_assert=$enableval
     if       test "x$enableval" = xno; then :
  
$as_echo "@%:@define NDEBUG 1" >>confdefs.h

elif test "x$enableval" != xyes; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: invalid argument supplied to --enable-assert" >&5
$as_echo "$as_me: WARNING: invalid argument supplied to --enable-assert" >&2;}
	ac_enable_assert=yes
fi
else
  ac_enable_assert=yes
fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_enable_assert" >&5
$as_echo "$ac_enable_assert" >&6; }


# Look for malloc.h
CPPFLAGS_MALLOC=""
for ac_header in malloc.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "malloc.h" "ac_cv_header_malloc_h" "$ac_includes_default"
if test "x$ac_cv_header_malloc_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_MALLOC_H 1
_ACEOF
 abi_hdr_malloc="yes"
else
  abi_hdr_malloc="no"
fi

done

if test "${abi_hdr_malloc}" = "no"; then
  for ac_header in malloc/malloc.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "malloc/malloc.h" "ac_cv_header_malloc_malloc_h" "$ac_includes_default"
if test "x$ac_cv_header_malloc_malloc_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_MALLOC_MALLOC_H 1
_ACEOF
 abi_hdr_malloc="yes"
else
  abi_hdr_malloc="no"
fi

done

fi

# ---------------------------------------------------------------------------- #

#
# C++ support
#


    
  abi_sec_title="C++ support"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Preserve environment

    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



# Look for the C++ compiler
if test "${CXX}" != "" -a ! -x "${CXX}"; then
  abi_cxx_probe=`echo "${CXX}" | sed -e 's/ .*//'`
  if test ! -x "${abi_cxx_probe}"; then
    # Extract the first word of "${abi_cxx_probe}", so it can be a program name with args.
set dummy ${abi_cxx_probe}; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_abi_cxx_path+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $abi_cxx_path in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_abi_cxx_path="$abi_cxx_path" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_abi_cxx_path="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
abi_cxx_path=$ac_cv_path_abi_cxx_path
if test -n "$abi_cxx_path"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $abi_cxx_path" >&5
$as_echo "$abi_cxx_path" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    if test "${abi_cxx_path}" = ""; then
      as_fn_error $? "could not run C++ compiler \"${CXX}\"" "$LINENO" 5
    fi
  fi
fi
ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
if test -z "$CXX"; then
  if test -n "$CCC"; then
    CXX=$CCC
  else
    if test -n "$ac_tool_prefix"; then
  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CXX+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$CXX"; then
  ac_cv_prog_CXX="$CXX" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_CXX="$ac_tool_prefix$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
CXX=$ac_cv_prog_CXX
if test -n "$CXX"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CXX" >&5
$as_echo "$CXX" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    test -n "$CXX" && break
  done
fi
if test -z "$CXX"; then
  ac_ct_CXX=$CXX
  for ac_prog in g++ c++ gpp aCC CC cxx cc++ cl.exe FCC KCC RCC xlC_r xlC
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_CXX+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_CXX"; then
  ac_cv_prog_ac_ct_CXX="$ac_ct_CXX" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_CXX="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_CXX=$ac_cv_prog_ac_ct_CXX
if test -n "$ac_ct_CXX"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CXX" >&5
$as_echo "$ac_ct_CXX" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$ac_ct_CXX" && break
done

  if test "x$ac_ct_CXX" = x; then
    CXX="g++"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CXX=$ac_ct_CXX
  fi
fi

  fi
fi
# Provide some information about the compiler.
$as_echo "$as_me:${as_lineno-$LINENO}: checking for C++ compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C++ compiler" >&5
$as_echo_n "checking whether we are using the GNU C++ compiler... " >&6; }
if ${ac_cv_cxx_compiler_gnu+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_compiler_gnu=yes
else
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
ac_cv_cxx_compiler_gnu=$ac_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_cxx_compiler_gnu" >&5
$as_echo "$ac_cv_cxx_compiler_gnu" >&6; }
if test $ac_compiler_gnu = yes; then
  GXX=yes
else
  GXX=
fi
ac_test_CXXFLAGS=${CXXFLAGS+set}
ac_save_CXXFLAGS=$CXXFLAGS
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CXX accepts -g" >&5
$as_echo_n "checking whether $CXX accepts -g... " >&6; }
if ${ac_cv_prog_cxx_g+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_save_cxx_werror_flag=$ac_cxx_werror_flag
   ac_cxx_werror_flag=yes
   ac_cv_prog_cxx_g=no
   CXXFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_cv_prog_cxx_g=yes
else
  CXXFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  
else
  ac_cxx_werror_flag=$ac_save_cxx_werror_flag
	 CXXFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_compile "$LINENO"; then :
  ac_cv_prog_cxx_g=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   ac_cxx_werror_flag=$ac_save_cxx_werror_flag
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cxx_g" >&5
$as_echo "$ac_cv_prog_cxx_g" >&6; }
if test "$ac_test_CXXFLAGS" = set; then
  CXXFLAGS=$ac_save_CXXFLAGS
elif test $ac_cv_prog_cxx_g = yes; then
  if test "$GXX" = yes; then
    CXXFLAGS="-g -O2"
  else
    CXXFLAGS="-g"
  fi
else
  if test "$GXX" = yes; then
    CXXFLAGS="-O2"
  else
    CXXFLAGS=
  fi
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

depcc="$CXX"  am_compiler_list=

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc" >&5
$as_echo_n "checking dependency style of $depcc... " >&6; }
if ${am_cv_CXX_dependencies_compiler_type+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
  # We make a subdir and do the tests there.  Otherwise we can end up
  # making bogus files that we don't know about and never remove.  For
  # instance it was reported that on HP-UX the gcc test will end up
  # making a dummy file named 'D' -- because '-MD' means "put the output
  # in D".
  rm -rf conftest.dir
  mkdir conftest.dir
  # Copy depcomp to subdir because otherwise we won't find it if we're
  # using a relative directory.
  cp "$am_depcomp" conftest.dir
  cd conftest.dir
  # We will build objects and dependencies in a subdirectory because
  # it helps to detect inapplicable dependency modes.  For instance
  # both Tru64's cc and ICC support -MD to output dependencies as a
  # side effect of compilation, but ICC will put the dependencies in
  # the current directory while Tru64 will put them in the object
  # directory.
  mkdir sub

  am_cv_CXX_dependencies_compiler_type=none
  if test "$am_compiler_list" = ""; then
     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
  fi
  am__universal=false
  case " $depcc " in #(
     *\ -arch\ *\ -arch\ *) am__universal=true ;;
     esac

  for depmode in $am_compiler_list; do
    # Setup a source with many dependencies, because some compilers
    # like to wrap large dependency lists on column 80 (with \), and
    # we should not choose a depcomp mode which is confused by this.
    #
    # We need to recreate these files for each test, as the compiler may
    # overwrite some of them when testing with obscure command lines.
    # This happens at least with the AIX C compiler.
    : > sub/conftest.c
    for i in 1 2 3 4 5 6; do
      echo '#include "conftst'$i'.h"' >> sub/conftest.c
      # Using ": > sub/conftst$i.h" creates only sub/conftst1.h with
      # Solaris 10 /bin/sh.
      echo '/* dummy */' > sub/conftst$i.h
    done
    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf

    # We check with '-c' and '-o' for the sake of the "dashmstdout"
    # mode.  It turns out that the SunPro C++ compiler does not properly
    # handle '-M -o', and we need to detect this.  Also, some Intel
    # versions had trouble with output in subdirs.
    am__obj=sub/conftest.${OBJEXT-o}
    am__minus_obj="-o $am__obj"
    case $depmode in
    gcc)
      # This depmode causes a compiler race in universal mode.
      test "$am__universal" = false || continue
      ;;
    nosideeffect)
      # After this tag, mechanisms are not by side-effect, so they'll
      # only be used when explicitly requested.
      if test "x$enable_dependency_tracking" = xyes; then
	continue
      else
	break
      fi
      ;;
    msvc7 | msvc7msys | msvisualcpp | msvcmsys)
      # This compiler won't grok '-c -o', but also, the minuso test has
      # not run yet.  These depmodes are late enough in the game, and
      # so weak that their functioning should not be impacted.
      am__obj=conftest.${OBJEXT-o}
      am__minus_obj=
      ;;
    none) break ;;
    esac
    if depmode=$depmode \
       source=sub/conftest.c object=$am__obj \
       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \
         >/dev/null 2>conftest.err &&
       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&
       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&
       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
      # icc doesn't choke on unknown options, it will just issue warnings
      # or remarks (even with -Werror).  So we grep stderr for any message
      # that says an option was ignored or not supported.
      # When given -MP, icc 7.0 and 7.1 complain thusly:
      #   icc: Command line warning: ignoring option '-M'; no argument required
      # The diagnosis changed in icc 8.0:
      #   icc: Command line remark: option '-MP' not supported
      if (grep 'ignoring option' conftest.err ||
          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
        am_cv_CXX_dependencies_compiler_type=$depmode
        break
      fi
    fi
  done

  cd ..
  rm -rf conftest.dir
else
  am_cv_CXX_dependencies_compiler_type=none
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_CXX_dependencies_compiler_type" >&5
$as_echo "$am_cv_CXX_dependencies_compiler_type" >&6; }
CXXDEPMODE=depmode=$am_cv_CXX_dependencies_compiler_type

 if 
  test "x$enable_dependency_tracking" != xno \
  && test "$am_cv_CXX_dependencies_compiler_type" = gcc3; then
  am__fastdepCXX_TRUE=
  am__fastdepCXX_FALSE='#'
else
  am__fastdepCXX_TRUE='#'
  am__fastdepCXX_FALSE=
fi



# Warn if no C++ compiler is available
if test "${CXX}" = ""; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: no C++ compiler available" >&5
$as_echo "$as_me: WARNING: no C++ compiler available" >&2;}
fi

# Set Abinit C++ parameters
if test "${CXX}" != ""; then
  
    if test "${abi_cxx_vendor}" = ""; then
    abi_cxx_vendor="unknown"
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which type of C++ compiler we have" >&5
$as_echo_n "checking which type of C++ compiler we have... " >&6; }

    if test "${abi_cxx_vendor}" = "unknown"; then
    
    
    cxx_info_string=`${CXX} -qversion 2>&1 | head -n 1`
  cxx_garbage=`${CXX} -qversion 2>&1 | wc -l | sed -e 's/ //g'`
  abi_result=`echo "${cc_info_string}" | grep 'IBM XL C/C++'`
  if test "${abi_result}" = ""; then
    abi_result=`echo "${cxx_info_string}" | grep 'IBM(R) XL C/C++'`
  fi
  if test "${abi_result}" = ""; then
    abi_result=`echo "${cxx_info_string}" | grep 'C for AIX'`
  fi
  if test "${abi_result}" = ""; then
    abi_result="no"
    cxx_info_string=""
    abi_cxx_vendor="unknown"
    abi_cxx_version="unknown"
    if test "${cxx_garbage}" -gt 50; then
      
$as_echo "@%:@define CXX_IBM 1" >>confdefs.h

      abi_cxx_vendor="ibm"
      abi_cxx_version="unknown"
      abi_result="yes"
    fi
  else
    
$as_echo "@%:@define CXX_IBM 1" >>confdefs.h

    abi_cxx_vendor="ibm"
    abi_cxx_version=`echo "${cxx_info_string}" | sed -e 's/.* V//; s/ .*//'`
    if test "${abi_cxx_version}" = "${cxx_info_string}"; then
      abi_cxx_version=`echo "${cxx_info_string}" | sed -e 's/C for AIX version //'`
    fi
    if test "${abi_cxx_version}" = "${cxx_info_string}"; then
      abi_cxx_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi

  if test "${abi_cxx_vendor}" = "unknown"; then
    
    
    cxx_info_string=`${CXX} -V 2>&1 | head -n 1`
  abi_result=`echo "${cxx_info_string}" | grep '^Compaq C++'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cxx_info_string=""
    abi_cxx_vendor="unknown"
    abi_cxx_version="unknown"
  else
    
$as_echo "@%:@define CXX_COMPAQ 1" >>confdefs.h

    abi_cxx_vendor="compaq"
    abi_cxx_version=`echo "${cxx_info_string}" | grep '^Compiler Driver' | sed -e 's/Compiler Driver V//; s/-.*//'`
    if test "${abi_cxx_version}" = "${cxx_info_string}"; then
      abi_cxx_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cxx_vendor}" = "unknown"; then
    
    
    cxx_info_string=`${CXX} -v -V 2>&1 | head -n 1`
  abi_result=`echo "${cxx_info_string}" | grep '^Intel(R) C++'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cxx_info_string=""
    abi_cxx_vendor="unknown"
    abi_cxx_version="unknown"
  else
    
$as_echo "@%:@define CXX_INTEL 1" >>confdefs.h

    abi_cxx_vendor="intel"
    abi_cxx_version=`echo "${abi_result}" | sed -e 's/.*Version //; s/ .*//'`
    if test "${abi_cxx_version}" = "${abi_result}"; then
      abi_cxx_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cxx_vendor}" = "unknown"; then
    
    
    cxx_info_string=`${CXX} --version 2>&1 | head -n 1`
  abi_result=`echo "${cxx_info_string}" | grep '^Open64'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cxx_info_string=""
    abi_cxx_vendor="unknown"
    abi_cxx_version="unknown"
  else
    
$as_echo "@%:@define CXX_OPEN64 1" >>confdefs.h

    abi_cxx_vendor="open64"
    abi_cxx_version=`echo "${abi_result}" | sed -e 's/.* Version //; s/ .*//'`
    if test "${abi_cxx_version}" = "${abi_result}"; then
      abi_cxx_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cxx_vendor}" = "unknown"; then
    
    
    cxx_info_string=`${CXX} --version 2>&1 | head -n 1`
  abi_result=`echo "${cxx_info_string}" | grep '^PathScale'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cxx_info_string=""
    abi_cxx_vendor="unknown"
    abi_cxx_version="unknown"
  else
    
$as_echo "@%:@define CXX_PATHSCALE 1" >>confdefs.h

    abi_cxx_vendor="pathscale"
    abi_cxx_version=`echo "${abi_result}" | sed -e 's/.* Version //; s/ .*//'`
    if test "${abi_cxx_version}" = "${abi_result}"; then
      abi_cxx_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cxx_vendor}" = "unknown"; then
    
    
    cxx_info_string=`${CXX} -v -V 2>&1 | sed -e '/^$/d' | head -n 1`
  abi_result=`echo "${cxx_info_string}" | grep '^pgCC'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cxx_info_string=""
    abi_cxx_vendor="unknown"
    abi_cxx_version="unknown"
  else
    
$as_echo "@%:@define CXX_PGI 1" >>confdefs.h

    abi_cxx_vendor="pgi"
    abi_cxx_version=`echo "${abi_result}" | sed -e 's/.* //; s/-.*//'`
    if test "${abi_cxx_version}" = "${abi_result}"; then
      abi_cxx_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  if test "${abi_cxx_vendor}" = "unknown"; then
    
    
    cxx_info_string=`${CXX} -V 2>&1 | head -n 1`
  abi_result=`echo "${cxx_info_string}" | grep 'Sun' | grep ' C++ '`
  if test "${abi_result}" = ""; then
    abi_result="no"
    cxx_info_string=""
    abi_cxx_vendor="unknown"
    abi_cxx_version="unknown"
  else
    
$as_echo "@%:@define CXX_SUN 1" >>confdefs.h

    abi_cxx_vendor="sun"
    abi_cxx_version=`echo "${abi_result}" | sed -e 's/.* C++ //; s/ .*//'`
    if test "${abi_cxx_version}" = "${abi_result}"; then
      abi_cxx_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi

      if test "${abi_cxx_vendor}" = "unknown"; then
    
    
    cxx_info_string=`${CXX} --version 2>&1 | head -n 1`
  if test "${ac_cv_cxx_compiler_gnu}" != "yes"; then
    cxx_info_string=""
    abi_cxx_vendor="unknown"
    abi_cxx_version="unknown"
    abi_result="no"
  else
    
$as_echo "@%:@define CXX_GNU 1" >>confdefs.h

    abi_cxx_vendor="gnu"
    abi_cxx_version=`echo ${cxx_info_string} | sed -e 's/.*([^)]*) //; s/ .*//'`
    if test "${abi_cxx_version}" = "${cxx_info_string}"; then
      abi_result=`echo "${cxx_info_string}" | grep ' '`
      if test "${abi_result}" != ""; then
        abi_cxx_version="unknown"
      fi
    fi
    abi_result="yes"
  fi
  
  fi

    if test "${abi_cxx_vendor}" = "unknown"; then
    abi_cxx_vendor="generic"
    abi_cxx_version="0.0"
  fi

    abi_cxx_version=`echo ${abi_cxx_version} | cut -d. -f1-2`

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cxx_vendor} ${abi_cxx_version}" >&5
$as_echo "${abi_cxx_vendor} ${abi_cxx_version}" >&6; }

    
  
  

fi

# Restore back CXXFLAGS
CXXFLAGS="${abi_env_CXXFLAGS}"

# ---------------------------------------------------------------------------- #

#
# Fortran support
#


    
  abi_sec_title="Fortran support"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Preserve environment

    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



# Look for the Fortran compiler
if test "${FC}" != "" -a ! -x "${FC}"; then
  abi_fc_probe=`echo "${FC}" | sed -e 's/ .*//'`
  if test ! -x "${abi_fc_probe}"; then
    # Extract the first word of "${abi_fc_probe}", so it can be a program name with args.
set dummy ${abi_fc_probe}; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_abi_fc_path+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $abi_fc_path in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_abi_fc_path="$abi_fc_path" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_abi_fc_path="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
abi_fc_path=$ac_cv_path_abi_fc_path
if test -n "$abi_fc_path"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $abi_fc_path" >&5
$as_echo "$abi_fc_path" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    if test "${abi_fc_path}" = ""; then
      as_fn_error $? "could not run Fortran compiler \"${FC}\"" "$LINENO" 5
    fi
  fi
fi
ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu
if test -n "$ac_tool_prefix"; then
  for ac_prog in gfortran g95 xlf95 f95 fort ifort ifc efc pgfortran pgf95 lf95 ftn nagfor xlf90 f90 pgf90 pghpf epcf90 g77 xlf f77 frt pgf77 cf77 fort77 fl32 af77
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_FC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$FC"; then
  ac_cv_prog_FC="$FC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_FC="$ac_tool_prefix$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
FC=$ac_cv_prog_FC
if test -n "$FC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $FC" >&5
$as_echo "$FC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


    test -n "$FC" && break
  done
fi
if test -z "$FC"; then
  ac_ct_FC=$FC
  for ac_prog in gfortran g95 xlf95 f95 fort ifort ifc efc pgfortran pgf95 lf95 ftn nagfor xlf90 f90 pgf90 pghpf epcf90 g77 xlf f77 frt pgf77 cf77 fort77 fl32 af77
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_FC+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_FC"; then
  ac_cv_prog_ac_ct_FC="$ac_ct_FC" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_FC="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_FC=$ac_cv_prog_ac_ct_FC
if test -n "$ac_ct_FC"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_FC" >&5
$as_echo "$ac_ct_FC" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$ac_ct_FC" && break
done

  if test "x$ac_ct_FC" = x; then
    FC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    FC=$ac_ct_FC
  fi
fi


# Provide some information about the compiler.
$as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done
rm -f a.out

# If we don't use `.F' as extension, the preprocessor is not run on the
# input file.  (Note that this only needs to work for GNU compilers.)
ac_save_ext=$ac_ext
ac_ext=F
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU Fortran compiler" >&5
$as_echo_n "checking whether we are using the GNU Fortran compiler... " >&6; }
if ${ac_cv_fc_compiler_gnu+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat > conftest.$ac_ext <<_ACEOF
      program main
#ifndef __GNUC__
       choke me
#endif

      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  ac_compiler_gnu=yes
else
  ac_compiler_gnu=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
ac_cv_fc_compiler_gnu=$ac_compiler_gnu

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_fc_compiler_gnu" >&5
$as_echo "$ac_cv_fc_compiler_gnu" >&6; }
ac_ext=$ac_save_ext
ac_test_FCFLAGS=${FCFLAGS+set}
ac_save_FCFLAGS=$FCFLAGS
FCFLAGS=
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $FC accepts -g" >&5
$as_echo_n "checking whether $FC accepts -g... " >&6; }
if ${ac_cv_prog_fc_g+:} false; then :
  $as_echo_n "(cached) " >&6
else
  FCFLAGS=-g
cat > conftest.$ac_ext <<_ACEOF
      program main

      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  ac_cv_prog_fc_g=yes
else
  ac_cv_prog_fc_g=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_fc_g" >&5
$as_echo "$ac_cv_prog_fc_g" >&6; }
if test "$ac_test_FCFLAGS" = set; then
  FCFLAGS=$ac_save_FCFLAGS
elif test $ac_cv_prog_fc_g = yes; then
  if test "x$ac_cv_fc_compiler_gnu" = xyes; then
    FCFLAGS="-g -O2"
  else
    FCFLAGS="-g"
  fi
else
  if test "x$ac_cv_fc_compiler_gnu" = xyes; then
    FCFLAGS="-O2"
  else
    FCFLAGS=
  fi
fi

if test $ac_compiler_gnu = yes; then
  GFC=yes
else
  GFC=
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


# Fail if no Fortran compiler is available
if test "${FC}" = ""; then
  as_fn_error $? "no Fortran compiler available" "$LINENO" 5
fi

# Look for the Fortran preprocessor
if test "${FPP}" != "" -a ! -x "${FPP}"; then
  # Extract the first word of "${FPP}", so it can be a program name with args.
set dummy ${FPP}; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_abi_fpp_path+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $abi_fpp_path in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_abi_fpp_path="$abi_fpp_path" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_abi_fpp_path="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
abi_fpp_path=$ac_cv_path_abi_fpp_path
if test -n "$abi_fpp_path"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $abi_fpp_path" >&5
$as_echo "$abi_fpp_path" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  if test "${abi_fpp_path}" = ""; then
    as_fn_error $? "could not run Fortran preprocessor \"${FPP}\"" "$LINENO" 5
  fi
fi
#AC_PROG_FPP

# Set Abinit Fortran parameters

    abi_fc_vendor="${with_fc_vendor}"
  abi_fc_version="${with_fc_version}"
  tmp_fc_info_file="${abinit_builddir}/config.fc_info.tmp"

  if test "${abi_fc_vendor}" = ""; then
    abi_fc_vendor="unknown"
  fi
  if test "${abi_fc_version}" = ""; then
    abi_fc_version="unknown"
  fi
  abi_fc_wrap="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which type of Fortran compiler we have" >&5
$as_echo_n "checking which type of Fortran compiler we have... " >&6; }

    rm -f "${tmp_fc_info_file}"

    if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -qversion 2>&1 | head -n 1`
  fc_garbage=`${FC} -qversion 2>&1 | wc -l | sed -e 's/ //g'`
  abi_result=`echo "${fc_info_string}" | grep 'IBM XL Fortran'`
  if test "${abi_result}" = ""; then
    abi_result=`echo "${fc_info_string}" | grep 'IBM(R) XL Fortran'`
  fi
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
    if test "${fc_garbage}" -gt 50; then
      
$as_echo "@%:@define FC_IBM 1" >>confdefs.h

      abi_fc_vendor="ibm"
      abi_fc_version="unknown"
      abi_result="yes"
    fi
  else
    
$as_echo "@%:@define FC_IBM 1" >>confdefs.h

    abi_fc_vendor="ibm"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/.* V//; s/ .*//'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

    if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -V 2>&1 | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^Intel(R) Fortran'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_INTEL 1" >>confdefs.h

    abi_fc_vendor="intel"
    abi_fc_version=`echo "${fc_info_string}" | sed -e 's/.*Version //;s/ .*//'`
    if test "${abi_fc_version}" = ""; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} --version 2>/dev/null | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^G95'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_G95 1" >>confdefs.h

    abi_fc_vendor="g95"
    abi_fc_version=`echo ${abi_result} | sed -e 's/.*GCC //; s/ .*//'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} --version 2>/dev/null | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^GNU Fortran'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_GNU 1" >>confdefs.h

    
$as_echo "@%:@define HAVE_FORTRAN2003 1" >>confdefs.h

    abi_fc_vendor="gnu"
    abi_fc_version=`echo ${abi_result} | sed -e 's/^[^(]*([^)]*) //; s/ .*//'`
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -version 2>&1 | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^PathScale'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_PATHSCALE 1" >>confdefs.h

    abi_fc_vendor="pathscale"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/.* Version //; s/ .*//'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  #if test "${abi_fc_vendor}" = "unknown"; then
  #  _ABI_CHECK_FC_COMPAQ(${FC})
  #fi
  #echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -V 2>/dev/null | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^Pro Fortran'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_ABSOFT 1" >>confdefs.h

    abi_fc_vendor="absoft"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/Pro Fortran //'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -version 2>&1 | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^MIPSpro'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_MIPSPRO 1" >>confdefs.h

    abi_fc_vendor="mipspro"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/.*Version //'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} --version 2>&1 | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^Open64'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_OPEN64 1" >>confdefs.h

    abi_fc_vendor="open64"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/.* Version //; s/ .*//'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -V 2>/dev/null | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^Fujitsu Fortran'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_FUJITSU 1" >>confdefs.h

    abi_fc_vendor="fujitsu"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/.*Driver //;s/ .*//'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -V 2>&1 | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep 'Sun' | grep 'Fortran 95'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_SUN 1" >>confdefs.h

    abi_fc_vendor="sun"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/.* Fortran 95 //;s/ .*//'`
    if test "${abi_fc_version}" = "${abi_result}" -o "${abi_fc_version}" = ""; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -V 2>/dev/null | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^Hitachi Fortran'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_HITACHI 1" >>confdefs.h

    abi_fc_vendor="hitachi"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/.*Driver //;s/ .*//'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -V 2>&1 | head -n 1`
  abi_result=`echo "${fc_info_string}" | grep '^NAG'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_NAG 1" >>confdefs.h

    abi_fc_vendor="nag"
    abi_fc_version=`echo "${fc_info_string}" | sed -e 's/.*Release //;s/[( ].*//'`
    if test "${abi_fc_version}" = ""; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

  if test "${abi_fc_vendor}" = "unknown"; then
    
    
    fc_info_string=`${FC} -V 2>&1 | head -n 2 | grep -v "^$"`
  abi_result=`echo "${fc_info_string}" | grep '^pgf9[05]'`
  if test "${abi_result}" = ""; then
    abi_result="no"
    fc_info_string=""
    abi_fc_vendor="unknown"
    abi_fc_version="unknown"
  else
    
$as_echo "@%:@define FC_PGI 1" >>confdefs.h

    abi_fc_vendor="pgi"
    abi_fc_version=`echo "${abi_result}" | sed -e 's/^pgf9[05] //' | sed -e 's/-.*//'`
    if test "${abi_fc_version}" = "${abi_result}"; then
      abi_fc_version="unknown"
    fi
    abi_result="yes"
  fi
  
  fi
  echo "${fc_info_string}" >>"${tmp_fc_info_file}"

    if test "${abi_fc_vendor}" = "unknown"; then
    abi_fc_vendor="generic"
  #else
  #  rm -f "${tmp_fc_info_file}"
  fi

    if test "${abi_fc_version}" = "unknown"; then
    abi_fc_version="0.0"
  else
    abi_fc_version=`echo ${abi_fc_version} | cut -d. -f1-2`
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_vendor} ${abi_fc_version}" >&5
$as_echo "${abi_fc_vendor} ${abi_fc_version}" >&6; }

    
  
  
  


# Set default file extensions


    
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking fortran 90 modules extension" >&5
$as_echo_n "checking fortran 90 modules extension... " >&6; }
if ${ax_cv_f90_modext+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

i=0
while test \( -f tmpdir_$i \) -o \( -d tmpdir_$i \) ; do
    i=`expr $i + 1`
done
mkdir tmpdir_$i
cd tmpdir_$i
cat > conftest.$ac_ext <<_ACEOF

!234567
            module conftest_module
            contains
            subroutine conftest_routine
            write(*,'(a)') 'gotcha!'
            end subroutine conftest_routine
            end module conftest_module
    
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  ax_cv_f90_modext=`ls | sed -n 's,conftest_module\.,,p'`
      if test x$ax_cv_f90_modext = x ; then
          ax_cv_f90_modext=`ls | sed -n 's,CONFTEST_MODULE\.,,p'`
          if test x$ax_cv_f90_modext = x ; then
              ax_cv_f90_modext=""
          fi
      fi
    
else
  ax_cv_f90_modext=""
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
cd ..
rm -fr tmpdir_$i
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ax_cv_f90_modext" >&5
$as_echo "$ax_cv_f90_modext" >&6; }
  if test "${ax_cv_f90_modext}" != ""; then
    MODEXT="${ax_cv_f90_modext}"
  else
    MODEXT="mod"
    { $as_echo "$as_me:${as_lineno-$LINENO}: setting Fortran module extension to \".${MODEXT}\"" >&5
$as_echo "$as_me: setting Fortran module extension to \".${MODEXT}\"" >&6;}
  fi

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran flag to compile .F90 files" >&5
$as_echo_n "checking for Fortran flag to compile .F90 files... " >&6; }
if ${ac_cv_fc_srcext_F90+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_ext=F90
ac_fcflags_srcext_save=$ac_fcflags_srcext
ac_fcflags_srcext=
ac_cv_fc_srcext_F90=unknown
case $ac_ext in #(
  [fF]77) ac_try=f77;; #(
  *) ac_try=f95;;
esac
for ac_flag in none -qsuffix=f=F90 -Tf "-x $ac_try"; do
  test "x$ac_flag" != xnone && ac_fcflags_srcext="$ac_flag"
  cat > conftest.$ac_ext <<_ACEOF
      program main

      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  ac_cv_fc_srcext_F90=$ac_flag; break
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done
rm -f conftest.$ac_objext conftest.F90
ac_fcflags_srcext=$ac_fcflags_srcext_save

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_fc_srcext_F90" >&5
$as_echo "$ac_cv_fc_srcext_F90" >&6; }
if test "x$ac_cv_fc_srcext_F90" = xunknown; then
  abi_fc_src_ok="no"
else
  ac_fc_srcext=F90
  if test "x$ac_cv_fc_srcext_F90" = xnone; then
    ac_fcflags_srcext=""
    FCFLAGS_F90=""
  else
    ac_fcflags_srcext=$ac_cv_fc_srcext_F90
    FCFLAGS_F90=$ac_cv_fc_srcext_F90
  fi
  
  abi_fc_src_ok="yes"
fi
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  if test "${abi_fc_src_ok}" != "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Fortran file extension could not be changed" >&5
$as_echo "$as_me: WARNING: Fortran file extension could not be changed" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: some advanced Fortran tests may fail" >&5
$as_echo "$as_me: WARNING: some advanced Fortran tests may fail" >&2;}
  fi


# Get module file case

  

    fc_mod_lowercase="yes"
  fc_mod_uppercase="no"
  { $as_echo "$as_me:${as_lineno-$LINENO}: determining Fortran module case" >&5
$as_echo "$as_me: determining Fortran module case" >&6;}

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF

    module conftest
    end module conftest
  
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  
else
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "unable to compile a simple Fortran module
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    if test -f "CONFTEST.${MODEXT}"; then
    fc_mod_lowercase="no"
    fc_mod_uppercase="yes"
  elif test ! -f "conftest.${MODEXT}"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: conftest.${MODEXT} Fortran module could not be found" >&5
$as_echo "$as_me: WARNING: conftest.${MODEXT} Fortran module could not be found" >&2;}
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether Fortran modules are upper-case" >&5
$as_echo_n "checking whether Fortran modules are upper-case... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_mod_uppercase}" >&5
$as_echo "${fc_mod_uppercase}" >&6; }


# Restore back FCFLAGS
FCFLAGS="${abi_env_FCFLAGS}"

# Wrap Fortran compiler calls if needed or requested
if test "${enable_fc_wrapper}" = "yes"; then
  abi_fc_wrap="yes"
fi

# Determine Fortran-C name mangling scheme
ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking how to get verbose linking output from $FC" >&5
$as_echo_n "checking how to get verbose linking output from $FC... " >&6; }
if ${ac_cv_prog_fc_v+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat > conftest.$ac_ext <<_ACEOF
      program main

      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  ac_cv_prog_fc_v=
# Try some options frequently used verbose output
for ac_verb in -v -verbose --verbose -V -\#\#\#; do
  cat > conftest.$ac_ext <<_ACEOF
      program main

      end
_ACEOF

# Compile and link our simple test program by passing a flag (argument
# 1 to this macro) to the Fortran compiler in order to get
# "verbose" output that we can then parse for the Fortran linker
# flags.
ac_save_FCFLAGS=$FCFLAGS
FCFLAGS="$FCFLAGS $ac_verb"
eval "set x $ac_link"
shift
$as_echo "$as_me:${as_lineno-$LINENO}: $*" >&5
# gfortran 4.3 outputs lines setting COLLECT_GCC_OPTIONS, COMPILER_PATH,
# LIBRARY_PATH; skip all such settings.
ac_fc_v_output=`eval $ac_link 5>&1 2>&1 |
  sed '/^Driving:/d; /^Configured with:/d;
      '"/^[_$as_cr_Letters][_$as_cr_alnum]*=/d"`
$as_echo "$ac_fc_v_output" >&5
FCFLAGS=$ac_save_FCFLAGS

rm -rf conftest*

# On HP/UX there is a line like: "LPATH is: /foo:/bar:/baz" where
# /foo, /bar, and /baz are search directories for the Fortran linker.
# Here, we change these into -L/foo -L/bar -L/baz (and put it first):
ac_fc_v_output="`echo $ac_fc_v_output |
	grep 'LPATH is:' |
	sed 's|.*LPATH is\(: *[^ ]*\).*|\1|;s|: */| -L/|g'` $ac_fc_v_output"

# FIXME: we keep getting bitten by quoted arguments; a more general fix
#        that detects unbalanced quotes in FLIBS should be implemented
#        and (ugh) tested at some point.
case $ac_fc_v_output in
  # With xlf replace commas with spaces,
  # and remove "-link" and closing parenthesis.
  *xlfentry*)
    ac_fc_v_output=`echo $ac_fc_v_output |
      sed '
        s/,/ /g
        s/ -link / /g
        s/) *$//
      '
    ` ;;

  # With Intel ifc, ignore the quoted -mGLOB_options_string stuff (quoted
  # $LIBS confuse us, and the libraries appear later in the output anyway).
  *mGLOB_options_string*)
    ac_fc_v_output=`echo $ac_fc_v_output | sed 's/"-mGLOB[^"]*"/ /g'` ;;

  # Portland Group compiler has singly- or doubly-quoted -cmdline argument
  # Singly-quoted arguments were reported for versions 5.2-4 and 6.0-4.
  # Doubly-quoted arguments were reported for "PGF90/x86 Linux/x86 5.0-2".
  *-cmdline\ * | *-ignore\ * | *-def\ *)
    ac_fc_v_output=`echo $ac_fc_v_output | sed "\
	s/-cmdline  *'[^']*'/ /g; s/-cmdline  *\"[^\"]*\"/ /g
	s/-ignore  *'[^']*'/ /g; s/-ignore  *\"[^\"]*\"/ /g
	s/-def  *'[^']*'/ /g; s/-def  *\"[^\"]*\"/ /g"` ;;

  # If we are using fort77 (the f2c wrapper) then filter output and delete quotes.
  *fort77*f2c*gcc*)
    ac_fc_v_output=`echo "$ac_fc_v_output" | sed -n '
        /:[	 ]\+Running[	 ]\{1,\}"gcc"/{
          /"-c"/d
          /[.]c"*/d
          s/^.*"gcc"/"gcc"/
          s/"//gp
        }'` ;;

  # If we are using Cray Fortran then delete quotes.
  *cft90*)
    ac_fc_v_output=`echo $ac_fc_v_output | sed 's/"//g'` ;;
esac


  # look for -l* and *.a constructs in the output
  for ac_arg in $ac_fc_v_output; do
     case $ac_arg in
	[\\/]*.a | ?:[\\/]*.a | -[lLRu]*)
	  ac_cv_prog_fc_v=$ac_verb
	  break 2 ;;
     esac
  done
done
if test -z "$ac_cv_prog_fc_v"; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: cannot determine how to obtain linking information from $FC" >&5
$as_echo "$as_me: WARNING: cannot determine how to obtain linking information from $FC" >&2;}
fi
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: compilation failed" >&5
$as_echo "$as_me: WARNING: compilation failed" >&2;}
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_fc_v" >&5
$as_echo "$ac_cv_prog_fc_v" >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran libraries of $FC" >&5
$as_echo_n "checking for Fortran libraries of $FC... " >&6; }
if ${ac_cv_fc_libs+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test "x$FCLIBS" != "x"; then
  ac_cv_fc_libs="$FCLIBS" # Let the user override the test.
else

cat > conftest.$ac_ext <<_ACEOF
      program main

      end
_ACEOF

# Compile and link our simple test program by passing a flag (argument
# 1 to this macro) to the Fortran compiler in order to get
# "verbose" output that we can then parse for the Fortran linker
# flags.
ac_save_FCFLAGS=$FCFLAGS
FCFLAGS="$FCFLAGS $ac_cv_prog_fc_v"
eval "set x $ac_link"
shift
$as_echo "$as_me:${as_lineno-$LINENO}: $*" >&5
# gfortran 4.3 outputs lines setting COLLECT_GCC_OPTIONS, COMPILER_PATH,
# LIBRARY_PATH; skip all such settings.
ac_fc_v_output=`eval $ac_link 5>&1 2>&1 |
  sed '/^Driving:/d; /^Configured with:/d;
      '"/^[_$as_cr_Letters][_$as_cr_alnum]*=/d"`
$as_echo "$ac_fc_v_output" >&5
FCFLAGS=$ac_save_FCFLAGS

rm -rf conftest*

# On HP/UX there is a line like: "LPATH is: /foo:/bar:/baz" where
# /foo, /bar, and /baz are search directories for the Fortran linker.
# Here, we change these into -L/foo -L/bar -L/baz (and put it first):
ac_fc_v_output="`echo $ac_fc_v_output |
	grep 'LPATH is:' |
	sed 's|.*LPATH is\(: *[^ ]*\).*|\1|;s|: */| -L/|g'` $ac_fc_v_output"

# FIXME: we keep getting bitten by quoted arguments; a more general fix
#        that detects unbalanced quotes in FLIBS should be implemented
#        and (ugh) tested at some point.
case $ac_fc_v_output in
  # With xlf replace commas with spaces,
  # and remove "-link" and closing parenthesis.
  *xlfentry*)
    ac_fc_v_output=`echo $ac_fc_v_output |
      sed '
        s/,/ /g
        s/ -link / /g
        s/) *$//
      '
    ` ;;

  # With Intel ifc, ignore the quoted -mGLOB_options_string stuff (quoted
  # $LIBS confuse us, and the libraries appear later in the output anyway).
  *mGLOB_options_string*)
    ac_fc_v_output=`echo $ac_fc_v_output | sed 's/"-mGLOB[^"]*"/ /g'` ;;

  # Portland Group compiler has singly- or doubly-quoted -cmdline argument
  # Singly-quoted arguments were reported for versions 5.2-4 and 6.0-4.
  # Doubly-quoted arguments were reported for "PGF90/x86 Linux/x86 5.0-2".
  *-cmdline\ * | *-ignore\ * | *-def\ *)
    ac_fc_v_output=`echo $ac_fc_v_output | sed "\
	s/-cmdline  *'[^']*'/ /g; s/-cmdline  *\"[^\"]*\"/ /g
	s/-ignore  *'[^']*'/ /g; s/-ignore  *\"[^\"]*\"/ /g
	s/-def  *'[^']*'/ /g; s/-def  *\"[^\"]*\"/ /g"` ;;

  # If we are using fort77 (the f2c wrapper) then filter output and delete quotes.
  *fort77*f2c*gcc*)
    ac_fc_v_output=`echo "$ac_fc_v_output" | sed -n '
        /:[	 ]\+Running[	 ]\{1,\}"gcc"/{
          /"-c"/d
          /[.]c"*/d
          s/^.*"gcc"/"gcc"/
          s/"//gp
        }'` ;;

  # If we are using Cray Fortran then delete quotes.
  *cft90*)
    ac_fc_v_output=`echo $ac_fc_v_output | sed 's/"//g'` ;;
esac



ac_cv_fc_libs=

# Save positional arguments (if any)
ac_save_positional="$@"

set X $ac_fc_v_output
while test $@%:@ != 1; do
  shift
  ac_arg=$1
  case $ac_arg in
	[\\/]*.a | ?:[\\/]*.a)
	    ac_exists=false
  for ac_i in $ac_cv_fc_libs; do
    if test x"$ac_arg" = x"$ac_i"; then
      ac_exists=true
      break
    fi
  done

  if test x"$ac_exists" = xtrue; then :
  
else
  ac_cv_fc_libs="$ac_cv_fc_libs $ac_arg"
fi
	  ;;
	-bI:*)
	    ac_exists=false
  for ac_i in $ac_cv_fc_libs; do
    if test x"$ac_arg" = x"$ac_i"; then
      ac_exists=true
      break
    fi
  done

  if test x"$ac_exists" = xtrue; then :
  
else
  if test "$ac_compiler_gnu" = yes; then
  for ac_link_opt in $ac_arg; do
    ac_cv_fc_libs="$ac_cv_fc_libs -Xlinker $ac_link_opt"
  done
else
  ac_cv_fc_libs="$ac_cv_fc_libs $ac_arg"
fi
fi
	  ;;
	  # Ignore these flags.
	-lang* | -lcrt*.o | -lc | -lgcc* | -lSystem | -libmil | -little \
	  |-LANG:=* | -LIST:* | -LNO:* | -link)
	  ;;
	-lkernel32)
	  case $host_os in
	  *cygwin*) ;;
	  *) ac_cv_fc_libs="$ac_cv_fc_libs $ac_arg"
	    ;;
	  esac
	  ;;
	-[LRuYz])
	  # These flags, when seen by themselves, take an argument.
	  # We remove the space between option and argument and re-iterate
	  # unless we find an empty arg or a new option (starting with -)
	  case $2 in
	     "" | -*);;
	     *)
		ac_arg="$ac_arg$2"
		shift; shift
		set X $ac_arg "$@"
		;;
	  esac
	  ;;
	-YP,*)
	  for ac_j in `$as_echo "$ac_arg" | sed -e 's/-YP,/-L/;s/:/ -L/g'`; do
	      ac_exists=false
  for ac_i in $ac_cv_fc_libs; do
    if test x"$ac_j" = x"$ac_i"; then
      ac_exists=true
      break
    fi
  done

  if test x"$ac_exists" = xtrue; then :
  
else
  ac_arg="$ac_arg $ac_j"
			       ac_cv_fc_libs="$ac_cv_fc_libs $ac_j"
fi
	  done
	  ;;
	-[lLR]*)
	    ac_exists=false
  for ac_i in $ac_cv_fc_libs; do
    if test x"$ac_arg" = x"$ac_i"; then
      ac_exists=true
      break
    fi
  done

  if test x"$ac_exists" = xtrue; then :
  
else
  ac_cv_fc_libs="$ac_cv_fc_libs $ac_arg"
fi
	  ;;
	-zallextract*| -zdefaultextract)
	  ac_cv_fc_libs="$ac_cv_fc_libs $ac_arg"
	  ;;
	  # Ignore everything else.
  esac
done
# restore positional arguments
set X $ac_save_positional; shift

# We only consider "LD_RUN_PATH" on Solaris systems.  If this is seen,
# then we insist that the "run path" must be an absolute path (i.e. it
# must begin with a "/").
case `(uname -sr) 2>/dev/null` in
   "SunOS 5"*)
      ac_ld_run_path=`$as_echo "$ac_fc_v_output" |
			sed -n 's,^.*LD_RUN_PATH *= *\(/[^ ]*\).*$,-R\1,p'`
      test "x$ac_ld_run_path" != x &&
	if test "$ac_compiler_gnu" = yes; then
  for ac_link_opt in $ac_ld_run_path; do
    ac_cv_fc_libs="$ac_cv_fc_libs -Xlinker $ac_link_opt"
  done
else
  ac_cv_fc_libs="$ac_cv_fc_libs $ac_ld_run_path"
fi
      ;;
esac
fi # test "x$[]_AC_LANG_PREFIX[]LIBS" = "x"

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_fc_libs" >&5
$as_echo "$ac_cv_fc_libs" >&6; }
FCLIBS="$ac_cv_fc_libs"


ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for dummy main to link with Fortran libraries" >&5
$as_echo_n "checking for dummy main to link with Fortran libraries... " >&6; }
if ${ac_cv_fc_dummy_main+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_fc_dm_save_LIBS=$LIBS
 LIBS="$LIBS $FCLIBS"
 ac_fortran_dm_var=FC_DUMMY_MAIN
 ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

 # First, try linking without a dummy main:
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_fortran_dummy_main=none
else
  ac_cv_fortran_dummy_main=unknown
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

 if test $ac_cv_fortran_dummy_main = unknown; then
   for ac_func in MAIN__ MAIN_ __main MAIN _MAIN __MAIN main_ main__ _main; do
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
@%:@define $ac_fortran_dm_var $ac_func
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_fortran_dummy_main=$ac_func; break
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
   done
 fi
 ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu
 ac_cv_fc_dummy_main=$ac_cv_fortran_dummy_main
 rm -rf conftest*
 LIBS=$ac_fc_dm_save_LIBS

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_fc_dummy_main" >&5
$as_echo "$ac_cv_fc_dummy_main" >&6; }
FC_DUMMY_MAIN=$ac_cv_fc_dummy_main
if test "$FC_DUMMY_MAIN" != unknown; then :
  if test $FC_DUMMY_MAIN != none; then
  
cat >>confdefs.h <<_ACEOF
@%:@define FC_DUMMY_MAIN $FC_DUMMY_MAIN
_ACEOF

  if test "x$ac_cv_fc_dummy_main" = "x$ac_cv_f77_dummy_main"; then
	
$as_echo "@%:@define FC_DUMMY_MAIN_EQ_F77 1" >>confdefs.h

  fi
fi
else
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "linking to Fortran libraries from C fails
See \`config.log' for more details" "$LINENO" 5; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran name-mangling scheme" >&5
$as_echo_n "checking for Fortran name-mangling scheme... " >&6; }
if ${ac_cv_fc_mangling+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat > conftest.$ac_ext <<_ACEOF
      subroutine foobar()
      return
      end
      subroutine foo_bar()
      return
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  mv conftest.$ac_objext cfortran_test.$ac_objext

  ac_save_LIBS=$LIBS
  LIBS="cfortran_test.$ac_objext $LIBS $FCLIBS"

  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
  ac_success=no
  for ac_foobar in foobar FOOBAR; do
    for ac_underscore in "" "_"; do
      ac_func="$ac_foobar$ac_underscore"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char $ac_func ();
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return $ac_func ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_success=yes; break 2
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    done
  done
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  if test "$ac_success" = "yes"; then
     case $ac_foobar in
	foobar)
	   ac_case=lower
	   ac_foo_bar=foo_bar
	   ;;
	FOOBAR)
	   ac_case=upper
	   ac_foo_bar=FOO_BAR
	   ;;
     esac

     ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
     ac_success_extra=no
     for ac_extra in "" "_"; do
	ac_func="$ac_foo_bar$ac_underscore$ac_extra"
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char $ac_func ();
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return $ac_func ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_success_extra=yes; break
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
     done
     ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

     if test "$ac_success_extra" = "yes"; then
	ac_cv_fc_mangling="$ac_case case"
	if test -z "$ac_underscore"; then
	   ac_cv_fc_mangling="$ac_cv_fc_mangling, no underscore"
	else
	   ac_cv_fc_mangling="$ac_cv_fc_mangling, underscore"
	fi
	if test -z "$ac_extra"; then
	   ac_cv_fc_mangling="$ac_cv_fc_mangling, no extra underscore"
	else
	   ac_cv_fc_mangling="$ac_cv_fc_mangling, extra underscore"
	fi
      else
	ac_cv_fc_mangling="unknown"
      fi
  else
     ac_cv_fc_mangling="unknown"
  fi

  LIBS=$ac_save_LIBS
  rm -rf conftest*
  rm -f cfortran_test*
else
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compile a simple Fortran program
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_fc_mangling" >&5
$as_echo "$ac_cv_fc_mangling" >&6; }

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu
case $ac_cv_fc_mangling in
  "lower case, no underscore, no extra underscore")
	  $as_echo "@%:@define FC_FUNC(name,NAME) name" >>confdefs.h

	  $as_echo "@%:@define FC_FUNC_(name,NAME) name" >>confdefs.h
 ;;
  "lower case, no underscore, extra underscore")
	  $as_echo "@%:@define FC_FUNC(name,NAME) name" >>confdefs.h

	  $as_echo "@%:@define FC_FUNC_(name,NAME) name ## _" >>confdefs.h
 ;;
  "lower case, underscore, no extra underscore")
	  $as_echo "@%:@define FC_FUNC(name,NAME) name ## _" >>confdefs.h

	  $as_echo "@%:@define FC_FUNC_(name,NAME) name ## _" >>confdefs.h
 ;;
  "lower case, underscore, extra underscore")
	  $as_echo "@%:@define FC_FUNC(name,NAME) name ## _" >>confdefs.h

	  $as_echo "@%:@define FC_FUNC_(name,NAME) name ## __" >>confdefs.h
 ;;
  "upper case, no underscore, no extra underscore")
	  $as_echo "@%:@define FC_FUNC(name,NAME) NAME" >>confdefs.h

	  $as_echo "@%:@define FC_FUNC_(name,NAME) NAME" >>confdefs.h
 ;;
  "upper case, no underscore, extra underscore")
	  $as_echo "@%:@define FC_FUNC(name,NAME) NAME" >>confdefs.h

	  $as_echo "@%:@define FC_FUNC_(name,NAME) NAME ## _" >>confdefs.h
 ;;
  "upper case, underscore, no extra underscore")
	  $as_echo "@%:@define FC_FUNC(name,NAME) NAME ## _" >>confdefs.h

	  $as_echo "@%:@define FC_FUNC_(name,NAME) NAME ## _" >>confdefs.h
 ;;
  "upper case, underscore, extra underscore")
	  $as_echo "@%:@define FC_FUNC(name,NAME) NAME ## _" >>confdefs.h

	  $as_echo "@%:@define FC_FUNC_(name,NAME) NAME ## __" >>confdefs.h
 ;;
  *)
	  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: unknown Fortran name-mangling scheme" >&5
$as_echo "$as_me: WARNING: unknown Fortran name-mangling scheme" >&2;}
	  ;;
esac

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


# The IBM Fortran compiler crashes if the mpi module is included
# more than once
if test "${abi_fc_vendor}" = "ibm" -a "${enable_mpi}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: activating MPI workaround for the IBM Fortran compiler" >&5
$as_echo "$as_me: activating MPI workaround for the IBM Fortran compiler" >&6;}
  
$as_echo "@%:@define HAVE_MPI_INCLUDED_ONCE 1" >>confdefs.h

fi

# ---------------------------------------------------------------------------- #

#
# Python support
#


    
  abi_sec_title="Python support"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Look for programs
for ac_prog in python python2.6 python2.5 python2.4
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_PYTHON+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$PYTHON"; then
  ac_cv_prog_PYTHON="$PYTHON" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_PYTHON="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
PYTHON=$ac_cv_prog_PYTHON
if test -n "$PYTHON"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $PYTHON" >&5
$as_echo "$PYTHON" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$PYTHON" && break
done


# Get Python preprocessing options
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Python CPPFLAGS" >&5
$as_echo_n "checking for Python CPPFLAGS... " >&6; }
if test "${PYTHON}" != "" -a "${PYTHON_CPPFLAGS}" = ""; then
  PYTHON_CPPFLAGS=`${PYTHON} -c "\
try:
    import distutils.sysconfig
    print '-I' + distutils.sysconfig.get_python_inc(),
except:
    pass
try:
    import numpy
    print '-I' + numpy.get_include(),
except:
    pass"`
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${PYTHON_CPPFLAGS}" >&5
$as_echo "${PYTHON_CPPFLAGS}" >&6; }

# Check whether Bazaar is installed
if test "${PYTHON}" != ""; then
  for ac_prog in bzr
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_BAZAAR+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$BAZAAR"; then
  ac_cv_prog_BAZAAR="$BAZAAR" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_BAZAAR="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
BAZAAR=$ac_cv_prog_BAZAAR
if test -n "$BAZAAR"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $BAZAAR" >&5
$as_echo "$BAZAAR" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$BAZAAR" && break
done

fi


    abi_python_ok="no"
  abi_save_CPPFLAGS="${CPPFLAGS}"
  CPPFLAGS="${PYTHON_CPPFLAGS} ${CPPFLAGS}"

    ac_fn_c_check_header_mongrel "$LINENO" "Python.h" "ac_cv_header_Python_h" "$ac_includes_default"
if test "x$ac_cv_header_Python_h" = xyes; then :
  abi_python_ok="yes"
fi



    if test "${abi_python_ok}" = "yes"; then
    
    abi_numpy_ok="no"

    if test "${abi_numpy_ok}" = "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for numpy/arrayobject.h" >&5
$as_echo_n "checking for numpy/arrayobject.h... " >&6; }
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <Python.h>
#include <numpy/arrayobject.h>
        
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

        
      
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  abi_numpy_ok="yes"
else
  abi_numpy_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    if test "${abi_numpy_ok}" = "yes"; then
      
$as_echo "@%:@define HAVE_NUMPY 1" >>confdefs.h

    fi
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_numpy_ok}" >&5
$as_echo "${abi_numpy_ok}" >&6; }
  fi

    if test "${abi_numpy_ok}" = "no"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: adding \"-I/usr/include/numpy\" to CPPFLAGS" >&5
$as_echo "$as_me: adding \"-I/usr/include/numpy\" to CPPFLAGS" >&6;}
      CPPFLAGS="${CPPFLAGS} -I/usr/include/numpy"
      
    abi_numpy_ok="no"

    if test "${abi_numpy_ok}" = "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for numpy/arrayobject.h" >&5
$as_echo_n "checking for numpy/arrayobject.h... " >&6; }
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <Python.h>
#include <numpy/arrayobject.h>
        
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

        
      
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  abi_numpy_ok="yes"
else
  abi_numpy_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    if test "${abi_numpy_ok}" = "yes"; then
      
$as_echo "@%:@define HAVE_NUMPY 1" >>confdefs.h

    fi
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_numpy_ok}" >&5
$as_echo "${abi_numpy_ok}" >&6; }
  fi

      if test "${abi_numpy_ok}" = "yes"; then
        PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS} -I/usr/include/numpy"
      fi
    fi
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: your Python development environment is not working" >&5
$as_echo "$as_me: WARNING: your Python development environment is not working" >&2;}
  fi

    CPPFLAGS="${abi_save_CPPFLAGS}"


# Set Bazaar variables
bzr_branch=""
bzr_revno=""
bzr_clean=""
if test "${BAZAAR}" != "" -a -d "${abinit_srcdir}/.bzr"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: retrieving Bazaar branch information" >&5
$as_echo "$as_me: retrieving Bazaar branch information" >&6;}
    eval `bzr version-info \
      --check-clean \
      --custom \
      --template='bzr_branch="{revision_id}"\nbzr_revno="{revno}"\nbzr_clean="{clean}"\n' \
      ${abinit_srcdir}`
    
$as_echo "@%:@define HAVE_BZR_BRANCH 1" >>confdefs.h

fi

# Substitute Python-related variables




# ---------------------------------------------------------------------------- #

#
# Libraries and linking
#


    
  abi_sec_title="Libraries and linking"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Preserve environment

    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



# Disable shared objects (may change in a distant future)
# Note: Libtool-provided macro
#AC_DISABLE_SHARED

# Look for archiver
if test "${AR}" = ""; then
  for ac_prog in ar xiar
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_AR+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$AR"; then
  ac_cv_prog_AR="$AR" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_AR="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
AR=$ac_cv_prog_AR
if test -n "$AR"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $AR" >&5
$as_echo "$AR" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$AR" && break
done

fi

# Set archiver command flag
test "${ARFLAGS_CMD}" = "" && ARFLAGS_CMD="rc"


# Look for ranlib
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
set dummy ${ac_tool_prefix}ranlib; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_RANLIB+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
RANLIB=$ac_cv_prog_RANLIB
if test -n "$RANLIB"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
$as_echo "$RANLIB" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


fi
if test -z "$ac_cv_prog_RANLIB"; then
  ac_ct_RANLIB=$RANLIB
  # Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_RANLIB+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ac_ct_RANLIB"; then
  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ac_ct_RANLIB="ranlib"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
if test -n "$ac_ct_RANLIB"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
$as_echo "$ac_ct_RANLIB" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

  if test "x$ac_ct_RANLIB" = x; then
    RANLIB=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    RANLIB=$ac_ct_RANLIB
  fi
else
  RANLIB="$ac_cv_prog_RANLIB"
fi


# Look for linker (not used for now)
#AC_PROG_LD

# Restore back compile flags
CFLAGS="${abi_env_CFLAGS}"
CXXFLAGS="${abi_env_CXXFLAGS}"
FCFLAGS="${abi_env_FCFLAGS}"

# We want to be able access the archiver from anywhere



# Report the use of libtool-related options




# ---------------------------------------------------------------------------- #

#
# Hints
#


    
  abi_sec_title="Hints"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Look for a true C preprocessor
if test "${TRUE_CPP}" = ""; then
  for ac_prog in cpp
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_TRUE_CPP+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$TRUE_CPP"; then
  ac_cv_prog_TRUE_CPP="$TRUE_CPP" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_TRUE_CPP="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
TRUE_CPP=$ac_cv_prog_TRUE_CPP
if test -n "$TRUE_CPP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $TRUE_CPP" >&5
$as_echo "$TRUE_CPP" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$TRUE_CPP" && break
done

fi
if test "${TRUE_CPP}" = ""; then
  # Extract the first word of "cpp", so it can be a program name with args.
set dummy cpp; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_TRUE_CPP+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $TRUE_CPP in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_TRUE_CPP="$TRUE_CPP" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_path_TRUE_CPP="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
TRUE_CPP=$ac_cv_path_TRUE_CPP
if test -n "$TRUE_CPP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $TRUE_CPP" >&5
$as_echo "$TRUE_CPP" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


fi
if test "${TRUE_CPP}" = ""; then
  if test -x "/lib/cpp"; then
    TRUE_CPP="/lib/cpp"
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for a true C preprocessor" >&5
$as_echo_n "checking for a true C preprocessor... " >&6; }
if test "${TRUE_CPP}" = ""; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${TRUE_CPP}" >&5
$as_echo "${TRUE_CPP}" >&6; }
fi

# Set Fortran preprocessor when needed
if test "${abi_fc_wrap}" = "yes"; then
  if test "${FPP}" = ""; then
    if test "${abi_cpp_user}" != ""; then
      FPP="${abi_cpp_user}"
    else
      if test "${TRUE_CPP}" != ""; then
        FPP="${TRUE_CPP}"
      else
        FPP="${CPP}"
      fi
    fi
  fi
fi

# FIXME: set CPP vendor
case "${target_os}" in
  aix*)
    abi_cpp_vendor="ibm"
    abi_xpp_vendor="ibm"
    abi_fpp_vendor="ibm"
    ;;
  *)
    abi_cpp_vendor="default"
    abi_xpp_vendor="default"
    abi_fpp_vendor="default"
    ;;
esac
case "${abi_fc_vendor}" in
  ibm)
    abi_fpp_vendor="ibm"
    ;;
esac

# Preset flags to have the source building properly
if test "${enable_hints}" = "yes"; then

  # C support
  
    abi_cpp_vendor_hnt="none"
  abi_cpp_version_hnt="none"
  abi_sys_spec_hnt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which cpp hints to apply" >&5
$as_echo_n "checking which cpp hints to apply... " >&6; }

    case "${abi_cpp_vendor}" in
    ibm)
      abi_cpp_vendor_hnt="ibm"
      abi_cpp_version_hnt="default"
      case "${abi_sys_spec}" in
        aix-*)
          abi_sys_spec_hnt="aix-*"
          CPPFLAGS_HINTS_EXT='-P -traditional-cpp'
          ;;
        linux-*)
          abi_sys_spec_hnt="linux-*"
          CPPFLAGS_HINTS_EXT='-P -traditional-cpp'
          ;;
        *)
          abi_sys_spec_hnt="default"
          ;;
      esac   # [case: abi_sys_spec, indent: 2, item: True]
      ;;
    *)
      abi_cpp_vendor_hnt="default"
      abi_cpp_version_hnt="default"
      abi_sys_spec_hnt="default"
      CPPFLAGS_HINTS_EXT='-P -std=c99'
      ;;
  esac   # [case: abi_cpp_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cpp_vendor_hnt}/${abi_cpp_version_hnt}/${abi_sys_spec_hnt}" >&5
$as_echo "${abi_cpp_vendor_hnt}/${abi_cpp_version_hnt}/${abi_sys_spec_hnt}" >&6; }


  
    abi_cc_vendor_hnt="none"
  abi_cc_version_hnt="none"
  abi_sys_spec_hnt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which cc hints to apply" >&5
$as_echo_n "checking which cc hints to apply... " >&6; }

    case "${abi_cc_vendor}" in
    ibm)
      abi_cc_vendor_hnt="ibm"
      abi_cc_version_hnt="default"
      abi_sys_spec_hnt="default"
      CFLAGS_64BITS='-q64'
      CFLAGS_PIC='-qpic'
      ;;
    gnu)
      abi_cc_vendor_hnt="gnu"
      abi_cc_version_hnt="default"
      case "${abi_sys_spec}" in
        irix-mips)
          abi_sys_spec_hnt="irix-mips"
          CFLAGS_64BITS='-mabi=64'
          CFLAGS_PIC='-fPIC'
          CFLAGS_32BITS='-mabi=32'
          ;;
        *)
          abi_sys_spec_hnt="default"
          CFLAGS_32BITS='-m32'
          CFLAGS_64BITS='-m64'
          CFLAGS_PIC='-fPIC'
          ;;
      esac   # [case: abi_sys_spec, indent: 2, item: True]
      ;;
    open64)
      abi_cc_vendor_hnt="open64"
      abi_cc_version_hnt="default"
      abi_sys_spec_hnt="default"
      CFLAGS_32BITS='-m32'
      CFLAGS_64BITS='-m64'
      CFLAGS_PIC='-fPIC'
      ;;
    pathscale)
      abi_cc_vendor_hnt="pathscale"
      abi_cc_version_hnt="default"
      abi_sys_spec_hnt="default"
      CFLAGS_32BITS='-m32'
      CFLAGS_64BITS='-m64'
      CFLAGS_PIC='-fPIC'
      ;;
    intel)
      abi_cc_vendor_hnt="intel"
      abi_cc_version_hnt="default"
      abi_sys_spec_hnt="default"
      CFLAGS_HINTS='-vec-report0'
      CC_LDFLAGS_HINTS='-static-libgcc -static-intel'
      CFLAGS_PIC='-fPIC'
      ;;
  esac   # [case: abi_cc_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cc_vendor_hnt}/${abi_cc_version_hnt}/${abi_sys_spec_hnt}" >&5
$as_echo "${abi_cc_vendor_hnt}/${abi_cc_version_hnt}/${abi_sys_spec_hnt}" >&6; }



  # C++ support
  
    abi_xpp_vendor_hnt="none"
  abi_xpp_version_hnt="none"
  abi_sys_spec_hnt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which xpp hints to apply" >&5
$as_echo_n "checking which xpp hints to apply... " >&6; }

  
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_xpp_vendor_hnt}/${abi_xpp_version_hnt}/${abi_sys_spec_hnt}" >&5
$as_echo "${abi_xpp_vendor_hnt}/${abi_xpp_version_hnt}/${abi_sys_spec_hnt}" >&6; }


  
    abi_cxx_vendor_hnt="none"
  abi_cxx_version_hnt="none"
  abi_sys_spec_hnt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which cxx hints to apply" >&5
$as_echo_n "checking which cxx hints to apply... " >&6; }

    case "${abi_cxx_vendor}" in
    ibm)
      abi_cxx_vendor_hnt="ibm"
      abi_cxx_version_hnt="default"
      abi_sys_spec_hnt="default"
      CXXFLAGS_64BITS='-q64'
      CXXFLAGS_PIC='-qpic'
      ;;
    gnu)
      abi_cxx_vendor_hnt="gnu"
      abi_cxx_version_hnt="default"
      case "${abi_sys_spec}" in
        irix-mips)
          abi_sys_spec_hnt="irix-mips"
          CXXFLAGS_64BITS='-mabi=64'
          CXXFLAGS_PIC='-fPIC'
          CXXFLAGS_32BITS='-mabi=32'
          ;;
        *)
          abi_sys_spec_hnt="default"
          CXXFLAGS_32BITS='-m32'
          CXXFLAGS_64BITS='-m64'
          CXXFLAGS_PIC='-fPIC'
          ;;
      esac   # [case: abi_sys_spec, indent: 2, item: True]
      ;;
    pathscale)
      abi_cxx_vendor_hnt="pathscale"
      abi_cxx_version_hnt="default"
      abi_sys_spec_hnt="default"
      CXXFLAGS_32BITS='-m32'
      CXXFLAGS_64BITS='-m64'
      CXXFLAGS_PIC='-fPIC'
      ;;
    intel)
      abi_cxx_vendor_hnt="intel"
      abi_cxx_version_hnt="default"
      abi_sys_spec_hnt="default"
      CXXFLAGS_HINTS='-vec-report0'
      CXX_LDFLAGS_HINTS='-static-libgcc -static-intel'
      CXXFLAGS_PIC='-fPIC'
      ;;
  esac   # [case: abi_cxx_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cxx_vendor_hnt}/${abi_cxx_version_hnt}/${abi_sys_spec_hnt}" >&5
$as_echo "${abi_cxx_vendor_hnt}/${abi_cxx_version_hnt}/${abi_sys_spec_hnt}" >&6; }



  # Fortran support
  
    abi_fpp_vendor_hnt="none"
  abi_fpp_version_hnt="none"
  abi_sys_spec_hnt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which fpp hints to apply" >&5
$as_echo_n "checking which fpp hints to apply... " >&6; }

    case "${abi_fpp_vendor}" in
    ibm)
      abi_fpp_vendor_hnt="ibm"
      abi_fpp_version_hnt="default"
      abi_sys_spec_hnt="default"
      FPPFLAGS_HINTS_EXT='-P -traditional-cpp'
      ;;
    *)
      abi_fpp_vendor_hnt="default"
      abi_fpp_version_hnt="default"
      abi_sys_spec_hnt="default"
      FPPFLAGS_HINTS_EXT='-P'
      ;;
  esac   # [case: abi_fpp_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fpp_vendor_hnt}/${abi_fpp_version_hnt}/${abi_sys_spec_hnt}" >&5
$as_echo "${abi_fpp_vendor_hnt}/${abi_fpp_version_hnt}/${abi_sys_spec_hnt}" >&6; }


  
    abi_fc_vendor_hnt="none"
  abi_fc_version_hnt="none"
  abi_sys_spec_hnt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which fc hints to apply" >&5
$as_echo_n "checking which fc hints to apply... " >&6; }

    case "${abi_fc_vendor}" in
    absoft)
      abi_fc_vendor_hnt="absoft"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_FIXEDFORM='-ffixed'
      FCFLAGS_FREEFORM='-ffree'
      FCFLAGS_MODDIR='-p $(abinit_moddir)'
      abi_fc_wrap='yes'
      FCFLAGS_OPENMP='-openmp'
      FCFLAGS_PIC='-fPIC'
      ;;
    ibm)
      abi_fc_vendor_hnt="ibm"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_32BITS='-q32'
      FCFLAGS_64BITS='-q64'
      FCFLAGS_FIXEDFORM='-qsuffix=cpp=F:f=f -qfixed'
      FCFLAGS_FREEFORM='-qsuffix=cpp=F90:f=f90 -qfree=f90'
      FCFLAGS_PIC='-qpic'
      FCFLAGS_MODDIR='-qmoddir=$(abinit_moddir) -I$(abinit_moddir)'
      FPPFLAGS_HINTS='-WF,-DHAVE_CONFIG_H'
      FCFLAGS_HINTS='-qzerosize'
      FCFLAGS_OPENMP='-qsmp'
      ;;
    gnu)
      abi_fc_vendor_hnt="gnu"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_32BITS='-m32'
      FCFLAGS_64BITS='-m64'
      FCFLAGS_BIGENDIAN='-fconvert=big-endian -frecord-marker=4'
      FCFLAGS_FIXEDFORM='-ffixed-form'
      FCFLAGS_FREEFORM='-ffree-form'
      FCFLAGS_PIC='-fPIC'
      FCFLAGS_MODDIR='-J$(abinit_moddir)'
      FCFLAGS_HINTS='-ffree-line-length-none'
      FCFLAGS_OPENMP='-fopenmp'
      ;;
    open64)
      abi_fc_vendor_hnt="open64"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_BIGENDIAN='-byteswapio'
      FCFLAGS_32BITS='-m32 -align32'
      FCFLAGS_64BITS='-m64 -align64'
      FCFLAGS_FIXEDFORM='-fixedform'
      FCFLAGS_FREEFORM='-freeform'
      FCFLAGS_PIC='-fPIC'
      FCFLAGS_MODDIR='-module $(abinit_moddir)'
      FCFLAGS_HINTS='-extend-source'
      ;;
    amd)
      abi_fc_vendor_hnt="amd"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_32BITS='-m32 -align32'
      FCFLAGS_64BITS='-m64 -align64 -default64'
      FCFLAGS_BIGENDIAN='-convert big_endian'
      FCFLAGS_FIXEDFORM='-fixedform'
      FCFLAGS_FREEFORM='-freeform'
      FCFLAGS_PIC='-fPIC'
      FCFLAGS_HINTS='-extend-source -col120'
      FCFLAGS_MODDIR='-module $(abinit_moddir) -I$(abinit_moddir)'
      ;;
    pgi)
      abi_fc_vendor_hnt="pgi"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_FIXEDFORM='-Mfixed'
      FCFLAGS_FREEFORM='-Mfree'
      FCFLAGS_MODDIR='-module $(abinit_moddir)'
      FCFLAGS_PIC='-fPIC'
      FCFLAGS_HINTS='-Mextend'
      FC_LDFLAGS_HINTS=''
      ;;
    g95)
      abi_fc_vendor_hnt="g95"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_32BITS='-m32'
      FCFLAGS_64BITS='-m64'
      FCFLAGS_BIGENDIAN='-fconvert=big-endian -frecord-marker=4'
      FCFLAGS_FIXEDFORM='-ffixed-form'
      FCFLAGS_FREEFORM='-ffree-form'
      FCFLAGS_PIC='-fpic'
      FCFLAGS_MODDIR='-fmod=$(abinit_moddir) -I$(abinit_moddir)'
      FCFLAGS_HINTS='-ffree-line-length-huge'
      ;;
    fujitsu)
      abi_fc_vendor_hnt="fujitsu"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_FIXEDFORM='-Fixed -X7'
      FCFLAGS_FREEFORM='-Free -X9'
      FCFLAGS_MODDIR='-M $(abinit_moddir)'
      FCFLAGS_HINTS='-Am -Ee -Ep'
      abi_fc_wrap='yes'
      FCFLAGS_OPENMP='--openmp'
      FCFLAGS_PIC='-K PIC'
      ;;
    pathscale)
      abi_fc_vendor_hnt="pathscale"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_BIGENDIAN='-byteswapio'
      FCFLAGS_32BITS='-m32 -align32'
      FCFLAGS_64BITS='-m64 -align64'
      FCFLAGS_FIXEDFORM='-fixedform'
      FCFLAGS_FREEFORM='-freeform'
      FCFLAGS_PIC='-fPIC'
      FCFLAGS_MODDIR='-module $(abinit_moddir)'
      FCFLAGS_HINTS='-extend-source'
      FCFLAGS_OPENMP='-mp'
      ;;
    nag)
      abi_fc_vendor_hnt="nag"
      abi_fc_version_hnt="default"
      abi_sys_spec_hnt="default"
      FCFLAGS_64BITS='-64t'
      FCFLAGS_FIXEDFORM='-fixed'
      FCFLAGS_FREEFORM='-free'
      FCFLAGS_PIC='-PIC'
      FCFLAGS_OPENMP='-openmp'
      FCFLAGS_MODDIR='-mdir $(abinit_moddir) -I$(abinit_moddir)'
      FCFLAGS_HINTS='-DFC_NAG  -w -kind=byte -gline -dcfuns -C=intovf -C=present -C=array -mismatch'
      ;;
    intel)
      abi_fc_vendor_hnt="intel"
      case "${abi_fc_version}" in
        15.0)
          abi_fc_version_hnt="15.0"
          case "${abi_sys_spec}" in
            *-ia64)
              abi_sys_spec_hnt="*-ia64"
              FCFLAGS_HINTS='-extend_source'
              FCFLAGS_PIC='-fPIC'
              FCFLAGS_FREEFORM='-free'
              FC_LDFLAGS_HINTS='-static-intel -static-libgcc'
              FCFLAGS_OPENMP='-qopenmp'
              FCFLAGS_BIGENDIAN='-convert big_endian'
              FCFLAGS_FIXEDFORM='-fixed'
              FCFLAGS_MODDIR='-module $(abinit_moddir)'
              ;;
            *)
              abi_sys_spec_hnt="default"
              FCFLAGS_BIGENDIAN='-convert big_endian'
              FCFLAGS_FIXEDFORM='-fixed'
              FCFLAGS_FREEFORM='-free'
              FCFLAGS_MODDIR='-module $(abinit_moddir)'
              FCFLAGS_PIC='-fPIC'
              FCFLAGS_HINTS='-extend-source -noaltparam -nofpscomp'
              FC_LDFLAGS_HINTS='-static-intel -static-libgcc'
              FCFLAGS_OPENMP='-qopenmp'
              ;;
          esac   # [case: abi_sys_spec, indent: 4, item: True]
          ;;
        17.0)
          abi_fc_version_hnt="17.0"
          case "${abi_sys_spec}" in
            *-ia64)
              abi_sys_spec_hnt="*-ia64"
              FCFLAGS_HINTS='-extend_source'
              FCFLAGS_PIC='-fPIC'
              FCFLAGS_FREEFORM='-free'
              FC_LDFLAGS_HINTS=''
              FCFLAGS_OPENMP='-qopenmp'
              FCFLAGS_BIGENDIAN='-convert big_endian'
              FCFLAGS_FIXEDFORM='-fixed'
              FCFLAGS_MODDIR='-module $(abinit_moddir)'
              ;;
            *)
              abi_sys_spec_hnt="default"
              FCFLAGS_BIGENDIAN='-convert big_endian'
              FCFLAGS_FIXEDFORM='-fixed'
              FCFLAGS_FREEFORM='-free'
              FCFLAGS_MODDIR='-module $(abinit_moddir)'
              FCFLAGS_PIC='-fPIC'
              FCFLAGS_HINTS=''
              FC_LDFLAGS_HINTS=''
              FCFLAGS_OPENMP='-qopenmp'
              ;;
          esac   # [case: abi_sys_spec, indent: 4, item: True]
          ;;
        16.0)
          abi_fc_version_hnt="16.0"
          case "${abi_sys_spec}" in
            *-ia64)
              abi_sys_spec_hnt="*-ia64"
              FCFLAGS_HINTS='-extend_source'
              FCFLAGS_PIC='-fPIC'
              FCFLAGS_FREEFORM='-free'
              FC_LDFLAGS_HINTS='-static-intel -static-libgcc'
              FCFLAGS_OPENMP='-qopenmp'
              FCFLAGS_BIGENDIAN='-convert big_endian'
              FCFLAGS_FIXEDFORM='-fixed'
              FCFLAGS_MODDIR='-module $(abinit_moddir)'
              ;;
            *)
              abi_sys_spec_hnt="default"
              FCFLAGS_BIGENDIAN='-convert big_endian'
              FCFLAGS_FIXEDFORM='-fixed'
              FCFLAGS_FREEFORM='-free'
              FCFLAGS_MODDIR='-module $(abinit_moddir)'
              FCFLAGS_PIC='-fPIC'
              FCFLAGS_HINTS='-extend-source -noaltparam -nofpscomp'
              FC_LDFLAGS_HINTS='-static-intel -static-libgcc'
              FCFLAGS_OPENMP='-qopenmp'
              ;;
          esac   # [case: abi_sys_spec, indent: 4, item: True]
          ;;
        18.0)
          abi_fc_version_hnt="18.0"
          case "${abi_sys_spec}" in
            *-ia64)
              abi_sys_spec_hnt="*-ia64"
              FCFLAGS_HINTS='-extend_source'
              FCFLAGS_PIC='-fPIC'
              FCFLAGS_FREEFORM='-free'
              FC_LDFLAGS_HINTS='-static-intel -static-libgcc'
              FCFLAGS_OPENMP='-qopenmp'
              FCFLAGS_BIGENDIAN='-convert big_endian'
              FCFLAGS_FIXEDFORM='-fixed'
              FCFLAGS_MODDIR='-module $(abinit_moddir)'
              ;;
            *)
              abi_sys_spec_hnt="default"
              FCFLAGS_BIGENDIAN='-convert big_endian'
              FCFLAGS_FIXEDFORM='-fixed'
              FCFLAGS_FREEFORM='-free'
              FCFLAGS_MODDIR='-module $(abinit_moddir)'
              FCFLAGS_PIC='-fPIC'
              FCFLAGS_HINTS='-extend-source -noaltparam -nofpscomp'
              FC_LDFLAGS_HINTS='-static-intel -static-libgcc'
              FCFLAGS_OPENMP='-qopenmp'
              ;;
          esac   # [case: abi_sys_spec, indent: 4, item: True]
          ;;
        *)
          abi_fc_version_hnt="default"
          abi_sys_spec_hnt="default"
          FCFLAGS_BIGENDIAN='-convert big_endian'
          FCFLAGS_FIXEDFORM='-fixed'
          FCFLAGS_FREEFORM='-free'
          FCFLAGS_MODDIR='-module $(abinit_moddir)'
          FCFLAGS_PIC='-fPIC'
          FCFLAGS_HINTS='-extend-source -vec-report0 -noaltparam -nofpscomp'
          FC_LDFLAGS_HINTS='-static-intel -static-libgcc'
          FCFLAGS_OPENMP='-openmp'
          ;;
      esac   # [case: abi_fc_version, indent: 2, item: True]
      ;;
  esac   # [case: abi_fc_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_vendor_hnt}/${abi_fc_version_hnt}/${abi_sys_spec_hnt}" >&5
$as_echo "${abi_fc_vendor_hnt}/${abi_fc_version_hnt}/${abi_sys_spec_hnt}" >&6; }



  # Library archiver support
  
    abi_ar_vendor_hnt="none"
  abi_ar_version_hnt="none"
  abi_sys_spec_hnt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which ar hints to apply" >&5
$as_echo_n "checking which ar hints to apply... " >&6; }

    if test "${abi_ar_vendor}" = "ibm"; then
    abi_ar_vendor_hnt="ibm"
    abi_ar_version_hnt="default"
    case "${abi_sys_spec}" in
      aix-*)
        abi_sys_spec_hnt="aix-*"
        ARFLAGS_64BITS='-X 64'
        ARFLAGS_32BITS='-X 32'
        ;;
      *)
        abi_sys_spec_hnt="default"
        ;;
    esac   # [case: abi_sys_spec, indent: 1, item: False]
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_ar_vendor_hnt}/${abi_ar_version_hnt}/${abi_sys_spec_hnt}" >&5
$as_echo "${abi_ar_vendor_hnt}/${abi_ar_version_hnt}/${abi_sys_spec_hnt}" >&6; }



fi

# Adjust OpenMP flags
if test "${enable_openmp}" != "yes"; then
  FCFLAGS_OPENMP=""
fi

# Set Fortran preprocessing flags
if test "${abi_fc_wrap}" = "yes"; then
  test "${FPPFLAGS}" = "" && FPPFLAGS="${FPPFLAGS_HINTS_EXT}"
fi

# Display Fortran preprocessing parameters
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking which Fortran preprocessor to use" >&5
$as_echo_n "checking which Fortran preprocessor to use... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${FPP}" >&5
$as_echo "${FPP}" >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking which Fortran preprocessor flags to apply" >&5
$as_echo_n "checking which Fortran preprocessor flags to apply... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${FPPFLAGS}" >&5
$as_echo "${FPPFLAGS}" >&6; }

# Set flags for bindings
# FIXME: this is not generic enough (should use Libtool)
if test "${enable_exports}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: setting PIC flags for C compiler" >&5
$as_echo "$as_me: setting PIC flags for C compiler" >&6;}
  CFLAGS_HINTS="${CFLAGS_HINTS} ${CFLAGS_PIC}"
  { $as_echo "$as_me:${as_lineno-$LINENO}: setting PIC flags for C++ compiler" >&5
$as_echo "$as_me: setting PIC flags for C++ compiler" >&6;}
  CXXFLAGS_HINTS="${CXXFLAGS_HINTS} ${CXXFLAGS_PIC}"
  { $as_echo "$as_me:${as_lineno-$LINENO}: setting PIC flags for Fortran compiler" >&5
$as_echo "$as_me: setting PIC flags for Fortran compiler" >&6;}
  FCFLAGS_HINTS="${FCFLAGS_HINTS} ${FCFLAGS_PIC}"
fi

# Display Fortran compiler wrapper status
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to wrap Fortran compiler calls" >&5
$as_echo_n "checking whether to wrap Fortran compiler calls... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_wrap}" >&5
$as_echo "${abi_fc_wrap}" >&6; }

# Export true CPPFLAGS (required by LibXC)


# ---------------------------------------------------------------------------- #

#
# Debugging
#
# NOTE:
#
#   * Please do not try to set-up the *FLAGS_DEBUG variables manually,
#     as they will systematically be overwritten. These flags should be
#     modified by the --with-*-dbgflags options only, and --enable-debug
#     set to "yes" in this case.
#


    
  abi_sec_title="Debugging"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Init debug flags

    abi_debug_mode="${enable_debug}"
  abi_optim_mode="${enable_optim}"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking debugging status" >&5
$as_echo_n "checking debugging status... " >&6; }
  case "${abi_debug_mode}" in
    no)
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
$as_echo "disabled" >&6; }
      CPPFLAGS_DEBUG=""
      CFLAGS_DEBUG=""
      CC_LDFLAGS_DEBUG=""
      CC_LIBS_DEBUG=""
      CXXFLAGS_DEBUG=""
      CXX_LDFLAGS_DEBUG=""
      CXX_LIBS_DEBUG=""
      FCFLAGS_DEBUG=""
      FC_LDFLAGS_DEBUG=""
      FC_LIBS_DEBUG=""
      ARFLAGS_DEBUG=""
      ;;
    yes)
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: enabled (using user-specified debug flags)" >&5
$as_echo "enabled (using user-specified debug flags)" >&6; }
      ;;
    *)
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: enabled (profile mode: ${abi_debug_mode})" >&5
$as_echo "enabled (profile mode: ${abi_debug_mode})" >&6; }
      CPPFLAGS_DEBUG=""
      CFLAGS_DEBUG=""
      CC_LDFLAGS_DEBUG=""
      CC_LIBS_DEBUG=""
      CXXFLAGS_DEBUG=""
      CXX_LDFLAGS_DEBUG=""
      CXX_LIBS_DEBUG=""
      FCFLAGS_DEBUG=""
      FC_LDFLAGS_DEBUG=""
      FC_LIBS_DEBUG=""
      ARFLAGS_DEBUG=""
      ;;
  esac

    if test "${abi_debug_mode}" != "no" -a "${abi_debug_mode}" != "yes"; then

        if test "${CFLAGS}" = ""; then
      if test "${ac_cv_prog_cc_g}" = "yes"; then
        CFLAGS_DEBUG="-g"
        { $as_echo "$as_me:${as_lineno-$LINENO}: setting C debug flags to '-g'" >&5
$as_echo "$as_me: setting C debug flags to '-g'" >&6;}
      fi
    fi

        if test "${CXXFLAGS}" = ""; then
      if test "${ac_cv_prog_cxx_g}" = "yes"; then
        CXXFLAGS_DEBUG="-g"
        { $as_echo "$as_me:${as_lineno-$LINENO}: setting C++ debug flags to '-g'" >&5
$as_echo "$as_me: setting C++ debug flags to '-g'" >&6;}
      fi
    fi

        if test "${FCFLAGS}" = ""; then
      if test "${ac_cv_prog_fc_g}" = "yes"; then
        FCFLAGS_DEBUG="-g"
        { $as_echo "$as_me:${as_lineno-$LINENO}: setting Fortran debug flags to '-g'" >&5
$as_echo "$as_me: setting Fortran debug flags to '-g'" >&6;}
      fi
    fi
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate debug mode in source files" >&5
$as_echo_n "checking whether to activate debug mode in source files... " >&6; }
  src_debug_mode="no"
  if test \( "${abi_debug_mode}" != "no" -a "${abi_debug_mode}" != "yes" -a \
             "${abi_debug_mode}" != "basic" -a \
             "${abi_debug_mode}" != "verbose" \) \
       -o \( "${abi_debug_mode}" = "yes" -a "${abi_optim_mode}" = "no" \); then
    
$as_echo "@%:@define DEBUG_MODE 1" >>confdefs.h

    src_debug_mode="yes"
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${src_debug_mode}" >&5
$as_echo "${src_debug_mode}" >&6; }

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate debug verbosity in source files" >&5
$as_echo_n "checking whether to activate debug verbosity in source files... " >&6; }
  src_debug_verbose="no"
  if test "${src_debug_mode}" = "yes" -o \
          "${abi_debug_mode}" = "verbose"; then
    
$as_echo "@%:@define DEBUG_VERBOSE 1" >>confdefs.h

    src_debug_verbose="yes"
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${src_debug_verbose}" >&5
$as_echo "${src_debug_verbose}" >&6; }


# Get debug flags from database when in profile mode
if test "${enable_debug}" != "no" -a "${enable_debug}" != "yes"; then
  if test "${CFLAGS}" = ""; then
    
    abi_cc_vendor_dbg="none"
  abi_cc_version_dbg="none"
  abi_cpu_spec_dbg="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which cc debug flags to apply" >&5
$as_echo_n "checking which cc debug flags to apply... " >&6; }

    if test "${abi_cc_vendor}" = "gnu"; then
    abi_cc_vendor_dbg="gnu"
    case "${abi_cc_version}" in
      4.9)
        abi_cc_version_dbg="4.9"
        abi_cpu_spec_dbg="default"
        case "${enable_debug}" in
          naughty)
            enable_debug_dbg="naughty"
            CFLAGS_DEBUG="${CFLAGS_DEBUG} -g3 -ggdb -fdiagnostics-color=auto -Wall -Wextra -fbounds-check"
            ;;
          verbose)
            enable_debug_dbg="verbose"
            
            ;;
          paranoid)
            enable_debug_dbg="paranoid"
            CFLAGS_DEBUG="${CFLAGS_DEBUG} -g3 -ggdb -fdiagnostics-color=auto -Wall -Wextra"
            ;;
          enhanced)
            enable_debug_dbg="enhanced"
            CFLAGS_DEBUG="${CFLAGS_DEBUG} -g3 -ggdb -fdiagnostics-color=auto"
            ;;
          basic)
            enable_debug_dbg="basic"
            
            ;;
        esac   # [case: enable_debug, indent: 3, item: True]
        ;;
      *)
        abi_cc_version_dbg="default"
        abi_cpu_spec_dbg="default"
        case "${enable_debug}" in
          naughty)
            enable_debug_dbg="naughty"
            CFLAGS_DEBUG="${CFLAGS_DEBUG} -g3 -ggdb -Wall -Wextra -fbounds-check"
            ;;
          verbose)
            enable_debug_dbg="verbose"
            
            ;;
          paranoid)
            enable_debug_dbg="paranoid"
            CFLAGS_DEBUG="${CFLAGS_DEBUG} -g3 -ggdb -Wall -Wextra"
            ;;
          enhanced)
            enable_debug_dbg="enhanced"
            CFLAGS_DEBUG="${CFLAGS_DEBUG} -g3 -ggdb"
            ;;
          basic)
            enable_debug_dbg="basic"
            
            ;;
        esac   # [case: enable_debug, indent: 3, item: True]
        ;;
    esac   # [case: abi_cc_version, indent: 1, item: False]
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cc_vendor_dbg}/${abi_cc_version_dbg}/${abi_cpu_spec_dbg}" >&5
$as_echo "${abi_cc_vendor_dbg}/${abi_cc_version_dbg}/${abi_cpu_spec_dbg}" >&6; }


  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: debugging profile overriden by user-defined CFLAGS" >&5
$as_echo "$as_me: debugging profile overriden by user-defined CFLAGS" >&6;}
  fi
  if test "${CXXFLAGS}" = ""; then
    
    abi_cxx_vendor_dbg="none"
  abi_cxx_version_dbg="none"
  abi_cpu_spec_dbg="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which cxx debug flags to apply" >&5
$as_echo_n "checking which cxx debug flags to apply... " >&6; }

  
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cxx_vendor_dbg}/${abi_cxx_version_dbg}/${abi_cpu_spec_dbg}" >&5
$as_echo "${abi_cxx_vendor_dbg}/${abi_cxx_version_dbg}/${abi_cpu_spec_dbg}" >&6; }


  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: debugging profile overriden by user-defined CXXFLAGS" >&5
$as_echo "$as_me: debugging profile overriden by user-defined CXXFLAGS" >&6;}
  fi
  if test "${FCFLAGS}" = ""; then
    
    abi_fc_vendor_dbg="none"
  abi_fc_version_dbg="none"
  abi_cpu_spec_dbg="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which fc debug flags to apply" >&5
$as_echo_n "checking which fc debug flags to apply... " >&6; }

    case "${abi_fc_vendor}" in
    ibm)
      abi_fc_vendor_dbg="ibm"
      abi_fc_version_dbg="default"
      abi_cpu_spec_dbg="default"
      case "${enable_debug}" in
        naughty)
          enable_debug_dbg="naughty"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -qnooptimize -qextcheck -qflag=i:i -qfloat=nans -qinitauto=7FBFFFFF -qflttrap=overflow:underflow:zerodivide:invalid:enable -qsigtrap -C -qcheck"
          ;;
        verbose)
          enable_debug_dbg="verbose"
          
          ;;
        paranoid)
          enable_debug_dbg="paranoid"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -qnooptimize -qextcheck -qflag=i:i -qfloat=nans -qinitauto=7FBFFFFF -qflttrap=overflow:underflow:zerodivide:invalid:enable -qsigtrap"
          ;;
        enhanced)
          enable_debug_dbg="enhanced"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -qnooptimize -qextcheck -qflag=i:i -qfloat=nans -qinitauto=7FBFFFFF"
          ;;
        basic)
          enable_debug_dbg="basic"
          
          ;;
      esac   # [case: enable_debug, indent: 2, item: True]
      ;;
    gnu)
      abi_fc_vendor_dbg="gnu"
      case "${abi_fc_version}" in
        4.9)
          abi_fc_version_dbg="4.9"
          abi_cpu_spec_dbg="default"
          case "${enable_debug}" in
            naughty)
              enable_debug_dbg="naughty"
              FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -fbacktrace -finit-real=nan -Wimplicit-interface -Wtabs -Wsurprising -fdiagnostics-color=auto -Wall -Wextra -Wfunction-elimination -fbounds-check"
              ;;
            verbose)
              enable_debug_dbg="verbose"
              
              ;;
            paranoid)
              enable_debug_dbg="paranoid"
              FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -fbacktrace -finit-real=nan -Wimplicit-interface -Wtabs -Wsurprising -fdiagnostics-color=auto -Wall -Wextra -Wfunction-elimination"
              ;;
            enhanced)
              enable_debug_dbg="enhanced"
              FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -fbacktrace -finit-real=nan -Wimplicit-interface -Wtabs -Wsurprising -fdiagnostics-color=auto"
              ;;
            basic)
              enable_debug_dbg="basic"
              
              ;;
          esac   # [case: enable_debug, indent: 4, item: True]
          ;;
        *)
          abi_fc_version_dbg="default"
          abi_cpu_spec_dbg="default"
          case "${enable_debug}" in
            naughty)
              enable_debug_dbg="naughty"
              FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -fbacktrace -finit-real=nan -Wimplicit-interface -Wtabs -Wall -Wextra -fbounds-check"
              ;;
            verbose)
              enable_debug_dbg="verbose"
              
              ;;
            paranoid)
              enable_debug_dbg="paranoid"
              FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -fbacktrace -finit-real=nan -Wimplicit-interface -Wtabs -Wall -Wextra"
              ;;
            enhanced)
              enable_debug_dbg="enhanced"
              FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -fbacktrace -finit-real=nan -Wimplicit-interface -Wtabs"
              ;;
            basic)
              enable_debug_dbg="basic"
              
              ;;
          esac   # [case: enable_debug, indent: 4, item: True]
          ;;
      esac   # [case: abi_fc_version, indent: 2, item: True]
      ;;
    open64)
      abi_fc_vendor_dbg="open64"
      abi_fc_version_dbg="default"
      abi_cpu_spec_dbg="default"
      case "${enable_debug}" in
        naughty)
          enable_debug_dbg="naughty"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -g3 -fullwarn -trapuv -Wall -Wendif-labels -Wunused -ansi -fno-permissive -Wfloat-equal -Wunreachable-code -C"
          ;;
        verbose)
          enable_debug_dbg="verbose"
          
          ;;
        paranoid)
          enable_debug_dbg="paranoid"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -g3 -fullwarn -trapuv -Wall -Wendif-labels -Wunused -ansi -fno-permissive -Wfloat-equal -Wunreachable-code"
          ;;
        enhanced)
          enable_debug_dbg="enhanced"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -g3 -fullwarn -trapuv -Wall -Wendif-labels -Wunused"
          ;;
        basic)
          enable_debug_dbg="basic"
          
          ;;
      esac   # [case: enable_debug, indent: 2, item: True]
      ;;
    g95)
      abi_fc_vendor_dbg="g95"
      abi_fc_version_dbg="default"
      abi_cpu_spec_dbg="default"
      case "${enable_debug}" in
        naughty)
          enable_debug_dbg="naughty"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -On -Sw -Ds"
          ;;
        verbose)
          enable_debug_dbg="verbose"
          
          ;;
        paranoid)
          enable_debug_dbg="paranoid"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -On -Sw"
          ;;
        enhanced)
          enable_debug_dbg="enhanced"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -On"
          ;;
        basic)
          enable_debug_dbg="basic"
          
          ;;
      esac   # [case: enable_debug, indent: 2, item: True]
      ;;
    fujitsu)
      abi_fc_vendor_dbg="fujitsu"
      abi_fc_version_dbg="default"
      abi_cpu_spec_dbg="default"
      case "${enable_debug}" in
        naughty)
          enable_debug_dbg="naughty"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -AT -Du -Si"
          ;;
        verbose)
          enable_debug_dbg="verbose"
          
          ;;
        paranoid)
          enable_debug_dbg="paranoid"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -AT -Du -Si"
          ;;
        enhanced)
          enable_debug_dbg="enhanced"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -AT -Du -Si"
          ;;
        basic)
          enable_debug_dbg="basic"
          
          ;;
      esac   # [case: enable_debug, indent: 2, item: True]
      ;;
    pathscale)
      abi_fc_vendor_dbg="pathscale"
      abi_fc_version_dbg="default"
      abi_cpu_spec_dbg="default"
      case "${enable_debug}" in
        naughty)
          enable_debug_dbg="naughty"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -trapuv -fullwarn -Wall -fno-permissive -Wendif-labels -ffortran-bounds-check"
          ;;
        verbose)
          enable_debug_dbg="verbose"
          
          ;;
        paranoid)
          enable_debug_dbg="paranoid"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -trapuv -fullwarn -Wall -fno-permissive -Wendif-labels"
          ;;
        enhanced)
          enable_debug_dbg="enhanced"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -trapuv -fullwarn -Wall"
          ;;
        basic)
          enable_debug_dbg="basic"
          
          ;;
      esac   # [case: enable_debug, indent: 2, item: True]
      ;;
    nag)
      abi_fc_vendor_dbg="nag"
      abi_fc_version_dbg="default"
      abi_cpu_spec_dbg="default"
      case "${enable_debug}" in
        naughty)
          enable_debug_dbg="naughty"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -gline -mtrace=verbose -nan -info -C"
          FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG} -mtrace=verbose"
          ;;
        verbose)
          enable_debug_dbg="verbose"
          
          ;;
        paranoid)
          enable_debug_dbg="paranoid"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -gline -mtrace=verbose -nan -info"
          FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG} -mtrace=verbose"
          ;;
        enhanced)
          enable_debug_dbg="enhanced"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -gline -mtrace=verbose -nan"
          FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG} -mtrace=verbose"
          ;;
        basic)
          enable_debug_dbg="basic"
          
          ;;
      esac   # [case: enable_debug, indent: 2, item: True]
      ;;
    intel)
      abi_fc_vendor_dbg="intel"
      abi_fc_version_dbg="default"
      abi_cpu_spec_dbg="default"
      case "${enable_debug}" in
        naughty)
          enable_debug_dbg="naughty"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -debug all -check uninit -ftrapuv -traceback -warn all -fp-stack-check -check bounds -WB"
          ;;
        verbose)
          enable_debug_dbg="verbose"
          
          ;;
        paranoid)
          enable_debug_dbg="paranoid"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -debug all -check uninit -ftrapuv -traceback -warn all -fp-stack-check"
          ;;
        enhanced)
          enable_debug_dbg="enhanced"
          FCFLAGS_DEBUG="${FCFLAGS_DEBUG} -debug all -check uninit -ftrapuv -traceback"
          ;;
        basic)
          enable_debug_dbg="basic"
          
          ;;
      esac   # [case: enable_debug, indent: 2, item: True]
      ;;
  esac   # [case: abi_fc_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_vendor_dbg}/${abi_fc_version_dbg}/${abi_cpu_spec_dbg}" >&5
$as_echo "${abi_fc_vendor_dbg}/${abi_fc_version_dbg}/${abi_cpu_spec_dbg}" >&6; }


  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: debugging profile overriden by user-defined FCFLAGS" >&5
$as_echo "$as_me: debugging profile overriden by user-defined FCFLAGS" >&6;}
  fi
fi

# Disable optimizations if debug mode is activated in source files
if test "${src_debug_mode}" = "yes"; then
  if test "${enable_optim}" != "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: disabling optimizations" >&5
$as_echo "$as_me: WARNING: disabling optimizations" >&2;}
  fi
  enable_optim="no"
fi

# Activate "design-by-contract" debugging tests when paranoid
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate design-by-contract debugging" >&5
$as_echo_n "checking whether to activate design-by-contract debugging... " >&6; }
if test "${enable_debug}" = "paranoid"; then
  
$as_echo "@%:@define DEBUG_CONTRACT 1" >>confdefs.h

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi
 if test "${enable_debug}" = "paranoid"; then
  DO_BUILD_32_CONTRACT_TRUE=
  DO_BUILD_32_CONTRACT_FALSE='#'
else
  DO_BUILD_32_CONTRACT_TRUE='#'
  DO_BUILD_32_CONTRACT_FALSE=
fi


# ---------------------------------------------------------------------------- #

#
# Optimizations
#
# NOTE: The optimizations will be taken from *FLAGS_OPTIM environment
# variables if enable_optim is set to yes, or set to predefined values
# for other optimization profiles.
#


    
  abi_sec_title="Optimizations"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Init optimization flags
# Note: must be done only once debugging is configured

    abi_optim_mode="${enable_optim}"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking optimization status" >&5
$as_echo_n "checking optimization status... " >&6; }
  case "${abi_optim_mode}" in
    no)
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: disabled" >&5
$as_echo "disabled" >&6; }
      CPPFLAGS_OPTIM=""
      CFLAGS_OPTIM="-O0"
      CC_LDFLAGS_OPTIM=""
      CC_LIBS_OPTIM=""
      CXXFLAGS_OPTIM="-O0"
      CXX_LDFLAGS_OPTIM=""
      CXX_LIBS_OPTIM=""
      FCFLAGS_OPTIM="-O0"
      FC_LDFLAGS_OPTIM=""
      FC_LIBS_OPTIM=""
      ARFLAGS_OPTIM=""
      ;;
    yes)
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: enabled (using user-specified flags)" >&5
$as_echo "enabled (using user-specified flags)" >&6; }
      ;;
    *)
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: enabled (profile mode: ${abi_optim_mode})" >&5
$as_echo "enabled (profile mode: ${abi_optim_mode})" >&6; }
      CPPFLAGS_OPTIM=""
      CFLAGS_OPTIM=""
      CC_LDFLAGS_OPTIM=""
      CC_LIBS_OPTIM=""
      CXXFLAGS_OPTIM=""
      CXX_LDFLAGS_OPTIM=""
      CXX_LIBS_OPTIM=""
      FCFLAGS_OPTIM=""
      FC_LDFLAGS_OPTIM=""
      FC_LIBS_OPTIM=""
      ARFLAGS_OPTIM=""
      ;;
  esac


# Get optimization flags from database when in profile mode
if test "${enable_optim}" != "no" -a "${enable_optim}" != "yes"; then
  if test "${CFLAGS}" = ""; then
    
    abi_cc_vendor_opt="none"
  abi_cc_version_opt="none"
  abi_cpu_spec_opt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which cc optimizations to apply" >&5
$as_echo_n "checking which cc optimizations to apply... " >&6; }

    case "${abi_cc_vendor}" in
    ibm)
      abi_cc_vendor_opt="ibm"
      abi_cc_version_opt="default"
      case "${abi_cpu_spec}" in
        ibm_powerpc)
          abi_cpu_spec_opt="ibm_powerpc"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O4 -qarch=auto -qtune=auto -qstrict -qspill=2000"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2 -qarch=auto -qtune=auto -qstrict -qspill=2000"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O3 -qarch=auto -qtune=auto -qstrict -qspill=2000"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        ibm_powerpc64)
          abi_cpu_spec_opt="ibm_powerpc64"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O4 -qarch=auto -qtune=auto -qstrict -qspill=2000"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2 -qarch=auto -qtune=auto -qstrict -qspill=2000"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O3 -qarch=auto -qtune=auto -qstrict -qspill=2000"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    gnu)
      abi_cc_vendor_opt="gnu"
      abi_cc_version_opt="default"
      abi_cpu_spec_opt="default"
      case "${enable_optim}" in
        aggressive)
          enable_optim_opt="aggressive"
          CFLAGS_OPTIM="-O3 -mtune=native -march=native"
          ;;
        safe)
          enable_optim_opt="safe"
          CFLAGS_OPTIM="-O2"
          ;;
        standard)
          enable_optim_opt="standard"
          CFLAGS_OPTIM="-O2 -mtune=native -march=native"
          ;;
      esac   # [case: enable_optim, indent: 2, item: True]
      ;;
    open64)
      abi_cc_vendor_opt="open64"
      abi_cc_version_opt="default"
      case "${abi_cpu_spec}" in
        intel_pentium4)
          abi_cpu_spec_opt="intel_pentium4"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O3 -march=pentium4 -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_opteron)
          abi_cpu_spec_opt="amd_opteron"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O3 -march=opteron -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    pathscale)
      abi_cc_vendor_opt="pathscale"
      abi_cc_version_opt="default"
      case "${abi_cpu_spec}" in
        intel_pentium4)
          abi_cpu_spec_opt="intel_pentium4"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O3 -march=pentium4 -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_opteron)
          abi_cpu_spec_opt="amd_opteron"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O3 -march=opteron -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              CFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              CFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    intel)
      abi_cc_vendor_opt="intel"
      abi_cc_version_opt="default"
      abi_cpu_spec_opt="default"
      case "${enable_optim}" in
        aggressive)
          enable_optim_opt="aggressive"
          CFLAGS_OPTIM="-O3"
          ;;
        safe)
          enable_optim_opt="safe"
          CFLAGS_OPTIM="-O2"
          ;;
        standard)
          enable_optim_opt="standard"
          CFLAGS_OPTIM="-O2"
          ;;
      esac   # [case: enable_optim, indent: 2, item: True]
      ;;
  esac   # [case: abi_cc_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cc_vendor_opt}/${abi_cc_version_opt}/${abi_cpu_spec_opt}" >&5
$as_echo "${abi_cc_vendor_opt}/${abi_cc_version_opt}/${abi_cpu_spec_opt}" >&6; }


  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: optimization profile overriden by user-defined CFLAGS" >&5
$as_echo "$as_me: optimization profile overriden by user-defined CFLAGS" >&6;}
  fi
  if test "${CXXFLAGS}" = ""; then
    
    abi_cxx_vendor_opt="none"
  abi_cxx_version_opt="none"
  abi_cpu_spec_opt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which cxx optimizations to apply" >&5
$as_echo_n "checking which cxx optimizations to apply... " >&6; }

    case "${abi_cxx_vendor}" in
    ibm)
      abi_cxx_vendor_opt="ibm"
      abi_cxx_version_opt="default"
      case "${abi_cpu_spec}" in
        ibm_powerpc)
          abi_cpu_spec_opt="ibm_powerpc"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CXXFLAGS_OPTIM="-O4 -qarch=auto -qtune=auto -qstrict -qspill=2000 -qessl"
              ;;
            safe)
              enable_optim_opt="safe"
              CXXFLAGS_OPTIM="-O2 -qarch=auto -qtune=auto -qstrict -qspill=2000 -qessl"
              ;;
            standard)
              enable_optim_opt="standard"
              CXXFLAGS_OPTIM="-O3 -qarch=auto -qtune=auto -qstrict -qspill=2000 -qessl"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        ibm_powerpc64)
          abi_cpu_spec_opt="ibm_powerpc64"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CXXFLAGS_OPTIM="-O4 -qarch=auto -qtune=auto -qstrict -qspill=2000 -qessl"
              ;;
            safe)
              enable_optim_opt="safe"
              CXXFLAGS_OPTIM="-O2 -qarch=auto -qtune=auto -qstrict -qspill=2000 -qessl"
              ;;
            standard)
              enable_optim_opt="standard"
              CXXFLAGS_OPTIM="-O3 -qarch=auto -qtune=auto -qstrict -qspill=2000 -qessl"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CXXFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              CXXFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              CXXFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    gnu)
      abi_cxx_vendor_opt="gnu"
      abi_cxx_version_opt="default"
      abi_cpu_spec_opt="default"
      case "${enable_optim}" in
        aggressive)
          enable_optim_opt="aggressive"
          CXXFLAGS_OPTIM="-O3 -mtune=native -march=native"
          ;;
        safe)
          enable_optim_opt="safe"
          CXXFLAGS_OPTIM="-O2"
          ;;
        standard)
          enable_optim_opt="standard"
          CXXFLAGS_OPTIM="-O2 -mtune=native -march=native"
          ;;
      esac   # [case: enable_optim, indent: 2, item: True]
      ;;
    pathscale)
      abi_cxx_vendor_opt="pathscale"
      abi_cxx_version_opt="default"
      case "${abi_cpu_spec}" in
        intel_pentium4)
          abi_cpu_spec_opt="intel_pentium4"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CXXFLAGS_OPTIM="-O3 -march=pentium4 -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              CXXFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              CXXFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_opteron)
          abi_cpu_spec_opt="amd_opteron"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CXXFLAGS_OPTIM="-O3 -march=opteron -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              CXXFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              CXXFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              CXXFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              CXXFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              CXXFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    intel)
      abi_cxx_vendor_opt="intel"
      abi_cxx_version_opt="default"
      abi_cpu_spec_opt="default"
      case "${enable_optim}" in
        aggressive)
          enable_optim_opt="aggressive"
          CXXFLAGS_OPTIM="-O3"
          ;;
        safe)
          enable_optim_opt="safe"
          CXXFLAGS_OPTIM="-O2"
          ;;
        standard)
          enable_optim_opt="standard"
          CXXFLAGS_OPTIM="-O2"
          ;;
      esac   # [case: enable_optim, indent: 2, item: True]
      ;;
  esac   # [case: abi_cxx_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cxx_vendor_opt}/${abi_cxx_version_opt}/${abi_cpu_spec_opt}" >&5
$as_echo "${abi_cxx_vendor_opt}/${abi_cxx_version_opt}/${abi_cpu_spec_opt}" >&6; }


  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: optimization profile overriden by user-defined CXXFLAGS" >&5
$as_echo "$as_me: optimization profile overriden by user-defined CXXFLAGS" >&6;}
  fi
  if test "${FCFLAGS}" = ""; then
    
    abi_fc_vendor_opt="none"
  abi_fc_version_opt="none"
  abi_cpu_spec_opt="none"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which fc optimizations to apply" >&5
$as_echo_n "checking which fc optimizations to apply... " >&6; }

    case "${abi_fc_vendor}" in
    ibm)
      abi_fc_vendor_opt="ibm"
      abi_fc_version_opt="default"
      case "${abi_cpu_spec}" in
        ibm_powerpc)
          abi_cpu_spec_opt="ibm_powerpc"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O4 -qmaxmem=65536 -qspill=2000 -qarch=auto -qtune=auto -qcache=auto -qstrict -qsuppress=1520-022:1520-031"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -qmaxmem=65536 -qspill=2000 -qarch=auto -qtune=auto -qcache=auto -qstrict -qsuppress=1520-022:1520-031"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O3 -qmaxmem=65536 -qspill=2000 -qarch=auto -qtune=auto -qcache=auto -qstrict -qsuppress=1520-022:1520-031"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        ibm_powerpc64)
          abi_cpu_spec_opt="ibm_powerpc64"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O4 -qmaxmem=65536 -qspill=2000 -qarch=auto -qtune=auto -qcache=auto -qstrict -qsuppress=1520-022:1520-031"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -qmaxmem=65536 -qspill=2000 -qarch=auto -qtune=auto -qcache=auto -qstrict -qsuppress=1520-022:1520-031"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O3 -qmaxmem=65536 -qspill=2000 -qarch=auto -qtune=auto -qcache=auto -qstrict -qsuppress=1520-022:1520-031"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    gnu)
      abi_fc_vendor_opt="gnu"
      case "${abi_fc_version}" in
        4.7)
          abi_fc_version_opt="4.7"
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -mtune=native -march=native -faggressive-function-elimination -fstack-arrays"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -mtune=native -march=native"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_fc_version_opt="default"
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -mtune=native -march=native -funroll-loops -faggressive-function-elimination"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -mtune=native -march=native"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_fc_version, indent: 2, item: True]
      ;;
    open64)
      abi_fc_vendor_opt="open64"
      abi_fc_version_opt="default"
      case "${abi_cpu_spec}" in
        intel_pentium4)
          abi_cpu_spec_opt="intel_pentium4"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=pentium4 -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_opteron)
          abi_cpu_spec_opt="amd_opteron"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=opteron -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -OPT:Olimit=0 -g -ggdbm"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    pgi)
      abi_fc_vendor_opt="pgi"
      abi_fc_version_opt="default"
      abi_cpu_spec_opt="default"
      case "${enable_optim}" in
        aggressive)
          enable_optim_opt="aggressive"
          FCFLAGS_OPTIM="-O3 nehalem-64 -m64"
          ;;
        safe)
          enable_optim_opt="safe"
          FCFLAGS_OPTIM="-O2 -tp nehalem-64 -m64"
          ;;
        standard)
          enable_optim_opt="standard"
          FCFLAGS_OPTIM="-O2 -tp nehalem-64 -m64"
          ;;
      esac   # [case: enable_optim, indent: 2, item: True]
      ;;
    g95)
      abi_fc_vendor_opt="g95"
      abi_fc_version_opt="default"
      case "${abi_cpu_spec}" in
        intel_pentium4)
          abi_cpu_spec_opt="intel_pentium4"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=pentium4 -mmmx -msse -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=pentium4 -mmmx -msse -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=pentium4 -mmmx -msse -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        intel_coreduo)
          abi_cpu_spec_opt="intel_coreduo"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=prescott -mmmx -msse -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=prescott -mmmx -msse -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=prescott -mmmx -msse -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        intel_xeon)
          abi_cpu_spec_opt="intel_xeon"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=nocona -mmmx -msse -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=nocona -mmmx -msse"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O3 -march=nocona -mmmx -msse -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_opteron)
          abi_cpu_spec_opt="amd_opteron"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=opteron"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=opteron"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=opteron"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        intel_itanium1)
          abi_cpu_spec_opt="intel_itanium1"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O3"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        dec_alphaev67)
          abi_cpu_spec_opt="dec_alphaev67"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O3"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        ibm_powerpc)
          abi_cpu_spec_opt="ibm_powerpc"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O4 -mpowerpc"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -mpowerpc"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -mpowerpc"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        dec_alphaev56)
          abi_cpu_spec_opt="dec_alphaev56"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O3"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        intel_itanium2)
          abi_cpu_spec_opt="intel_itanium2"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O3"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_athlon)
          abi_cpu_spec_opt="amd_athlon"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=athlon"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=athlon"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=athlon"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        intel_core2)
          abi_cpu_spec_opt="intel_core2"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=prescott -mmmx -msse -msse2 -msse3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=prescott -mmmx -msse -msse2 -msse3"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=prescott -mmmx -msse -msse2 -msse3"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_athlon64)
          abi_cpu_spec_opt="amd_athlon64"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=athlon64"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=athlon64"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=athlon64"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        intel_pentium3)
          abi_cpu_spec_opt="intel_pentium3"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=pentium3 -mmmx -msse"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=pentium3 -mmmx -msse"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=pentium3 -mmmx -msse"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        ibm_powerpc64)
          abi_cpu_spec_opt="ibm_powerpc64"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O4 -mpowerpc64"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -mpowerpc64"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -mpowerpc64"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    fujitsu)
      abi_fc_vendor_opt="fujitsu"
      abi_fc_version_opt="default"
      abi_cpu_spec_opt="default"
      case "${enable_optim}" in
        aggressive)
          enable_optim_opt="aggressive"
          FCFLAGS_OPTIM="-Of -X9 -Ps -Wv,-md"
          ;;
        safe)
          enable_optim_opt="safe"
          FCFLAGS_OPTIM="-Of -X9 -Ps -Wv,-md"
          ;;
        standard)
          enable_optim_opt="standard"
          FCFLAGS_OPTIM="-Of -X9 -Ps -Wv,-md"
          ;;
      esac   # [case: enable_optim, indent: 2, item: True]
      ;;
    pathscale)
      abi_fc_vendor_opt="pathscale"
      abi_fc_version_opt="default"
      case "${abi_cpu_spec}" in
        intel_pentium4)
          abi_cpu_spec_opt="intel_pentium4"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=pentium4 -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=pentium4 -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_opteron)
          abi_cpu_spec_opt="amd_opteron"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -march=opteron -msse2"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2 -march=opteron -msse2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
    nag)
      abi_fc_vendor_opt="nag"
      abi_fc_version_opt="default"
      abi_cpu_spec_opt="default"
      case "${enable_optim}" in
        aggressive)
          enable_optim_opt="aggressive"
          FCFLAGS_OPTIM="-O4"
          ;;
        safe)
          enable_optim_opt="safe"
          FCFLAGS_OPTIM="-O2"
          ;;
        standard)
          enable_optim_opt="standard"
          FCFLAGS_OPTIM="-O3"
          ;;
      esac   # [case: enable_optim, indent: 2, item: True]
      ;;
    intel)
      abi_fc_vendor_opt="intel"
      abi_fc_version_opt="default"
      case "${abi_cpu_spec}" in
        intel_itanium1)
          abi_cpu_spec_opt="intel_itanium1"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -fp-model fast=1 -fp-relaxed -ip"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -fp-model precise -fp-speculation=safe"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        intel_itanium2)
          abi_cpu_spec_opt="intel_itanium2"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -fp-model fast=1 -fp-relaxed -ip"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -fp-model precise -fp-speculation=safe"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        amd_opteron)
          abi_cpu_spec_opt="amd_opteron"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O1"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O2"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
        *)
          abi_cpu_spec_opt="default"
          case "${enable_optim}" in
            aggressive)
              enable_optim_opt="aggressive"
              FCFLAGS_OPTIM="-O3 -xHOST"
              ;;
            safe)
              enable_optim_opt="safe"
              FCFLAGS_OPTIM="-O2 -fltconsistency -fp-model precise -fp-speculation=safe -prec-div -prec-sqrt"
              ;;
            standard)
              enable_optim_opt="standard"
              FCFLAGS_OPTIM="-O3"
              ;;
          esac   # [case: enable_optim, indent: 4, item: True]
          ;;
      esac   # [case: abi_cpu_spec, indent: 2, item: True]
      ;;
  esac   # [case: abi_fc_vendor, indent: 0, item: True]

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_vendor_opt}/${abi_fc_version_opt}/${abi_cpu_spec_opt}" >&5
$as_echo "${abi_fc_vendor_opt}/${abi_fc_version_opt}/${abi_cpu_spec_opt}" >&6; }


  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: optimization profile overriden by user-defined FCFLAGS" >&5
$as_echo "$as_me: optimization profile overriden by user-defined FCFLAGS" >&6;}
  fi
fi

# Disable optimization in directories containing big F90 files (efficiency is not critical here)
fcflags_opt_20_datashare="-O0"
fcflags_opt_43_ptgroups="-O0"

# Set per-directory Fortran optimizations
# Note: must be done only once FCFLAGS_OPTIM is set

    
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to apply per-directory optimizations" >&5
$as_echo_n "checking whether to apply per-directory optimizations... " >&6; }
  if test "${enable_optim}" = "no" -o "${FCFLAGS}" != ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
  fi

    fcflags_opt_default="${FCFLAGS_OPTIM}"
  echo "fcflags_opt_default='${fcflags_opt_default}'" >config.optim
  fcflags_opt_dirlist=""

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_atompaw}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_atompaw="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for atompaw is ${fcflags_opt_atompaw}" >&5
$as_echo "$as_me: optimization for atompaw is ${fcflags_opt_atompaw}" >&6;}
      echo "fcflags_opt_atompaw='${fcflags_opt_atompaw}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} atompaw"
    fi
  else
    if test "${fcflags_opt_atompaw}" != ""; then
      fcflags_opt_atompaw=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_atompaw overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_atompaw overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_algo}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_algo="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for algo is ${fcflags_opt_algo}" >&5
$as_echo "$as_me: optimization for algo is ${fcflags_opt_algo}" >&6;}
      echo "fcflags_opt_algo='${fcflags_opt_algo}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} algo"
    fi
  else
    if test "${fcflags_opt_algo}" != ""; then
      fcflags_opt_algo=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_algo overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_algo overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_bigdft}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_bigdft="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for bigdft is ${fcflags_opt_bigdft}" >&5
$as_echo "$as_me: optimization for bigdft is ${fcflags_opt_bigdft}" >&6;}
      echo "fcflags_opt_bigdft='${fcflags_opt_bigdft}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} bigdft"
    fi
  else
    if test "${fcflags_opt_bigdft}" != ""; then
      fcflags_opt_bigdft=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_bigdft overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_bigdft overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_libxc}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_libxc="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for libxc is ${fcflags_opt_libxc}" >&5
$as_echo "$as_me: optimization for libxc is ${fcflags_opt_libxc}" >&6;}
      echo "fcflags_opt_libxc='${fcflags_opt_libxc}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} libxc"
    fi
  else
    if test "${fcflags_opt_libxc}" != ""; then
      fcflags_opt_libxc=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_libxc overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_libxc overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_linalg}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_linalg="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for linalg is ${fcflags_opt_linalg}" >&5
$as_echo "$as_me: optimization for linalg is ${fcflags_opt_linalg}" >&6;}
      echo "fcflags_opt_linalg='${fcflags_opt_linalg}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} linalg"
    fi
  else
    if test "${fcflags_opt_linalg}" != ""; then
      fcflags_opt_linalg=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_linalg overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_linalg overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_netcdf}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_netcdf="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for netcdf is ${fcflags_opt_netcdf}" >&5
$as_echo "$as_me: optimization for netcdf is ${fcflags_opt_netcdf}" >&6;}
      echo "fcflags_opt_netcdf='${fcflags_opt_netcdf}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} netcdf"
    fi
  else
    if test "${fcflags_opt_netcdf}" != ""; then
      fcflags_opt_netcdf=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_netcdf overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_netcdf overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_psml}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_psml="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for psml is ${fcflags_opt_psml}" >&5
$as_echo "$as_me: optimization for psml is ${fcflags_opt_psml}" >&6;}
      echo "fcflags_opt_psml='${fcflags_opt_psml}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} psml"
    fi
  else
    if test "${fcflags_opt_psml}" != ""; then
      fcflags_opt_psml=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_psml overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_psml overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_triqs}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_triqs="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for triqs is ${fcflags_opt_triqs}" >&5
$as_echo "$as_me: optimization for triqs is ${fcflags_opt_triqs}" >&6;}
      echo "fcflags_opt_triqs='${fcflags_opt_triqs}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} triqs"
    fi
  else
    if test "${fcflags_opt_triqs}" != ""; then
      fcflags_opt_triqs=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_triqs overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_triqs overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_wannier90}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_wannier90="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for wannier90 is ${fcflags_opt_wannier90}" >&5
$as_echo "$as_me: optimization for wannier90 is ${fcflags_opt_wannier90}" >&6;}
      echo "fcflags_opt_wannier90='${fcflags_opt_wannier90}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} wannier90"
    fi
  else
    if test "${fcflags_opt_wannier90}" != ""; then
      fcflags_opt_wannier90=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_wannier90 overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_wannier90 overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_yaml}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_yaml="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for yaml is ${fcflags_opt_yaml}" >&5
$as_echo "$as_me: optimization for yaml is ${fcflags_opt_yaml}" >&6;}
      echo "fcflags_opt_yaml='${fcflags_opt_yaml}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} yaml"
    fi
  else
    if test "${fcflags_opt_yaml}" != ""; then
      fcflags_opt_yaml=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_yaml overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_yaml overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_01_gsl_ext}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_01_gsl_ext="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 01_gsl_ext is ${fcflags_opt_01_gsl_ext}" >&5
$as_echo "$as_me: optimization for 01_gsl_ext is ${fcflags_opt_01_gsl_ext}" >&6;}
      echo "fcflags_opt_01_gsl_ext='${fcflags_opt_01_gsl_ext}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 01_gsl_ext"
    fi
  else
    if test "${fcflags_opt_01_gsl_ext}" != ""; then
      fcflags_opt_01_gsl_ext=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_01_gsl_ext overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_01_gsl_ext overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_02_clib}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_02_clib="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 02_clib is ${fcflags_opt_02_clib}" >&5
$as_echo "$as_me: optimization for 02_clib is ${fcflags_opt_02_clib}" >&6;}
      echo "fcflags_opt_02_clib='${fcflags_opt_02_clib}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 02_clib"
    fi
  else
    if test "${fcflags_opt_02_clib}" != ""; then
      fcflags_opt_02_clib=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_02_clib overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_02_clib overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_10_defs}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_10_defs="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 10_defs is ${fcflags_opt_10_defs}" >&5
$as_echo "$as_me: optimization for 10_defs is ${fcflags_opt_10_defs}" >&6;}
      echo "fcflags_opt_10_defs='${fcflags_opt_10_defs}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 10_defs"
    fi
  else
    if test "${fcflags_opt_10_defs}" != ""; then
      fcflags_opt_10_defs=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_10_defs overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_10_defs overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_10_dumpinfo}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_10_dumpinfo="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 10_dumpinfo is ${fcflags_opt_10_dumpinfo}" >&5
$as_echo "$as_me: optimization for 10_dumpinfo is ${fcflags_opt_10_dumpinfo}" >&6;}
      echo "fcflags_opt_10_dumpinfo='${fcflags_opt_10_dumpinfo}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 10_dumpinfo"
    fi
  else
    if test "${fcflags_opt_10_dumpinfo}" != ""; then
      fcflags_opt_10_dumpinfo=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_10_dumpinfo overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_10_dumpinfo overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_11_memory_mpi}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_11_memory_mpi="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 11_memory_mpi is ${fcflags_opt_11_memory_mpi}" >&5
$as_echo "$as_me: optimization for 11_memory_mpi is ${fcflags_opt_11_memory_mpi}" >&6;}
      echo "fcflags_opt_11_memory_mpi='${fcflags_opt_11_memory_mpi}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 11_memory_mpi"
    fi
  else
    if test "${fcflags_opt_11_memory_mpi}" != ""; then
      fcflags_opt_11_memory_mpi=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_11_memory_mpi overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_11_memory_mpi overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_12_hide_mpi}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_12_hide_mpi="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 12_hide_mpi is ${fcflags_opt_12_hide_mpi}" >&5
$as_echo "$as_me: optimization for 12_hide_mpi is ${fcflags_opt_12_hide_mpi}" >&6;}
      echo "fcflags_opt_12_hide_mpi='${fcflags_opt_12_hide_mpi}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 12_hide_mpi"
    fi
  else
    if test "${fcflags_opt_12_hide_mpi}" != ""; then
      fcflags_opt_12_hide_mpi=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_12_hide_mpi overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_12_hide_mpi overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_14_hidewrite}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_14_hidewrite="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 14_hidewrite is ${fcflags_opt_14_hidewrite}" >&5
$as_echo "$as_me: optimization for 14_hidewrite is ${fcflags_opt_14_hidewrite}" >&6;}
      echo "fcflags_opt_14_hidewrite='${fcflags_opt_14_hidewrite}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 14_hidewrite"
    fi
  else
    if test "${fcflags_opt_14_hidewrite}" != ""; then
      fcflags_opt_14_hidewrite=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_14_hidewrite overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_14_hidewrite overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_15_gpu_toolbox}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_15_gpu_toolbox="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 15_gpu_toolbox is ${fcflags_opt_15_gpu_toolbox}" >&5
$as_echo "$as_me: optimization for 15_gpu_toolbox is ${fcflags_opt_15_gpu_toolbox}" >&6;}
      echo "fcflags_opt_15_gpu_toolbox='${fcflags_opt_15_gpu_toolbox}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 15_gpu_toolbox"
    fi
  else
    if test "${fcflags_opt_15_gpu_toolbox}" != ""; then
      fcflags_opt_15_gpu_toolbox=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_15_gpu_toolbox overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_15_gpu_toolbox overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_16_hideleave}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_16_hideleave="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 16_hideleave is ${fcflags_opt_16_hideleave}" >&5
$as_echo "$as_me: optimization for 16_hideleave is ${fcflags_opt_16_hideleave}" >&6;}
      echo "fcflags_opt_16_hideleave='${fcflags_opt_16_hideleave}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 16_hideleave"
    fi
  else
    if test "${fcflags_opt_16_hideleave}" != ""; then
      fcflags_opt_16_hideleave=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_16_hideleave overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_16_hideleave overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_17_libtetra_ext}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_17_libtetra_ext="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 17_libtetra_ext is ${fcflags_opt_17_libtetra_ext}" >&5
$as_echo "$as_me: optimization for 17_libtetra_ext is ${fcflags_opt_17_libtetra_ext}" >&6;}
      echo "fcflags_opt_17_libtetra_ext='${fcflags_opt_17_libtetra_ext}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 17_libtetra_ext"
    fi
  else
    if test "${fcflags_opt_17_libtetra_ext}" != ""; then
      fcflags_opt_17_libtetra_ext=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_17_libtetra_ext overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_17_libtetra_ext overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_18_timing}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_18_timing="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 18_timing is ${fcflags_opt_18_timing}" >&5
$as_echo "$as_me: optimization for 18_timing is ${fcflags_opt_18_timing}" >&6;}
      echo "fcflags_opt_18_timing='${fcflags_opt_18_timing}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 18_timing"
    fi
  else
    if test "${fcflags_opt_18_timing}" != ""; then
      fcflags_opt_18_timing=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_18_timing overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_18_timing overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_21_hashfuncs}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_21_hashfuncs="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 21_hashfuncs is ${fcflags_opt_21_hashfuncs}" >&5
$as_echo "$as_me: optimization for 21_hashfuncs is ${fcflags_opt_21_hashfuncs}" >&6;}
      echo "fcflags_opt_21_hashfuncs='${fcflags_opt_21_hashfuncs}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 21_hashfuncs"
    fi
  else
    if test "${fcflags_opt_21_hashfuncs}" != ""; then
      fcflags_opt_21_hashfuncs=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_21_hashfuncs overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_21_hashfuncs overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_27_toolbox_oop}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_27_toolbox_oop="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 27_toolbox_oop is ${fcflags_opt_27_toolbox_oop}" >&5
$as_echo "$as_me: optimization for 27_toolbox_oop is ${fcflags_opt_27_toolbox_oop}" >&6;}
      echo "fcflags_opt_27_toolbox_oop='${fcflags_opt_27_toolbox_oop}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 27_toolbox_oop"
    fi
  else
    if test "${fcflags_opt_27_toolbox_oop}" != ""; then
      fcflags_opt_27_toolbox_oop=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_27_toolbox_oop overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_27_toolbox_oop overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_28_numeric_noabirule}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_28_numeric_noabirule="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 28_numeric_noabirule is ${fcflags_opt_28_numeric_noabirule}" >&5
$as_echo "$as_me: optimization for 28_numeric_noabirule is ${fcflags_opt_28_numeric_noabirule}" >&6;}
      echo "fcflags_opt_28_numeric_noabirule='${fcflags_opt_28_numeric_noabirule}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 28_numeric_noabirule"
    fi
  else
    if test "${fcflags_opt_28_numeric_noabirule}" != ""; then
      fcflags_opt_28_numeric_noabirule=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_28_numeric_noabirule overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_28_numeric_noabirule overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_29_kpoints}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_29_kpoints="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 29_kpoints is ${fcflags_opt_29_kpoints}" >&5
$as_echo "$as_me: optimization for 29_kpoints is ${fcflags_opt_29_kpoints}" >&6;}
      echo "fcflags_opt_29_kpoints='${fcflags_opt_29_kpoints}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 29_kpoints"
    fi
  else
    if test "${fcflags_opt_29_kpoints}" != ""; then
      fcflags_opt_29_kpoints=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_29_kpoints overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_29_kpoints overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_32_util}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_32_util="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 32_util is ${fcflags_opt_32_util}" >&5
$as_echo "$as_me: optimization for 32_util is ${fcflags_opt_32_util}" >&6;}
      echo "fcflags_opt_32_util='${fcflags_opt_32_util}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 32_util"
    fi
  else
    if test "${fcflags_opt_32_util}" != ""; then
      fcflags_opt_32_util=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_32_util overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_32_util overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_41_geometry}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_41_geometry="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 41_geometry is ${fcflags_opt_41_geometry}" >&5
$as_echo "$as_me: optimization for 41_geometry is ${fcflags_opt_41_geometry}" >&6;}
      echo "fcflags_opt_41_geometry='${fcflags_opt_41_geometry}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 41_geometry"
    fi
  else
    if test "${fcflags_opt_41_geometry}" != ""; then
      fcflags_opt_41_geometry=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_41_geometry overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_41_geometry overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_41_xc_lowlevel}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_41_xc_lowlevel="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 41_xc_lowlevel is ${fcflags_opt_41_xc_lowlevel}" >&5
$as_echo "$as_me: optimization for 41_xc_lowlevel is ${fcflags_opt_41_xc_lowlevel}" >&6;}
      echo "fcflags_opt_41_xc_lowlevel='${fcflags_opt_41_xc_lowlevel}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 41_xc_lowlevel"
    fi
  else
    if test "${fcflags_opt_41_xc_lowlevel}" != ""; then
      fcflags_opt_41_xc_lowlevel=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_41_xc_lowlevel overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_41_xc_lowlevel overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_42_libpaw}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_42_libpaw="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 42_libpaw is ${fcflags_opt_42_libpaw}" >&5
$as_echo "$as_me: optimization for 42_libpaw is ${fcflags_opt_42_libpaw}" >&6;}
      echo "fcflags_opt_42_libpaw='${fcflags_opt_42_libpaw}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 42_libpaw"
    fi
  else
    if test "${fcflags_opt_42_libpaw}" != ""; then
      fcflags_opt_42_libpaw=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_42_libpaw overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_42_libpaw overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_42_nlstrain}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_42_nlstrain="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 42_nlstrain is ${fcflags_opt_42_nlstrain}" >&5
$as_echo "$as_me: optimization for 42_nlstrain is ${fcflags_opt_42_nlstrain}" >&6;}
      echo "fcflags_opt_42_nlstrain='${fcflags_opt_42_nlstrain}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 42_nlstrain"
    fi
  else
    if test "${fcflags_opt_42_nlstrain}" != ""; then
      fcflags_opt_42_nlstrain=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_42_nlstrain overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_42_nlstrain overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_42_parser}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_42_parser="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 42_parser is ${fcflags_opt_42_parser}" >&5
$as_echo "$as_me: optimization for 42_parser is ${fcflags_opt_42_parser}" >&6;}
      echo "fcflags_opt_42_parser='${fcflags_opt_42_parser}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 42_parser"
    fi
  else
    if test "${fcflags_opt_42_parser}" != ""; then
      fcflags_opt_42_parser=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_42_parser overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_42_parser overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_43_ptgroups}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_43_ptgroups="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 43_ptgroups is ${fcflags_opt_43_ptgroups}" >&5
$as_echo "$as_me: optimization for 43_ptgroups is ${fcflags_opt_43_ptgroups}" >&6;}
      echo "fcflags_opt_43_ptgroups='${fcflags_opt_43_ptgroups}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 43_ptgroups"
    fi
  else
    if test "${fcflags_opt_43_ptgroups}" != ""; then
      fcflags_opt_43_ptgroups=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_43_ptgroups overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_43_ptgroups overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_43_wvl_wrappers}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_43_wvl_wrappers="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 43_wvl_wrappers is ${fcflags_opt_43_wvl_wrappers}" >&5
$as_echo "$as_me: optimization for 43_wvl_wrappers is ${fcflags_opt_43_wvl_wrappers}" >&6;}
      echo "fcflags_opt_43_wvl_wrappers='${fcflags_opt_43_wvl_wrappers}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 43_wvl_wrappers"
    fi
  else
    if test "${fcflags_opt_43_wvl_wrappers}" != ""; then
      fcflags_opt_43_wvl_wrappers=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_43_wvl_wrappers overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_43_wvl_wrappers overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_44_abitools}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_44_abitools="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 44_abitools is ${fcflags_opt_44_abitools}" >&5
$as_echo "$as_me: optimization for 44_abitools is ${fcflags_opt_44_abitools}" >&6;}
      echo "fcflags_opt_44_abitools='${fcflags_opt_44_abitools}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 44_abitools"
    fi
  else
    if test "${fcflags_opt_44_abitools}" != ""; then
      fcflags_opt_44_abitools=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_44_abitools overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_44_abitools overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_44_abitypes_defs}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_44_abitypes_defs="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 44_abitypes_defs is ${fcflags_opt_44_abitypes_defs}" >&5
$as_echo "$as_me: optimization for 44_abitypes_defs is ${fcflags_opt_44_abitypes_defs}" >&6;}
      echo "fcflags_opt_44_abitypes_defs='${fcflags_opt_44_abitypes_defs}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 44_abitypes_defs"
    fi
  else
    if test "${fcflags_opt_44_abitypes_defs}" != ""; then
      fcflags_opt_44_abitypes_defs=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_44_abitypes_defs overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_44_abitypes_defs overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_45_geomoptim}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_45_geomoptim="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 45_geomoptim is ${fcflags_opt_45_geomoptim}" >&5
$as_echo "$as_me: optimization for 45_geomoptim is ${fcflags_opt_45_geomoptim}" >&6;}
      echo "fcflags_opt_45_geomoptim='${fcflags_opt_45_geomoptim}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 45_geomoptim"
    fi
  else
    if test "${fcflags_opt_45_geomoptim}" != ""; then
      fcflags_opt_45_geomoptim=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_45_geomoptim overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_45_geomoptim overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_45_xgTools}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_45_xgTools="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 45_xgTools is ${fcflags_opt_45_xgTools}" >&5
$as_echo "$as_me: optimization for 45_xgTools is ${fcflags_opt_45_xgTools}" >&6;}
      echo "fcflags_opt_45_xgTools='${fcflags_opt_45_xgTools}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 45_xgTools"
    fi
  else
    if test "${fcflags_opt_45_xgTools}" != ""; then
      fcflags_opt_45_xgTools=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_45_xgTools overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_45_xgTools overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_46_diago}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_46_diago="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 46_diago is ${fcflags_opt_46_diago}" >&5
$as_echo "$as_me: optimization for 46_diago is ${fcflags_opt_46_diago}" >&6;}
      echo "fcflags_opt_46_diago='${fcflags_opt_46_diago}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 46_diago"
    fi
  else
    if test "${fcflags_opt_46_diago}" != ""; then
      fcflags_opt_46_diago=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_46_diago overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_46_diago overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_49_gw_toolbox_oop}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_49_gw_toolbox_oop="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 49_gw_toolbox_oop is ${fcflags_opt_49_gw_toolbox_oop}" >&5
$as_echo "$as_me: optimization for 49_gw_toolbox_oop is ${fcflags_opt_49_gw_toolbox_oop}" >&6;}
      echo "fcflags_opt_49_gw_toolbox_oop='${fcflags_opt_49_gw_toolbox_oop}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 49_gw_toolbox_oop"
    fi
  else
    if test "${fcflags_opt_49_gw_toolbox_oop}" != ""; then
      fcflags_opt_49_gw_toolbox_oop=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_49_gw_toolbox_oop overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_49_gw_toolbox_oop overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_51_manage_mpi}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_51_manage_mpi="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 51_manage_mpi is ${fcflags_opt_51_manage_mpi}" >&5
$as_echo "$as_me: optimization for 51_manage_mpi is ${fcflags_opt_51_manage_mpi}" >&6;}
      echo "fcflags_opt_51_manage_mpi='${fcflags_opt_51_manage_mpi}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 51_manage_mpi"
    fi
  else
    if test "${fcflags_opt_51_manage_mpi}" != ""; then
      fcflags_opt_51_manage_mpi=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_51_manage_mpi overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_51_manage_mpi overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_52_fft_mpi_noabirule}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_52_fft_mpi_noabirule="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 52_fft_mpi_noabirule is ${fcflags_opt_52_fft_mpi_noabirule}" >&5
$as_echo "$as_me: optimization for 52_fft_mpi_noabirule is ${fcflags_opt_52_fft_mpi_noabirule}" >&6;}
      echo "fcflags_opt_52_fft_mpi_noabirule='${fcflags_opt_52_fft_mpi_noabirule}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 52_fft_mpi_noabirule"
    fi
  else
    if test "${fcflags_opt_52_fft_mpi_noabirule}" != ""; then
      fcflags_opt_52_fft_mpi_noabirule=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_52_fft_mpi_noabirule overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_52_fft_mpi_noabirule overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_52_manage_cuda}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_52_manage_cuda="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 52_manage_cuda is ${fcflags_opt_52_manage_cuda}" >&5
$as_echo "$as_me: optimization for 52_manage_cuda is ${fcflags_opt_52_manage_cuda}" >&6;}
      echo "fcflags_opt_52_manage_cuda='${fcflags_opt_52_manage_cuda}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 52_manage_cuda"
    fi
  else
    if test "${fcflags_opt_52_manage_cuda}" != ""; then
      fcflags_opt_52_manage_cuda=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_52_manage_cuda overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_52_manage_cuda overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_53_ffts}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_53_ffts="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 53_ffts is ${fcflags_opt_53_ffts}" >&5
$as_echo "$as_me: optimization for 53_ffts is ${fcflags_opt_53_ffts}" >&6;}
      echo "fcflags_opt_53_ffts='${fcflags_opt_53_ffts}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 53_ffts"
    fi
  else
    if test "${fcflags_opt_53_ffts}" != ""; then
      fcflags_opt_53_ffts=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_53_ffts overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_53_ffts overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_54_spacepar}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_54_spacepar="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 54_spacepar is ${fcflags_opt_54_spacepar}" >&5
$as_echo "$as_me: optimization for 54_spacepar is ${fcflags_opt_54_spacepar}" >&6;}
      echo "fcflags_opt_54_spacepar='${fcflags_opt_54_spacepar}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 54_spacepar"
    fi
  else
    if test "${fcflags_opt_54_spacepar}" != ""; then
      fcflags_opt_54_spacepar=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_54_spacepar overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_54_spacepar overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_55_abiutil}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_55_abiutil="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 55_abiutil is ${fcflags_opt_55_abiutil}" >&5
$as_echo "$as_me: optimization for 55_abiutil is ${fcflags_opt_55_abiutil}" >&6;}
      echo "fcflags_opt_55_abiutil='${fcflags_opt_55_abiutil}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 55_abiutil"
    fi
  else
    if test "${fcflags_opt_55_abiutil}" != ""; then
      fcflags_opt_55_abiutil=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_55_abiutil overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_55_abiutil overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_56_io_mpi}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_56_io_mpi="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 56_io_mpi is ${fcflags_opt_56_io_mpi}" >&5
$as_echo "$as_me: optimization for 56_io_mpi is ${fcflags_opt_56_io_mpi}" >&6;}
      echo "fcflags_opt_56_io_mpi='${fcflags_opt_56_io_mpi}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 56_io_mpi"
    fi
  else
    if test "${fcflags_opt_56_io_mpi}" != ""; then
      fcflags_opt_56_io_mpi=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_56_io_mpi overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_56_io_mpi overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_56_mixing}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_56_mixing="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 56_mixing is ${fcflags_opt_56_mixing}" >&5
$as_echo "$as_me: optimization for 56_mixing is ${fcflags_opt_56_mixing}" >&6;}
      echo "fcflags_opt_56_mixing='${fcflags_opt_56_mixing}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 56_mixing"
    fi
  else
    if test "${fcflags_opt_56_mixing}" != ""; then
      fcflags_opt_56_mixing=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_56_mixing overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_56_mixing overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_56_recipspace}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_56_recipspace="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 56_recipspace is ${fcflags_opt_56_recipspace}" >&5
$as_echo "$as_me: optimization for 56_recipspace is ${fcflags_opt_56_recipspace}" >&6;}
      echo "fcflags_opt_56_recipspace='${fcflags_opt_56_recipspace}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 56_recipspace"
    fi
  else
    if test "${fcflags_opt_56_recipspace}" != ""; then
      fcflags_opt_56_recipspace=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_56_recipspace overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_56_recipspace overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_56_xc}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_56_xc="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 56_xc is ${fcflags_opt_56_xc}" >&5
$as_echo "$as_me: optimization for 56_xc is ${fcflags_opt_56_xc}" >&6;}
      echo "fcflags_opt_56_xc='${fcflags_opt_56_xc}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 56_xc"
    fi
  else
    if test "${fcflags_opt_56_xc}" != ""; then
      fcflags_opt_56_xc=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_56_xc overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_56_xc overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_57_iopsp_parser}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_57_iopsp_parser="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 57_iopsp_parser is ${fcflags_opt_57_iopsp_parser}" >&5
$as_echo "$as_me: optimization for 57_iopsp_parser is ${fcflags_opt_57_iopsp_parser}" >&6;}
      echo "fcflags_opt_57_iopsp_parser='${fcflags_opt_57_iopsp_parser}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 57_iopsp_parser"
    fi
  else
    if test "${fcflags_opt_57_iopsp_parser}" != ""; then
      fcflags_opt_57_iopsp_parser=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_57_iopsp_parser overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_57_iopsp_parser overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_57_iovars}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_57_iovars="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 57_iovars is ${fcflags_opt_57_iovars}" >&5
$as_echo "$as_me: optimization for 57_iovars is ${fcflags_opt_57_iovars}" >&6;}
      echo "fcflags_opt_57_iovars='${fcflags_opt_57_iovars}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 57_iovars"
    fi
  else
    if test "${fcflags_opt_57_iovars}" != ""; then
      fcflags_opt_57_iovars=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_57_iovars overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_57_iovars overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_59_ionetcdf}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_59_ionetcdf="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 59_ionetcdf is ${fcflags_opt_59_ionetcdf}" >&5
$as_echo "$as_me: optimization for 59_ionetcdf is ${fcflags_opt_59_ionetcdf}" >&6;}
      echo "fcflags_opt_59_ionetcdf='${fcflags_opt_59_ionetcdf}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 59_ionetcdf"
    fi
  else
    if test "${fcflags_opt_59_ionetcdf}" != ""; then
      fcflags_opt_59_ionetcdf=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_59_ionetcdf overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_59_ionetcdf overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_61_occeig}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_61_occeig="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 61_occeig is ${fcflags_opt_61_occeig}" >&5
$as_echo "$as_me: optimization for 61_occeig is ${fcflags_opt_61_occeig}" >&6;}
      echo "fcflags_opt_61_occeig='${fcflags_opt_61_occeig}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 61_occeig"
    fi
  else
    if test "${fcflags_opt_61_occeig}" != ""; then
      fcflags_opt_61_occeig=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_61_occeig overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_61_occeig overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_62_cg_noabirule}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_62_cg_noabirule="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 62_cg_noabirule is ${fcflags_opt_62_cg_noabirule}" >&5
$as_echo "$as_me: optimization for 62_cg_noabirule is ${fcflags_opt_62_cg_noabirule}" >&6;}
      echo "fcflags_opt_62_cg_noabirule='${fcflags_opt_62_cg_noabirule}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 62_cg_noabirule"
    fi
  else
    if test "${fcflags_opt_62_cg_noabirule}" != ""; then
      fcflags_opt_62_cg_noabirule=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_62_cg_noabirule overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_62_cg_noabirule overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_62_ctqmc}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_62_ctqmc="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 62_ctqmc is ${fcflags_opt_62_ctqmc}" >&5
$as_echo "$as_me: optimization for 62_ctqmc is ${fcflags_opt_62_ctqmc}" >&6;}
      echo "fcflags_opt_62_ctqmc='${fcflags_opt_62_ctqmc}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 62_ctqmc"
    fi
  else
    if test "${fcflags_opt_62_ctqmc}" != ""; then
      fcflags_opt_62_ctqmc=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_62_ctqmc overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_62_ctqmc overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_62_iowfdenpot}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_62_iowfdenpot="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 62_iowfdenpot is ${fcflags_opt_62_iowfdenpot}" >&5
$as_echo "$as_me: optimization for 62_iowfdenpot is ${fcflags_opt_62_iowfdenpot}" >&6;}
      echo "fcflags_opt_62_iowfdenpot='${fcflags_opt_62_iowfdenpot}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 62_iowfdenpot"
    fi
  else
    if test "${fcflags_opt_62_iowfdenpot}" != ""; then
      fcflags_opt_62_iowfdenpot=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_62_iowfdenpot overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_62_iowfdenpot overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_62_poisson}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_62_poisson="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 62_poisson is ${fcflags_opt_62_poisson}" >&5
$as_echo "$as_me: optimization for 62_poisson is ${fcflags_opt_62_poisson}" >&6;}
      echo "fcflags_opt_62_poisson='${fcflags_opt_62_poisson}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 62_poisson"
    fi
  else
    if test "${fcflags_opt_62_poisson}" != ""; then
      fcflags_opt_62_poisson=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_62_poisson overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_62_poisson overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_62_wvl_wfs}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_62_wvl_wfs="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 62_wvl_wfs is ${fcflags_opt_62_wvl_wfs}" >&5
$as_echo "$as_me: optimization for 62_wvl_wfs is ${fcflags_opt_62_wvl_wfs}" >&6;}
      echo "fcflags_opt_62_wvl_wfs='${fcflags_opt_62_wvl_wfs}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 62_wvl_wfs"
    fi
  else
    if test "${fcflags_opt_62_wvl_wfs}" != ""; then
      fcflags_opt_62_wvl_wfs=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_62_wvl_wfs overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_62_wvl_wfs overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_63_bader}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_63_bader="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 63_bader is ${fcflags_opt_63_bader}" >&5
$as_echo "$as_me: optimization for 63_bader is ${fcflags_opt_63_bader}" >&6;}
      echo "fcflags_opt_63_bader='${fcflags_opt_63_bader}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 63_bader"
    fi
  else
    if test "${fcflags_opt_63_bader}" != ""; then
      fcflags_opt_63_bader=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_63_bader overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_63_bader overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_64_psp}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_64_psp="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 64_psp is ${fcflags_opt_64_psp}" >&5
$as_echo "$as_me: optimization for 64_psp is ${fcflags_opt_64_psp}" >&6;}
      echo "fcflags_opt_64_psp='${fcflags_opt_64_psp}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 64_psp"
    fi
  else
    if test "${fcflags_opt_64_psp}" != ""; then
      fcflags_opt_64_psp=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_64_psp overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_64_psp overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_65_lotf_base}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_65_lotf_base="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 65_lotf_base is ${fcflags_opt_65_lotf_base}" >&5
$as_echo "$as_me: optimization for 65_lotf_base is ${fcflags_opt_65_lotf_base}" >&6;}
      echo "fcflags_opt_65_lotf_base='${fcflags_opt_65_lotf_base}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 65_lotf_base"
    fi
  else
    if test "${fcflags_opt_65_lotf_base}" != ""; then
      fcflags_opt_65_lotf_base=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_65_lotf_base overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_65_lotf_base overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_65_paw}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_65_paw="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 65_paw is ${fcflags_opt_65_paw}" >&5
$as_echo "$as_me: optimization for 65_paw is ${fcflags_opt_65_paw}" >&6;}
      echo "fcflags_opt_65_paw='${fcflags_opt_65_paw}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 65_paw"
    fi
  else
    if test "${fcflags_opt_65_paw}" != ""; then
      fcflags_opt_65_paw=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_65_paw overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_65_paw overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_66_nonlocal}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_66_nonlocal="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 66_nonlocal is ${fcflags_opt_66_nonlocal}" >&5
$as_echo "$as_me: optimization for 66_nonlocal is ${fcflags_opt_66_nonlocal}" >&6;}
      echo "fcflags_opt_66_nonlocal='${fcflags_opt_66_nonlocal}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 66_nonlocal"
    fi
  else
    if test "${fcflags_opt_66_nonlocal}" != ""; then
      fcflags_opt_66_nonlocal=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_66_nonlocal overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_66_nonlocal overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_66_vdwxc}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_66_vdwxc="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 66_vdwxc is ${fcflags_opt_66_vdwxc}" >&5
$as_echo "$as_me: optimization for 66_vdwxc is ${fcflags_opt_66_vdwxc}" >&6;}
      echo "fcflags_opt_66_vdwxc='${fcflags_opt_66_vdwxc}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 66_vdwxc"
    fi
  else
    if test "${fcflags_opt_66_vdwxc}" != ""; then
      fcflags_opt_66_vdwxc=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_66_vdwxc overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_66_vdwxc overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_66_wfs}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_66_wfs="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 66_wfs is ${fcflags_opt_66_wfs}" >&5
$as_echo "$as_me: optimization for 66_wfs is ${fcflags_opt_66_wfs}" >&6;}
      echo "fcflags_opt_66_wfs='${fcflags_opt_66_wfs}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 66_wfs"
    fi
  else
    if test "${fcflags_opt_66_wfs}" != ""; then
      fcflags_opt_66_wfs=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_66_wfs overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_66_wfs overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_67_common}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_67_common="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 67_common is ${fcflags_opt_67_common}" >&5
$as_echo "$as_me: optimization for 67_common is ${fcflags_opt_67_common}" >&6;}
      echo "fcflags_opt_67_common='${fcflags_opt_67_common}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 67_common"
    fi
  else
    if test "${fcflags_opt_67_common}" != ""; then
      fcflags_opt_67_common=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_67_common overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_67_common overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_67_triqs_ext}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_67_triqs_ext="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 67_triqs_ext is ${fcflags_opt_67_triqs_ext}" >&5
$as_echo "$as_me: optimization for 67_triqs_ext is ${fcflags_opt_67_triqs_ext}" >&6;}
      echo "fcflags_opt_67_triqs_ext='${fcflags_opt_67_triqs_ext}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 67_triqs_ext"
    fi
  else
    if test "${fcflags_opt_67_triqs_ext}" != ""; then
      fcflags_opt_67_triqs_ext=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_67_triqs_ext overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_67_triqs_ext overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_68_dmft}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_68_dmft="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 68_dmft is ${fcflags_opt_68_dmft}" >&5
$as_echo "$as_me: optimization for 68_dmft is ${fcflags_opt_68_dmft}" >&6;}
      echo "fcflags_opt_68_dmft='${fcflags_opt_68_dmft}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 68_dmft"
    fi
  else
    if test "${fcflags_opt_68_dmft}" != ""; then
      fcflags_opt_68_dmft=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_68_dmft overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_68_dmft overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_68_lotf}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_68_lotf="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 68_lotf is ${fcflags_opt_68_lotf}" >&5
$as_echo "$as_me: optimization for 68_lotf is ${fcflags_opt_68_lotf}" >&6;}
      echo "fcflags_opt_68_lotf='${fcflags_opt_68_lotf}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 68_lotf"
    fi
  else
    if test "${fcflags_opt_68_lotf}" != ""; then
      fcflags_opt_68_lotf=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_68_lotf overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_68_lotf overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_68_recursion}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_68_recursion="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 68_recursion is ${fcflags_opt_68_recursion}" >&5
$as_echo "$as_me: optimization for 68_recursion is ${fcflags_opt_68_recursion}" >&6;}
      echo "fcflags_opt_68_recursion='${fcflags_opt_68_recursion}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 68_recursion"
    fi
  else
    if test "${fcflags_opt_68_recursion}" != ""; then
      fcflags_opt_68_recursion=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_68_recursion overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_68_recursion overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_68_rsprc}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_68_rsprc="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 68_rsprc is ${fcflags_opt_68_rsprc}" >&5
$as_echo "$as_me: optimization for 68_rsprc is ${fcflags_opt_68_rsprc}" >&6;}
      echo "fcflags_opt_68_rsprc='${fcflags_opt_68_rsprc}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 68_rsprc"
    fi
  else
    if test "${fcflags_opt_68_rsprc}" != ""; then
      fcflags_opt_68_rsprc=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_68_rsprc overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_68_rsprc overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_69_wfdesc}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_69_wfdesc="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 69_wfdesc is ${fcflags_opt_69_wfdesc}" >&5
$as_echo "$as_me: optimization for 69_wfdesc is ${fcflags_opt_69_wfdesc}" >&6;}
      echo "fcflags_opt_69_wfdesc='${fcflags_opt_69_wfdesc}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 69_wfdesc"
    fi
  else
    if test "${fcflags_opt_69_wfdesc}" != ""; then
      fcflags_opt_69_wfdesc=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_69_wfdesc overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_69_wfdesc overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_70_gw}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_70_gw="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 70_gw is ${fcflags_opt_70_gw}" >&5
$as_echo "$as_me: optimization for 70_gw is ${fcflags_opt_70_gw}" >&6;}
      echo "fcflags_opt_70_gw='${fcflags_opt_70_gw}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 70_gw"
    fi
  else
    if test "${fcflags_opt_70_gw}" != ""; then
      fcflags_opt_70_gw=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_70_gw overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_70_gw overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_71_bse}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_71_bse="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 71_bse is ${fcflags_opt_71_bse}" >&5
$as_echo "$as_me: optimization for 71_bse is ${fcflags_opt_71_bse}" >&6;}
      echo "fcflags_opt_71_bse='${fcflags_opt_71_bse}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 71_bse"
    fi
  else
    if test "${fcflags_opt_71_bse}" != ""; then
      fcflags_opt_71_bse=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_71_bse overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_71_bse overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_71_wannier}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_71_wannier="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 71_wannier is ${fcflags_opt_71_wannier}" >&5
$as_echo "$as_me: optimization for 71_wannier is ${fcflags_opt_71_wannier}" >&6;}
      echo "fcflags_opt_71_wannier='${fcflags_opt_71_wannier}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 71_wannier"
    fi
  else
    if test "${fcflags_opt_71_wannier}" != ""; then
      fcflags_opt_71_wannier=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_71_wannier overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_71_wannier overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_72_response}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_72_response="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 72_response is ${fcflags_opt_72_response}" >&5
$as_echo "$as_me: optimization for 72_response is ${fcflags_opt_72_response}" >&6;}
      echo "fcflags_opt_72_response='${fcflags_opt_72_response}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 72_response"
    fi
  else
    if test "${fcflags_opt_72_response}" != ""; then
      fcflags_opt_72_response=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_72_response overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_72_response overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_77_ddb}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_77_ddb="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 77_ddb is ${fcflags_opt_77_ddb}" >&5
$as_echo "$as_me: optimization for 77_ddb is ${fcflags_opt_77_ddb}" >&6;}
      echo "fcflags_opt_77_ddb='${fcflags_opt_77_ddb}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 77_ddb"
    fi
  else
    if test "${fcflags_opt_77_ddb}" != ""; then
      fcflags_opt_77_ddb=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_77_ddb overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_77_ddb overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_77_suscep}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_77_suscep="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 77_suscep is ${fcflags_opt_77_suscep}" >&5
$as_echo "$as_me: optimization for 77_suscep is ${fcflags_opt_77_suscep}" >&6;}
      echo "fcflags_opt_77_suscep='${fcflags_opt_77_suscep}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 77_suscep"
    fi
  else
    if test "${fcflags_opt_77_suscep}" != ""; then
      fcflags_opt_77_suscep=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_77_suscep overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_77_suscep overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_78_effpot}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_78_effpot="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 78_effpot is ${fcflags_opt_78_effpot}" >&5
$as_echo "$as_me: optimization for 78_effpot is ${fcflags_opt_78_effpot}" >&6;}
      echo "fcflags_opt_78_effpot='${fcflags_opt_78_effpot}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 78_effpot"
    fi
  else
    if test "${fcflags_opt_78_effpot}" != ""; then
      fcflags_opt_78_effpot=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_78_effpot overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_78_effpot overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_78_eph}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_78_eph="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 78_eph is ${fcflags_opt_78_eph}" >&5
$as_echo "$as_me: optimization for 78_eph is ${fcflags_opt_78_eph}" >&6;}
      echo "fcflags_opt_78_eph='${fcflags_opt_78_eph}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 78_eph"
    fi
  else
    if test "${fcflags_opt_78_eph}" != ""; then
      fcflags_opt_78_eph=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_78_eph overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_78_eph overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_79_seqpar_mpi}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_79_seqpar_mpi="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 79_seqpar_mpi is ${fcflags_opt_79_seqpar_mpi}" >&5
$as_echo "$as_me: optimization for 79_seqpar_mpi is ${fcflags_opt_79_seqpar_mpi}" >&6;}
      echo "fcflags_opt_79_seqpar_mpi='${fcflags_opt_79_seqpar_mpi}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 79_seqpar_mpi"
    fi
  else
    if test "${fcflags_opt_79_seqpar_mpi}" != ""; then
      fcflags_opt_79_seqpar_mpi=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_79_seqpar_mpi overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_79_seqpar_mpi overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_80_tdep}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_80_tdep="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 80_tdep is ${fcflags_opt_80_tdep}" >&5
$as_echo "$as_me: optimization for 80_tdep is ${fcflags_opt_80_tdep}" >&6;}
      echo "fcflags_opt_80_tdep='${fcflags_opt_80_tdep}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 80_tdep"
    fi
  else
    if test "${fcflags_opt_80_tdep}" != ""; then
      fcflags_opt_80_tdep=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_80_tdep overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_80_tdep overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_83_cut3d}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_83_cut3d="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 83_cut3d is ${fcflags_opt_83_cut3d}" >&5
$as_echo "$as_me: optimization for 83_cut3d is ${fcflags_opt_83_cut3d}" >&6;}
      echo "fcflags_opt_83_cut3d='${fcflags_opt_83_cut3d}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 83_cut3d"
    fi
  else
    if test "${fcflags_opt_83_cut3d}" != ""; then
      fcflags_opt_83_cut3d=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_83_cut3d overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_83_cut3d overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_84_fold2Bloch}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_84_fold2Bloch="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 84_fold2Bloch is ${fcflags_opt_84_fold2Bloch}" >&5
$as_echo "$as_me: optimization for 84_fold2Bloch is ${fcflags_opt_84_fold2Bloch}" >&6;}
      echo "fcflags_opt_84_fold2Bloch='${fcflags_opt_84_fold2Bloch}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 84_fold2Bloch"
    fi
  else
    if test "${fcflags_opt_84_fold2Bloch}" != ""; then
      fcflags_opt_84_fold2Bloch=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_84_fold2Bloch overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_84_fold2Bloch overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_94_scfcv}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_94_scfcv="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 94_scfcv is ${fcflags_opt_94_scfcv}" >&5
$as_echo "$as_me: optimization for 94_scfcv is ${fcflags_opt_94_scfcv}" >&6;}
      echo "fcflags_opt_94_scfcv='${fcflags_opt_94_scfcv}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 94_scfcv"
    fi
  else
    if test "${fcflags_opt_94_scfcv}" != ""; then
      fcflags_opt_94_scfcv=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_94_scfcv overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_94_scfcv overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_95_drive}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_95_drive="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 95_drive is ${fcflags_opt_95_drive}" >&5
$as_echo "$as_me: optimization for 95_drive is ${fcflags_opt_95_drive}" >&6;}
      echo "fcflags_opt_95_drive='${fcflags_opt_95_drive}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 95_drive"
    fi
  else
    if test "${fcflags_opt_95_drive}" != ""; then
      fcflags_opt_95_drive=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_95_drive overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_95_drive overriden by FCFLAGS" >&6;}
    fi
  fi
  

    if test "${FCFLAGS}" = ""; then
    if test "${fcflags_opt_98_main}" = "" -o "${enable_optim}" = "no"; then
      fcflags_opt_98_main="${fcflags_opt_default}"
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: optimization for 98_main is ${fcflags_opt_98_main}" >&5
$as_echo "$as_me: optimization for 98_main is ${fcflags_opt_98_main}" >&6;}
      echo "fcflags_opt_98_main='${fcflags_opt_98_main}'" >>config.optim
      fcflags_opt_dirlist="${fcflags_opt_dirlist} 98_main"
    fi
  else
    if test "${fcflags_opt_98_main}" != ""; then
      fcflags_opt_98_main=""
      { $as_echo "$as_me:${as_lineno-$LINENO}: fcflags_opt_98_main overriden by FCFLAGS" >&5
$as_echo "$as_me: fcflags_opt_98_main overriden by FCFLAGS" >&6;}
    fi
  fi
  

  echo "fcflags_opt_dirlist='${fcflags_opt_dirlist}'" >>config.optim


# ---------------------------------------------------------------------------- #

#
# 64-bit support
#
# NOTES: 
#
#   * This step requires that the hints have been looked for.
#
#   * Please do not try to set-up the *_64BITS variables manually, as they
#     will systematically be overwritten.
#


    
  abi_sec_title="64-bit support"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Display status
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for a 64-bit architecture" >&5
$as_echo_n "checking for a 64-bit architecture... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_cpu_64bits}" >&5
$as_echo "${abi_cpu_64bits}" >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to use 64-bit flags" >&5
$as_echo_n "checking whether to use 64-bit flags... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_64bit_flags}" >&5
$as_echo "${enable_64bit_flags}" >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for user-defined 64-bit flags" >&5
$as_echo_n "checking for user-defined 64-bit flags... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_64bit_flags}" >&5
$as_echo "${with_64bit_flags}" >&6; }

# C preprocessing
if test "${enable_64bit_flags}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for 64-bit C preprocessor flags" >&5
$as_echo_n "checking for 64-bit C preprocessor flags... " >&6; }
  if test "${CPPFLAGS_64BITS}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${CPPFLAGS_64BITS}" >&5
$as_echo "${CPPFLAGS_64BITS}" >&6; }
    CPP="${CPP} ${CPPFLAGS_64BITS}"
  fi
else
  CPPFLAGS_64BITS=""
fi

# C compilation
if test "${enable_64bit_flags}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for 64-bit C flags" >&5
$as_echo_n "checking for 64-bit C flags... " >&6; }
  if test "${CFLAGS_64BITS}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${CFLAGS_64BITS}" >&5
$as_echo "${CFLAGS_64BITS}" >&6; }
    CC="${CC} ${CFLAGS_64BITS}"
  fi
else
  CFLAGS_64BITS=""
fi

# C++ preprocessing
if test "${XPP}" != ""; then
  if test "${enable_64bit_flags}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for 64-bit C++ preprocessor flags" >&5
$as_echo_n "checking for 64-bit C++ preprocessor flags... " >&6; }
    if test "${XPPFLAGS_64BITS}" = ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${XPPFLAGS_64BITS}" >&5
$as_echo "${XPPFLAGS_64BITS}" >&6; }
      XPP="${XPP} ${XPPFLAGS_64BITS}"
    fi
  else
    XPPFLAGS_64BITS=""
  fi
fi

# C++ compilation
if test "${CXX}" != ""; then
  if test "${enable_64bit_flags}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for 64-bit C++ flags" >&5
$as_echo_n "checking for 64-bit C++ flags... " >&6; }
    if test "${CXXFLAGS_64BITS}" = ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${CXXFLAGS_64BITS}" >&5
$as_echo "${CXXFLAGS_64BITS}" >&6; }
      CXX="${CXX} ${CXXFLAGS_64BITS}"
    fi
  else
    CXXFLAGS_64BITS=""
  fi
fi

# Fortran preprocessing
if test "${FPP}" != ""; then
  if test "${enable_64bit_flags}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for 64-bit Fortran preprocessor flags" >&5
$as_echo_n "checking for 64-bit Fortran preprocessor flags... " >&6; }
    if test "${FPPFLAGS_64BITS}" = ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${FPPFLAGS_64BITS}" >&5
$as_echo "${FPPFLAGS_64BITS}" >&6; }
      FPP="${FPP} ${FPPFLAGS_64BITS}"
    fi
  else
    FPPFLAGS_64BITS=""
  fi
fi

# Fortran compilation
if test "${enable_64bit_flags}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for 64-bit Fortran flags" >&5
$as_echo_n "checking for 64-bit Fortran flags... " >&6; }
  if test "${FCFLAGS_64BITS}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${FCFLAGS_64BITS}" >&5
$as_echo "${FCFLAGS_64BITS}" >&6; }
    FC="${FC} ${FCFLAGS_64BITS}"
  fi
else
  FCFLAGS_64BITS=""
fi

# Archiver
if test "${enable_64bit_flags}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for 64-bit archiver flags" >&5
$as_echo_n "checking for 64-bit archiver flags... " >&6; }
  if test "${ARFLAGS_64BITS}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none" >&5
$as_echo "none" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${ARFLAGS_64BITS}" >&5
$as_echo "${ARFLAGS_64BITS}" >&6; }
    AR="${AR} ${ARFLAGS_64BITS}"
  fi
else
  ARFLAGS_64BITS=""
fi

# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Save configuration
#


    
  abi_sec_title="Build flags"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Set-up target and binary package names
# Note: requires knowledge of Fortran compiler

    abi_target_os=`echo ${target_os} | sed -e 's/-.*//'`
  
  ABINIT_TARGET="${target_cpu}_${abi_target_os}_${abi_fc_vendor}${abi_fc_version}"
  
cat >>confdefs.h <<_ACEOF
@%:@define ABINIT_TARGET "${ABINIT_TARGET}"
_ACEOF

  

ABINIT_BINARY_PACKAGE="${PACKAGE}-${VERSION}_${ABINIT_TARGET}"


# Final adjustments for library archiver
test "${ARFLAGS}" = "" && \
  ARFLAGS="${ARFLAGS_64BITS} ${ARFLAGS_DEBUG} ${ARFLAGS_OPTIM} ${ARFLAGS_HINTS} ${ARFLAGS_EXTRA} ${ARFLAGS_CMD}"

# Final adjustments for C
test "${CFLAGS}" = "" && \
  CFLAGS="${CFLAGS_64BITS} ${CFLAGS_DEBUG} ${CFLAGS_OPTIM} ${CFLAGS_HINTS} ${CFLAGS_EXTRA}"
test "${CC_LDFLAGS}" = "" && \
  CC_LDFLAGS="${CC_LDFLAGS_64BITS} ${CC_LDFLAGS_DEBUG} ${CC_LDFLAGS_OPTIM} ${CC_LDFLAGS_HINTS} ${CC_LDFLAGS_EXTRA}"
test "${CC_LIBS}" = "" && \
  CC_LIBS="${CC_LIBS_64BITS} ${CC_LIBS_DEBUG} ${CC_LIBS_OPTIM} ${CC_LIBS_HINTS} ${CC_LIBS_EXTRA}"

# Final adjustments for C++
test "${CXXFLAGS}" = "" && \
  CXXFLAGS="${CXXFLAGS_64BITS} ${CXXFLAGS_DEBUG} ${CXXFLAGS_OPTIM} ${CXXFLAGS_HINTS} ${CXXFLAGS_EXTRA}"
test "${CXX_LDFLAGS}" = "" && \
  CXX_LDFLAGS="${CXX_LDFLAGS_64BITS} ${CXX_LDFLAGS_DEBUG} ${CXX_LDFLAGS_OPTIM} ${CXX_LDFLAGS_HINTS} ${CXX_LDFLAGS_EXTRA}"
test "${CXX_LIBS}" = "" && \
  CXX_LIBS="${CXX_LIBS_64BITS} ${CXX_LIBS_DEBUG} ${CXX_LIBS_OPTIM} ${CXX_LIBS_HINTS} ${CXX_LIBS_EXTRA}"

# Final adjustments for Fortran
# Note: FCFLAGS_OPTIM must not be included (per-directory optimizations)
test "${FCFLAGS}" = "" && \
  FCFLAGS="${FCFLAGS_64BITS} ${FCFLAGS_DEBUG} ${FCFLAGS_HINTS} ${FCFLAGS_EXTRA} ${FCFLAGS_OPENMP}"
test "${FC_LDFLAGS}" = "" && \
  FC_LDFLAGS="${FC_LDFLAGS_64BITS} ${FC_LDFLAGS_DEBUG} ${FC_LDFLAGS_OPTIM} ${FC_LDFLAGS_HINTS} ${FC_LDFLAGS_EXTRA}"
test "${FC_LIBS}" = "" && \
  FC_LIBS="${FC_LIBS_64BITS} ${FC_LIBS_DEBUG} ${FC_LIBS_OPTIM} ${FC_LIBS_HINTS} ${FC_LIBS_EXTRA}"

# FIXME: temporary workaround for Macs
if test "${abi_cpu_platform}" = "apple"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: ${abi_cpu_platform} is not able to handle full link information" >&5
$as_echo "$as_me: WARNING: ${abi_cpu_platform} is not able to handle full link information" >&2;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: static builds will fail" >&5
$as_echo "$as_me: WARNING: static builds will fail" >&2;}
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: static builds may be performed" >&5
$as_echo "$as_me: static builds may be performed" >&6;}
  FC_LIBS="${FC_LIBS} ${FCLIBS}"
fi

# Final adjustments for preprocessors
test "${CPPFLAGS}" = "" && \
  CPPFLAGS="${CPPFLAGS_64BITS} ${CPPFLAGS_DEBUG} ${CPPFLAGS_OPTIM} ${CPPFLAGS_HINTS} ${CPPFLAGS_EXTRA}"
test "${XPPFLAGS}" = "" && \
  XPPFLAGS="${XPPFLAGS_64BITS} ${XPPFLAGS_DEBUG} ${XPPFLAGS_OPTIM} ${XPPFLAGS_HINTS} ${XPPFLAGS_EXTRA}"
test "${FPPFLAGS}" = "" -a "${abi_fc_wrap}" = "no" && \
  FPPFLAGS="${FPPFLAGS_64BITS} ${FPPFLAGS_DEBUG} ${FPPFLAGS_OPTIM} ${FPPFLAGS_HINTS} ${FPPFLAGS_EXTRA}"

# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Advanced compiler features
#

# Note: these tests have to be performed after the flags have been
#       saved.


    
  abi_sec_title="Advanced compiler features"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""



    
    
      for ac_header in stddef.h stdarg.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
@%:@define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
 
fi

done

    for ac_header in stdio.h math.h termios.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
@%:@define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
 
fi

done

  for ac_header in errno.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "errno.h" "ac_cv_header_errno_h" "$ac_includes_default"
if test "x$ac_cv_header_errno_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_ERRNO_H 1
_ACEOF
 
fi

done

  for ac_header in malloc.h sys/malloc.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
@%:@define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
 
fi

done

  for ac_header in mcheck.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "mcheck.h" "ac_cv_header_mcheck_h" "$ac_includes_default"
if test "x$ac_cv_header_mcheck_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_MCHECK_H 1
_ACEOF
 
fi

done

  for ac_header in sys/time.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "sys/time.h" "ac_cv_header_sys_time_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_time_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_SYS_TIME_H 1
_ACEOF
 
fi

done

  for ac_header in sys/resource.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "sys/resource.h" "ac_cv_header_sys_resource_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_resource_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_SYS_RESOURCE_H 1
_ACEOF
 
fi

done

            

  
  
    for ac_func in abort
do :
  ac_fn_c_check_func "$LINENO" "abort" "ac_cv_func_abort"
if test "x$ac_cv_func_abort" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_ABORT 1
_ACEOF
 
fi
done

  for ac_func in mallinfo
do :
  ac_fn_c_check_func "$LINENO" "mallinfo" "ac_cv_func_mallinfo"
if test "x$ac_cv_func_mallinfo" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_MALLINFO 1
_ACEOF
 
fi
done



  
  
  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of char" >&5
$as_echo_n "checking size of char... " >&6; }
if ${ac_cv_sizeof_char+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (char))" "ac_cv_sizeof_char"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_char" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (char)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_char=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_char" >&5
$as_echo "$ac_cv_sizeof_char" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_CHAR $ac_cv_sizeof_char
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of short" >&5
$as_echo_n "checking size of short... " >&6; }
if ${ac_cv_sizeof_short+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (short))" "ac_cv_sizeof_short"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_short" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (short)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_short=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_short" >&5
$as_echo "$ac_cv_sizeof_short" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_SHORT $ac_cv_sizeof_short
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of int" >&5
$as_echo_n "checking size of int... " >&6; }
if ${ac_cv_sizeof_int+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (int))" "ac_cv_sizeof_int"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_int" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (int)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_int=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_int" >&5
$as_echo "$ac_cv_sizeof_int" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_INT $ac_cv_sizeof_int
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long" >&5
$as_echo_n "checking size of long... " >&6; }
if ${ac_cv_sizeof_long+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long))" "ac_cv_sizeof_long"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_long" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (long)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_long=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long" >&5
$as_echo "$ac_cv_sizeof_long" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_LONG $ac_cv_sizeof_long
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long long" >&5
$as_echo_n "checking size of long long... " >&6; }
if ${ac_cv_sizeof_long_long+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long long))" "ac_cv_sizeof_long_long"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_long_long" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (long long)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_long_long=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long_long" >&5
$as_echo "$ac_cv_sizeof_long_long" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_LONG_LONG $ac_cv_sizeof_long_long
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of unsigned int" >&5
$as_echo_n "checking size of unsigned int... " >&6; }
if ${ac_cv_sizeof_unsigned_int+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (unsigned int))" "ac_cv_sizeof_unsigned_int"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_unsigned_int" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (unsigned int)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_unsigned_int=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_unsigned_int" >&5
$as_echo "$ac_cv_sizeof_unsigned_int" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_UNSIGNED_INT $ac_cv_sizeof_unsigned_int
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of unsigned long" >&5
$as_echo_n "checking size of unsigned long... " >&6; }
if ${ac_cv_sizeof_unsigned_long+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (unsigned long))" "ac_cv_sizeof_unsigned_long"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_unsigned_long" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (unsigned long)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_unsigned_long=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_unsigned_long" >&5
$as_echo "$ac_cv_sizeof_unsigned_long" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_UNSIGNED_LONG $ac_cv_sizeof_unsigned_long
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of unsigned long long" >&5
$as_echo_n "checking size of unsigned long long... " >&6; }
if ${ac_cv_sizeof_unsigned_long_long+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (unsigned long long))" "ac_cv_sizeof_unsigned_long_long"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_unsigned_long_long" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (unsigned long long)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_unsigned_long_long=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_unsigned_long_long" >&5
$as_echo "$ac_cv_sizeof_unsigned_long_long" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_UNSIGNED_LONG_LONG $ac_cv_sizeof_unsigned_long_long
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of float" >&5
$as_echo_n "checking size of float... " >&6; }
if ${ac_cv_sizeof_float+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (float))" "ac_cv_sizeof_float"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_float" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (float)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_float=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_float" >&5
$as_echo "$ac_cv_sizeof_float" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_FLOAT $ac_cv_sizeof_float
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of double" >&5
$as_echo_n "checking size of double... " >&6; }
if ${ac_cv_sizeof_double+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (double))" "ac_cv_sizeof_double"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_double" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (double)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_double=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_double" >&5
$as_echo "$ac_cv_sizeof_double" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_DOUBLE $ac_cv_sizeof_double
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long double" >&5
$as_echo_n "checking size of long double... " >&6; }
if ${ac_cv_sizeof_long_double+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long double))" "ac_cv_sizeof_long_double"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_long_double" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (long double)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_long_double=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long_double" >&5
$as_echo "$ac_cv_sizeof_long_double" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_LONG_DOUBLE $ac_cv_sizeof_long_double
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of size_t" >&5
$as_echo_n "checking size of size_t... " >&6; }
if ${ac_cv_sizeof_size_t+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (size_t))" "ac_cv_sizeof_size_t"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_size_t" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (size_t)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_size_t=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_size_t" >&5
$as_echo "$ac_cv_sizeof_size_t" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_SIZE_T $ac_cv_sizeof_size_t
_ACEOF


  # The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of ptrdiff_t" >&5
$as_echo_n "checking size of ptrdiff_t... " >&6; }
if ${ac_cv_sizeof_ptrdiff_t+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (ptrdiff_t))" "ac_cv_sizeof_ptrdiff_t"        "$ac_includes_default"; then :
  
else
  if test "$ac_cv_type_ptrdiff_t" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (ptrdiff_t)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_ptrdiff_t=0
   fi
fi

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_ptrdiff_t" >&5
$as_echo "$ac_cv_sizeof_ptrdiff_t" >&6; }



cat >>confdefs.h <<_ACEOF
@%:@define SIZEOF_PTRDIFF_T $ac_cv_sizeof_ptrdiff_t
_ACEOF



  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for an ANSI C-conforming const" >&5
$as_echo_n "checking for an ANSI C-conforming const... " >&6; }
if ${ac_cv_c_const+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

#ifndef __cplusplus
  /* Ultrix mips cc rejects this sort of thing.  */
  typedef int charset[2];
  const charset cs = { 0, 0 };
  /* SunOS 4.1.1 cc rejects this.  */
  char const *const *pcpcc;
  char **ppc;
  /* NEC SVR4.0.2 mips cc rejects this.  */
  struct point {int x, y;};
  static struct point const zero = {0,0};
  /* AIX XL C 1.02.0.0 rejects this.
     It does not let you subtract one const X* pointer from another in
     an arm of an if-expression whose if-part is not a constant
     expression */
  const char *g = "string";
  pcpcc = &g + (g ? g-g : 0);
  /* HPUX 7.0 cc rejects these. */
  ++pcpcc;
  ppc = (char**) pcpcc;
  pcpcc = (char const *const *) ppc;
  { /* SCO 3.2v4 cc rejects this sort of thing.  */
    char tx;
    char *t = &tx;
    char const *s = 0 ? (char *) 0 : (char const *) 0;

    *t++ = 0;
    if (s) return 0;
  }
  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
    int x[] = {25, 17};
    const int *foo = &x[0];
    ++foo;
  }
  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
    typedef const int *iptr;
    iptr p = 0;
    ++p;
  }
  { /* AIX XL C 1.02.0.0 rejects this sort of thing, saying
       "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
    struct s { int j; const int *ap[3]; } bx;
    struct s *b = &bx; b->j = 5;
  }
  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
    const int foo = 10;
    if (!foo) return 0;
  }
  return !cs[0] && !zero.x;
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_c_const=yes
else
  ac_cv_c_const=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_const" >&5
$as_echo "$ac_cv_c_const" >&6; }
if test $ac_cv_c_const = no; then
  
$as_echo "@%:@define const /**/" >>confdefs.h

fi

  ac_fn_c_check_type "$LINENO" "size_t" "ac_cv_type_size_t" "$ac_includes_default"
if test "x$ac_cv_type_size_t" = xyes; then :
  
else
  
cat >>confdefs.h <<_ACEOF
@%:@define size_t unsigned int
_ACEOF

fi

  



    
    fc_has_async="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts the ASYNCHRONOUS attribute" >&5
$as_echo_n "checking whether the Fortran compiler accepts the ASYNCHRONOUS attribute... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

     INTEGER, ASYNCHRONOUS :: int_array(10)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_async="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_async}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_ASYNC 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_async}" >&5
$as_echo "${fc_has_async}" >&6; }

  
    fc_has_backtrace="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Gfortran compiler supports BACKTRACE" >&5
$as_echo_n "checking whether the Gfortran compiler supports BACKTRACE... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

      call backtrace()
      
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_backtrace="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_backtrace}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_BACKTRACE 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_backtrace}" >&5
$as_echo "${fc_has_backtrace}" >&6; }

  
    fc_has_command_argument="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports GET_COMMAND_ARGUMENT" >&5
$as_echo_n "checking whether the Fortran compiler supports GET_COMMAND_ARGUMENT... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

      integer :: ii
      character(len=500) :: arg

      call get_command(arg)

      do ii=1,command_argument_count()
        call get_command_argument(ii, arg)
      end do
      
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_command_argument="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_command_argument}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_COMMAND_ARGUMENT 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_command_argument}" >&5
$as_echo "${fc_has_command_argument}" >&6; }

  
    fc_has_command_line="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports EXECUTE_COMMAND_LINE" >&5
$as_echo_n "checking whether the Fortran compiler supports EXECUTE_COMMAND_LINE... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

      integer :: i
      
      call execute_command_line ("external_prog.exe", exitstat=i)
      print *, "Exit status of external_prog.exe was ", i
      
      call execute_command_line ("reindex_files.exe", wait=.false.)
      print *, "Now reindexing files in the background"
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_command_line="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_command_line}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_COMMAND_LINE 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_command_line}" >&5
$as_echo "${fc_has_command_line}" >&6; }

  
    fc_has_system="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports SYSTEM" >&5
$as_echo_n "checking whether the Fortran compiler supports SYSTEM... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

      call system ("ls -l")
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_system="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_system}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_SYSTEM 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_system}" >&5
$as_echo "${fc_has_system}" >&6; }

  
    fc_has_contiguous="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts the CONTIGUOUS attribute" >&5
$as_echo_n "checking whether the Fortran compiler accepts the CONTIGUOUS attribute... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

     integer, parameter :: dp=kind(1.0d0)
     integer, parameter :: dpc=kind((1.0_dp,1.0_dp)) 

     integer,contiguous,pointer :: i_ptr(:)
     real(dp),contiguous,pointer :: r_ptr(:,:)
     complex(dpc),contiguous,pointer :: c_ptr(:,:,:)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_contiguous="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_contiguous}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_CONTIGUOUS 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_contiguous}" >&5
$as_echo "${fc_has_contiguous}" >&6; }

  
    fc_has_dtarrays="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports allocatable arrays in datatypes" >&5
$as_echo_n "checking whether the Fortran compiler supports allocatable arrays in datatypes... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main


         integer, parameter :: dp=kind(1.0d0)
         integer, parameter :: dpc=kind((1.0_dp,1.0_dp))  

         type test_type
           integer,allocatable :: i(:) 
           real(dp),allocatable :: r(:,:) 
           complex(dpc),allocatable :: c(:,:,:) 
         end type test_type

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_dtarrays="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_dtarrays}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_ALLOCATABLE_DTARRAYS 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_dtarrays}" >&5
$as_echo "${fc_has_dtarrays}" >&6; }

  
    fc_has_ieee_exceptions="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports IEEE_EXCEPTIONS" >&5
$as_echo_n "checking whether the Fortran compiler supports IEEE_EXCEPTIONS... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

      use, intrinsic :: ieee_exceptions 
      type(ieee_status_type) :: status_value

      call ieee_get_status(status_value)   ! Get the flags
      call ieee_set_flag(ieee_all,.false.) ! Set the flags quiet
      call ieee_set_status(status_value)   ! Restore the flags
      
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_ieee_exceptions="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_ieee_exceptions}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_IEEE_EXCEPTIONS 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_ieee_exceptions}" >&5
$as_echo "${fc_has_ieee_exceptions}" >&6; }

  
    fc_has_iomsg="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports IOMSG" >&5
$as_echo_n "checking whether the Fortran compiler supports IOMSG... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

         IMPLICIT NONE
         CHARACTER(len=500) :: ERRMSG, DUMMY

         OPEN(UNIT=11, FILE="iomsg.demo", STATUS="NEW", IOMSG=ERRMSG)
         WRITE(11,IOMSG=ERRMSG) "first"
         READ(11, IOMSG=ERRMSG) DUMMY
         CLOSE(UNIT=11, IOMSG=ERRMSG)

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_iomsg="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_iomsg}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_IOMSG 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_iomsg}" >&5
$as_echo "${fc_has_iomsg}" >&6; }

  
    fc_has_iso_c_binding="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler provides the iso_c_binding module" >&5
$as_echo_n "checking whether the Fortran compiler provides the iso_c_binding module... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

         use iso_c_binding
         implicit none
         integer(c_int) :: ii
         logical :: lbool
         type(c_ptr) :: ptr
         ptr = c_null_ptr
         lbool = c_associated(ptr) 

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_iso_c_binding="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_iso_c_binding}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_ISO_C_BINDING 1" >>confdefs.h

  else
    as_fn_error $? "Fortran compiler does not provide iso_c_binding module. Use a more recent version or a different compiler" "$LINENO" 5
  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_iso_c_binding}" >&5
$as_echo "${fc_has_iso_c_binding}" >&6; }

  
    fc_has_exit="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts exit()" >&5
$as_echo_n "checking whether the Fortran compiler accepts exit()... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

            call exit(1)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_exit="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_exit}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_EXIT 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_exit}" >&5
$as_echo "${fc_has_exit}" >&6; }

  
    fc_has_flush="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts flush()" >&5
$as_echo_n "checking whether the Fortran compiler accepts flush()... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

            call flush(1)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_flush="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_flush}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_FLUSH 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_flush}" >&5
$as_echo "${fc_has_flush}" >&6; }

  
    fc_has_flush_="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts flush_()" >&5
$as_echo_n "checking whether the Fortran compiler accepts flush_()... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

            call flush_(1)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_flush_="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_flush_}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_FLUSH_ 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_flush_}" >&5
$as_echo "${fc_has_flush_}" >&6; }

  
    fc_has_gamma="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts gamma()" >&5
$as_echo_n "checking whether the Fortran compiler accepts gamma()... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

            real :: x
            x = gamma(1.5)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_gamma="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_gamma}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_GAMMA 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_gamma}" >&5
$as_echo "${fc_has_gamma}" >&6; }

  
    fc_has_getenv="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts getenv()" >&5
$as_echo_n "checking whether the Fortran compiler accepts getenv()... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

      character(len=255) :: homedir
      call getenv("HOME", homedir)

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_getenv="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_getenv}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_GETENV 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_getenv}" >&5
$as_echo "${fc_has_getenv}" >&6; }

  
    fc_has_getpid="no"

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

          call getpid()
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_getpid="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts getpid()" >&5
$as_echo_n "checking whether the Fortran compiler accepts getpid()... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_getpid}" >&5
$as_echo "${fc_has_getpid}" >&6; }
  if test "${fc_has_getpid}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_GETPID 1" >>confdefs.h

  fi

  
    fc_has_int_quad="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts quadruple integers" >&5
$as_echo_n "checking whether the Fortran compiler accepts quadruple integers... " >&6; }

      if test "${abi_fc_vendor}" != "ibm"; then
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    cat > conftest.$ac_ext <<_ACEOF
      program main

              integer*16 my_int
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_int_quad="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  fi

  if test "${fc_has_int_quad}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_INT_QUAD 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_int_quad}" >&5
$as_echo "${fc_has_int_quad}" >&6; }

  
    fc_has_iso_fortran_2008="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports 2008 standard in ISO_FORTRAN_ENV" >&5
$as_echo_n "checking whether the Fortran compiler supports 2008 standard in ISO_FORTRAN_ENV... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

          use ISO_FORTRAN_ENV, only : int16,int32,int64
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_iso_fortran_2008="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_iso_fortran_2008}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_ISO_FORTRAN_2008 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_iso_fortran_2008}" >&5
$as_echo "${fc_has_iso_fortran_2008}" >&6; }

  
    fc_has_long_lines="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts long lines" >&5
$as_echo_n "checking whether the Fortran compiler accepts long lines... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

         write(*,*)"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" !142
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_long_lines="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_long_lines}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_LONG_LINES 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_long_lines}" >&5
$as_echo "${fc_has_long_lines}" >&6; }

    

  
    fc_has_macro_newline="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports \newline in CPP macros" >&5
$as_echo_n "checking whether the Fortran compiler supports \newline in CPP macros... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

#        define NEWLINE \newline
         print *,"foo1" NEWLINE print *,"foo2"

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_macro_newline="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_macro_newline}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_MACRO_NEWLINE 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_macro_newline}" >&5
$as_echo "${fc_has_macro_newline}" >&6; }

  
    fc_has_move_alloc="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports MOVE_ALLOC (F2003)" >&5
$as_echo_n "checking whether the Fortran compiler supports MOVE_ALLOC (F2003)... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

     integer, allocatable :: a(:), b(:)
     allocate(a(3))
     a = (/1, 2, 3/)
     call move_alloc(a, b)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_move_alloc="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_move_alloc}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_MOVE_ALLOC 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_move_alloc}" >&5
$as_echo "${fc_has_move_alloc}" >&6; }

  
    fc_has_private="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts the PRIVATE attribute" >&5
$as_echo_n "checking whether the Fortran compiler accepts the PRIVATE attribute... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF

     module foo
       type, public :: bar_t
         integer :: pub
         integer,private :: priv
       end type bar_t
     end module foo
    
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  fc_has_private="yes"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_private}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_PRIVATE 1" >>confdefs.h

  fi

    if test -f "FOO.${MODEXT}"; then
    rm -f "FOO.${MODEXT}"; 
  elif test -f "foo.${MODEXT}"; then
    rm -f "foo.${MODEXT}"; 
  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_private}" >&5
$as_echo "${fc_has_private}" >&6; }

  
    fc_has_protected="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts the PROTECTED attribute" >&5
$as_echo_n "checking whether the Fortran compiler accepts the PROTECTED attribute... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF

    module foo
     real,save,protected :: aprot(10)
    end module foo
    
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  fc_has_protected="yes"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_protected}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_PROTECTED 1" >>confdefs.h

  fi

    if test -f "FOO.${MODEXT}"; then
    rm -f "FOO.${MODEXT}"; 
  elif test -f "foo.${MODEXT}"; then
    rm -f "foo.${MODEXT}"; 
  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_protected}" >&5
$as_echo "${fc_has_protected}" >&6; }

  
    fc_has_stream_io="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler supports stream IO" >&5
$as_echo_n "checking whether the Fortran compiler supports stream IO... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

         IMPLICIT NONE
         INTEGER :: myvalue = 12345, mypos
         OPEN(UNIT=11, FILE="ustream.demo", STATUS="NEW", ACCESS="STREAM")
         WRITE(11) "first"
         WRITE(11) "second"
         INQUIRE(UNIT=11, POS=mypos)
         PRINT *, "Myvalue will be written at position ", mypos
         WRITE(11) myvalue
         CLOSE(UNIT=11)

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_stream_io="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_stream_io}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_STREAM_IO 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_stream_io}" >&5
$as_echo "${fc_has_stream_io}" >&6; }

  
    fc_has_cputime="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts cpu_time()" >&5
$as_echo_n "checking whether the Fortran compiler accepts cpu_time()... " >&6; }

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main

      real :: second
      call cpu_time(second)

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_cputime="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


  if test "${fc_has_cputime}" = "yes"; then
    
$as_echo "@%:@define HAVE_FC_CPUTIME 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_cputime}" >&5
$as_echo "${fc_has_cputime}" >&6; }

  
    fc_timing="standard"
  fc_has_etime="no"

    if test "${fc_timing}" = "standard"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran compiler accepts etime()" >&5
$as_echo_n "checking whether the Fortran compiler accepts etime()... " >&6; }

        ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    cat > conftest.$ac_ext <<_ACEOF
      program main

            call etime(1)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  fc_has_etime="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    if test "${fc_has_etime}" = "yes"; then
      
$as_echo "@%:@define HAVE_FC_ETIME 1" >>confdefs.h

    fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${fc_has_etime}" >&5
$as_echo "${fc_has_etime}" >&6; }

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to use C clock for timings" >&5
$as_echo_n "checking whether to use C clock for timings... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_cclock}" >&5
$as_echo "${enable_cclock}" >&6; }
  if test "${enable_cclock}" = "yes"; then
    
$as_echo "@%:@define HAVE_CCLOCK 1" >>confdefs.h

    fc_timing="cclock"
  fi
   if test "${enable_cclock}" = "yes"; then
  DO_BUILD_CCLOCK_TRUE=
  DO_BUILD_CCLOCK_FALSE='#'
else
  DO_BUILD_CCLOCK_TRUE='#'
  DO_BUILD_CCLOCK_FALSE=
fi


    



# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Multicore architecture support

# Note: the following settings will be used by the connectors.


    
  abi_sec_title="Multicore architecture support"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# OpenMP support
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable OpenMP support" >&5
$as_echo_n "checking whether to enable OpenMP support... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_openmp}" >&5
$as_echo "${enable_openmp}" >&6; }
if test "${enable_openmp}" = "yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking Fortran flags for OpenMP" >&5
$as_echo_n "checking Fortran flags for OpenMP... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${FCFLAGS_OPENMP}" >&5
$as_echo "${FCFLAGS_OPENMP}" >&6; }
  
    abi_omp_has_collapse="unknown"

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether OpenMP's COLLAPSE works" >&5
$as_echo_n "checking whether OpenMP's COLLAPSE works... " >&6; }
  if test "$cross_compiling" = yes; then :
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run test program while cross compiling
See \`config.log' for more details" "$LINENO" 5; }
else
  cat > conftest.$ac_ext <<_ACEOF
      program main

      integer :: alfa,i,levels
      levels = 1
      open(unit=10,file="conftest.collapse")
!$OMP PARALLEL DO COLLAPSE(2) PRIVATE(alfa,i) DEFAULT(shared)
       do alfa=1,1
         do i=1,levels
           write(10,'(I1)') i*alfa
         end do
       end do
!$OMP END PARALLEL DO
       close(unit=10)
    
      end
_ACEOF
if ac_fn_fc_try_run "$LINENO"; then :
  abi_omp_has_collapse="yes"; abi_omp_collapse_result=`cat conftest.collapse 2>/dev/null`; rm -f conftest.collapse
else
  abi_omp_has_collapse="no"; rm -f conftest.collapse
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

  test "${abi_omp_collapse_result}" = "1" || abi_omp_has_collapse="no"
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_omp_has_collapse}" >&5
$as_echo "${abi_omp_has_collapse}" >&6; }
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    if test "${abi_omp_has_collapse}" = "yes"; then
    
$as_echo "@%:@define HAVE_OMP_COLLAPSE 1" >>confdefs.h

  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: OpenMP support is enabled in Fortran source code only" >&5
$as_echo "$as_me: OpenMP support is enabled in Fortran source code only" >&6;}
fi

# MPI support


    
  lib_mpi_fcflags=""
  lib_mpi_ldflags=""
  lib_mpi_incs=""
  lib_mpi_libs=""

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to build MPI code" >&5
$as_echo_n "checking whether to build MPI code... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_mpi}" >&5
$as_echo "${enable_mpi}" >&6; }

  if test "${enable_mpi}" = "yes" -o "${enable_mpi}" = "auto"; then

        if test "${abi_mpi_complete}" != "no"; then
      
    abi_mpi_cc_ok="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the C compiler supports MPI" >&5
$as_echo_n "checking whether the C compiler supports MPI... " >&6; }

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



    CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
  LDFLAGS="${CC_LDFLAGS}"
  LIBS="${CC_LIBS} ${lib_mpi_libs}"

  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
#include "mpi.h"
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

      int rc;

      MPI_Init(NULL,NULL);
      rc = MPI_Finalize();
    
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  abi_mpi_cc_ok="yes"
else
  abi_mpi_cc_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_cc_ok}" >&5
$as_echo "${abi_mpi_cc_ok}" >&6; }

      
    abi_mpi_cxx_ok="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the C++ compiler supports MPI" >&5
$as_echo_n "checking whether the C++ compiler supports MPI... " >&6; }

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



    CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
  LDFLAGS="${CXX_LDFLAGS}"
  LIBS="${CXX_LIBS} ${lib_mpi_libs}"

  ac_ext=cpp
ac_cpp='$CXXCPP $CPPFLAGS'
ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_cxx_compiler_gnu

  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
@%:@include "mpi.h"
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

      MPI::Init();
      MPI::Finalize();
    
  ;
  return 0;
}
_ACEOF
if ac_fn_cxx_try_link "$LINENO"; then :
  abi_mpi_cxx_ok="yes"
else
  abi_mpi_cxx_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_cxx_ok}" >&5
$as_echo "${abi_mpi_cxx_ok}" >&6; }

      
    abi_mpi_fc_ok="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the Fortran Compiler supports MPI" >&5
$as_echo_n "checking whether the Fortran Compiler supports MPI... " >&6; }

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



    CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${FC_LIBS} ${lib_mpi_libs}"

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main
  
      include "mpif.h"
      integer :: ierr
      call mpi_init(ierr)
      call mpi_finalize(ierr)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_mpi_fc_ok="yes"
else
  abi_mpi_fc_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_fc_ok}" >&5
$as_echo "${abi_mpi_fc_ok}" >&6; }


      if test "${abi_mpi_cc_ok}" = "yes" -a \
              "${abi_mpi_fc_ok}" = "yes"; then
        abi_mpi_usable="yes"
      fi
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether MPI is usable" >&5
$as_echo_n "checking whether MPI is usable... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_usable}" >&5
$as_echo "${abi_mpi_usable}" >&6; }

    if test "${abi_mpi_usable}" = "no"; then

      case "${enable_mpi}" in
        auto)
          { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: MPI support is broken - disabling MPI" >&5
$as_echo "$as_me: WARNING: MPI support is broken - disabling MPI" >&2;}
          ;;
        yes)
          as_fn_error $? "MPI support is broken - please fix your config parameters and/or MPI installation" "$LINENO" 5
          ;;
      esac

      abi_mpi_enabled="no"
      enable_mpi="no"
      enable_mpi_io="no"

    else

                  enable_mpi="yes"

            
$as_echo "@%:@define HAVE_MPI 1" >>confdefs.h


            { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to build MPI I/O code" >&5
$as_echo_n "checking whether to build MPI I/O code... " >&6; }
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_mpi_io}" >&5
$as_echo "${enable_mpi_io}" >&6; }
      if test "${enable_mpi_io}" = "yes" -o "${enable_mpi_io}" = "auto"; then
        
$as_echo "@%:@define HAVE_MPI_IO 1" >>confdefs.h

      fi

            if test "${enable_mpi}" = "yes" -a "${enable_mpi_io}" = "no"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: disabling MPI I/O is not recommended" >&5
$as_echo "$as_me: WARNING: disabling MPI I/O is not recommended" >&2;}
      fi

            
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking which level of MPI is supported by the Fortran compiler" >&5
$as_echo_n "checking which level of MPI is supported by the Fortran compiler... " >&6; }

  if test "${abi_mpi_fc_ok}" = "yes"; then

        
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



        CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
    LDFLAGS="${FC_LDFLAGS}"
    LIBS="${FC_LIBS} ${lib_mpi_libs}"

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    cat > conftest.$ac_ext <<_ACEOF
      program main
  
              use mpi
              integer :: ierr
              call mpi_init(ierr)
              call mpi_finalize(ierr)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_mpi_fc_level="2"
else
  abi_mpi_fc_level="1"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


        

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"


  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_fc_level}" >&5
$as_echo "${abi_mpi_fc_level}" >&6; }


            if test "${abi_mpi_level}" = ""; then
        abi_mpi_level="${abi_mpi_fc_level}"
      else
        { $as_echo "$as_me:${as_lineno-$LINENO}: forcing MPI-${abi_mpi_level} standard support" >&5
$as_echo "$as_me: forcing MPI-${abi_mpi_level} standard support" >&6;}
        if test "${abi_mpi_level}" != "${abi_mpi_fc_level}"; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: detected MPI-${abi_mpi_fc_level} support but using MPI-${abi_mpi_level} instructions" >&5
$as_echo "$as_me: WARNING: detected MPI-${abi_mpi_fc_level} support but using MPI-${abi_mpi_level} instructions" >&2;}
        fi
      fi

            case "${abi_mpi_level}" in
        1)
          
$as_echo "@%:@define HAVE_MPI1 1" >>confdefs.h

          ;;
        2)
          
$as_echo "@%:@define HAVE_MPI2 1" >>confdefs.h

          ;;
      esac

            
    abi_mpi_integer16_ok="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the MPI library supports MPI_INTEGER16" >&5
$as_echo_n "checking whether the MPI library supports MPI_INTEGER16... " >&6; }

  
    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


                                                                                            
    CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${FC_LIBS} ${lib_mpi_libs}"

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main
  
      use mpi

      integer,parameter :: ii = MPI_INTEGER16

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_mpi_integer16_ok="yes"
else
  abi_mpi_integer16_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

                                                                                            
    

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_integer16_ok}" >&5
$as_echo "${abi_mpi_integer16_ok}" >&6; }

  if test "${abi_mpi_integer16_ok}" = "yes"; then
    
$as_echo "@%:@define HAVE_MPI_INTEGER16 1" >>confdefs.h

  fi



            
    abi_mpi_type_create_struct_ok="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the MPI library supports MPI_CREATE_TYPE_STRUCT" >&5
$as_echo_n "checking whether the MPI library supports MPI_CREATE_TYPE_STRUCT... " >&6; }

  if test "${abi_mpi_fc_level}" = "2"; then

    
        
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


                                                                                              
        CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
    LDFLAGS="${FC_LDFLAGS}"
    LIBS="${FC_LIBS} ${lib_mpi_libs}"
                                                                                              
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    cat > conftest.$ac_ext <<_ACEOF
      program main
  
        use mpi 
        integer,parameter :: ncount=10
        integer :: ierr,new_type
        integer :: block_length(ncount),block_type(ncount)
        integer(MPI_ADDRESS_KIND) :: block_displ(ncount)
                                                                                              
        call mpi_init(ierr)
        call MPI_TYPE_CREATE_STRUCT(ncount,block_length,block_displ,block_type,new_type,ierr)
        call mpi_finalize(ierr)
                                                                                              
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_mpi_type_create_struct_ok="yes"
else
  abi_mpi_type_create_struct_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

                                                                                              
        

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  else

        
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"



        CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
    LDFLAGS="${FC_LDFLAGS}"
    LIBS="${FC_LIBS} ${lib_mpi_libs}"

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    cat > conftest.$ac_ext <<_ACEOF
      program main
  
        include "mpif.h"
        integer,parameter :: ncount=10
        integer :: ierr,new_type
        integer :: block_length(ncount),block_type(ncount)
        integer(MPI_ADDRESS_KIND) :: block_displ(ncount)

        call mpi_init(ierr)
        call MPI_TYPE_CREATE_STRUCT(ncount,block_length,block_displ,block_type,new_type,ierr)
        call mpi_finalize(ierr)

      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_mpi_type_create_struct_ok="yes"
else
  abi_mpi_type_create_struct_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


        

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_type_create_struct_ok}" >&5
$as_echo "${abi_mpi_type_create_struct_ok}" >&6; }

  if test "${abi_mpi_type_create_struct_ok}" = "yes"; then
    
$as_echo "@%:@define HAVE_MPI_TYPE_CREATE_STRUCT 1" >>confdefs.h

  fi



            
    abi_mpi_ialltoall_ok="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the MPI library supports MPI_IALLTOALL (MPI3)" >&5
$as_echo_n "checking whether the MPI library supports MPI_IALLTOALL (MPI3)... " >&6; }

  
    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


                                                                                            
    CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${FC_LIBS} ${lib_mpi_libs}"

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main
  
      use mpi

      integer,parameter :: siz=5
      integer :: SENDBUF(siz), RECVBUF(siz)
      integer :: SENDCOUNT, SENDTYPE, RECVCOUNT, RECVTYPE
      integer :: COMM, REQUEST, IERROR

      ! Prototype
      ! <type>    SENDBUF(*), RECVBUF(*)
      ! INTEGER    SENDCOUNT, SENDTYPE, RECVCOUNT, RECVTYPE
      ! INTEGER    COMM, REQUEST, IERROR

      call MPI_IALLTOALL(SENDBUF, SENDCOUNT, SENDTYPE, RECVBUF, RECVCOUNT, &
      &  RECVTYPE, COMM, REQUEST, IERROR)

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_mpi_ialltoall_ok="yes"
else
  abi_mpi_ialltoall_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

                                                                                            
    

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_ialltoall_ok}" >&5
$as_echo "${abi_mpi_ialltoall_ok}" >&6; }

  if test "${abi_mpi_ialltoall_ok}" = "yes"; then
    
$as_echo "@%:@define HAVE_MPI_IALLTOALL 1" >>confdefs.h

  fi


      
    abi_mpi_ialltoallv_ok="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the MPI library supports MPI_IALLTOALLV (MPI3)" >&5
$as_echo_n "checking whether the MPI library supports MPI_IALLTOALLV (MPI3)... " >&6; }

  
    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


                                                                                            
    CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${FC_LIBS} ${lib_mpi_libs}"

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main
  
      use mpi

      integer,parameter :: siz=5,group_size=3
      integer :: SENDBUF(siz), RECVBUF(siz)
      integer :: SENDCOUNTS(group_size),  SDISPLS(group_size), RECVCOUNTS(group_size),RDISPLS(group_size)
      integer :: SENDTYPE, RECVTYPE
      integer :: COMM, REQUEST, IERROR

      call MPI_IALLTOALLV(SENDBUF, SENDCOUNTS, SDISPLS, SENDTYPE, RECVBUF, RECVCOUNTS, &
      &  RDISPLS, RECVTYPE, COMM, REQUEST, IERROR)

      !call MPI_Ialltoallv(const void *sendbuf, const int sendcounts[], const int sdispls[],
      !                   MPI_Datatype sendtype, void *recvbuf, const int recvcounts[],
      !                   const int rdispls[], MPI_Datatype recvtype, MPI_Comm comm, MPI_Request *request)

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_mpi_ialltoallv_ok="yes"
else
  abi_mpi_ialltoallv_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

                                                                                            
    

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_ialltoallv_ok}" >&5
$as_echo "${abi_mpi_ialltoallv_ok}" >&6; }

  if test "${abi_mpi_ialltoallv_ok}" = "yes"; then
    
$as_echo "@%:@define HAVE_MPI_IALLTOALLV 1" >>confdefs.h

  fi


      
    abi_mpi_iallreduce_ok="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the MPI library supports MPI_IALLREDUCE (MPI3)" >&5
$as_echo_n "checking whether the MPI library supports MPI_IALLREDUCE (MPI3)... " >&6; }

  
    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


                                                                                            
    CPPFLAGS="${CPPFLAGS} ${lib_mpi_incs}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${FC_LIBS} ${lib_mpi_libs}"

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  cat > conftest.$ac_ext <<_ACEOF
      program main
  
      use mpi

      integer,parameter :: count=5
      integer :: SENDBUF(count), RECVBUF(count)
      integer :: SENDCOUNT, SENDTYPE, RECVCOUNT, RECVTYPE
      integer :: COMM, REQUEST, IERROR

      ! Prototype
      !<type> SENDBUF(*), RECVBUF(*) INTEGER COUNT, DATATYPE, OP, COMM, REQUEST, IERROR

      call MPI_IALLREDUCE(sendbuf, recvbuf, count, MPI_INTEGER, MPI_SUM, comm, request, ierror)

    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_mpi_iallreduce_ok="yes"
else
  abi_mpi_iallreduce_ok="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

                                                                                            
    

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_mpi_iallreduce_ok}" >&5
$as_echo "${abi_mpi_iallreduce_ok}" >&6; }

  if test "${abi_mpi_iallreduce_ok}" = "yes"; then
    
$as_echo "@%:@define HAVE_MPI_IALLREDUCE 1" >>confdefs.h

  fi



    fi 
  fi 
   if test "${enable_mpi}" = "yes"; then
  DO_TEST_MPI_TRUE=
  DO_TEST_MPI_FALSE='#'
else
  DO_TEST_MPI_TRUE='#'
  DO_TEST_MPI_FALSE=
fi


if test "${enable_maintainer_checks}" = "yes"; then
  
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: dumping all MPI parameters for diagnostics" >&5
$as_echo "$as_me: dumping all MPI parameters for diagnostics" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: ------------------------------------------" >&5
$as_echo "$as_me: ------------------------------------------" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: Configure options:" >&5
$as_echo "$as_me: Configure options:" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * enable_mpi         = ${abi_mpi_enabled}" >&5
$as_echo "$as_me:   * enable_mpi         = ${abi_mpi_enabled}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * enable_mpi_inplace = ${enable_mpi_inplace}" >&5
$as_echo "$as_me:   * enable_mpi_inplace = ${enable_mpi_inplace}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * enable_mpi_io      = ${enable_mpi_io}" >&5
$as_echo "$as_me:   * enable_mpi_io      = ${enable_mpi_io}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * with_mpi_incs      = ${with_mpi_incs}" >&5
$as_echo "$as_me:   * with_mpi_incs      = ${with_mpi_incs}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * with_mpi_level     = ${with_mpi_level}" >&5
$as_echo "$as_me:   * with_mpi_level     = ${with_mpi_level}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * with_mpi_libs      = ${with_mpi_libs}" >&5
$as_echo "$as_me:   * with_mpi_libs      = ${with_mpi_libs}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * with_mpi_prefix    = ${with_mpi_prefix}" >&5
$as_echo "$as_me:   * with_mpi_prefix    = ${with_mpi_prefix}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI_RUNNER         = ${MPI_RUNNER}" >&5
$as_echo "$as_me:   * MPI_RUNNER         = ${MPI_RUNNER}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI_2PROCS         = ${MPI_2PROCS}" >&5
$as_echo "$as_me:   * MPI_2PROCS         = ${MPI_2PROCS}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: Internal parameters" >&5
$as_echo "$as_me: Internal parameters" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI C compiler present (required)       : ${abi_mpi_has_cc}" >&5
$as_echo "$as_me:   * MPI C compiler present (required)       : ${abi_mpi_has_cc}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI C compiler works (required)         : ${abi_mpi_cc_ok}" >&5
$as_echo "$as_me:   * MPI C compiler works (required)         : ${abi_mpi_cc_ok}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI C++ compiler present (optional)     : ${abi_mpi_has_cxx}" >&5
$as_echo "$as_me:   * MPI C++ compiler present (optional)     : ${abi_mpi_has_cxx}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI C++ compiler works (optional)       : ${abi_mpi_cxx_ok}" >&5
$as_echo "$as_me:   * MPI C++ compiler works (optional)       : ${abi_mpi_cxx_ok}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI Fortran compiler present (required) : ${abi_mpi_has_fc}" >&5
$as_echo "$as_me:   * MPI Fortran compiler present (required) : ${abi_mpi_has_fc}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI Fortran compiler works (required)   : ${abi_mpi_fc_ok}" >&5
$as_echo "$as_me:   * MPI Fortran compiler works (required)   : ${abi_mpi_fc_ok}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI Fortran level supported (1 or 2)    : ${abi_mpi_fc_level}" >&5
$as_echo "$as_me:   * MPI Fortran level supported (1 or 2)    : ${abi_mpi_fc_level}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI environment complete (required)     : ${abi_mpi_complete}" >&5
$as_echo "$as_me:   * MPI environment complete (required)     : ${abi_mpi_complete}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}:   * MPI environment usable (required)       : ${abi_mpi_usable}" >&5
$as_echo "$as_me:   * MPI environment usable (required)       : ${abi_mpi_usable}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: All required parameters must be set to 'yes'." >&5
$as_echo "$as_me: All required parameters must be set to 'yes'." >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: If not, the configuration and/or the build will" >&5
$as_echo "$as_me: If not, the configuration and/or the build will" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: very likely fail." >&5
$as_echo "$as_me: very likely fail." >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}

fi

# GPU support

  

    abi_gpu_serial="no"
  abi_gpu_mpi="no"
  abi_gpu_precision=`echo "${with_gpu_flavor}" | cut -d- -f2`
  test "${abi_gpu_precision}" = "" && abi_gpu_precision="single"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate GPU support" >&5
$as_echo_n "checking whether to activate GPU support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_gpu}" >&5
$as_echo "${enable_gpu}" >&6; }

    if test "${enable_gpu}" = "yes"; then

        { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the requested GPU support" >&5
$as_echo_n "checking for the requested GPU support... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_gpu_flavor}" >&5
$as_echo "${with_gpu_flavor}" >&6; }

    case "${with_gpu_flavor}" in

      cuda*)
        
    abi_gpu_cuda_serial="no"
  abi_gpu_cuda_mpi="no"
  abi_gpu_cuda_old="unknown"

    { $as_echo "$as_me:${as_lineno-$LINENO}: Cuda incs: ${abi_gpu_cuda_incs}" >&5
$as_echo "$as_me: Cuda incs: ${abi_gpu_cuda_incs}" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: Cuda libs: ${abi_gpu_cuda_libs}" >&5
$as_echo "$as_me: Cuda libs: ${abi_gpu_cuda_libs}" >&6;}

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  CPPFLAGS="${CPPFLAGS} ${abi_gpu_cuda_incs}"
  LDFLAGS="${CC_LDFLAGS} ${CC_LDFLAGS_GPU}"
  abi_saved_LIBS="${LIBS}"
  LIBS="${abi_gpu_cuda_libs} ${LIBS}"
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    for ac_header in cuda_runtime_api.h cufft.h cublas.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
@%:@define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
 
fi

done


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether Cuda programs can be compiled" >&5
$as_echo_n "checking whether Cuda programs can be compiled... " >&6; }
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#if defined HAVE_CUDA_RUNTIME_API_H
#include "cuda_runtime_api.h"
#endif
    
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

      cudaError_t err;
      int *count;
      err = cudaGetDeviceCount(count);
    
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  abi_gpu_cuda_serial="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_gpu_cuda_serial}" >&5
$as_echo "${abi_gpu_cuda_serial}" >&6; }

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we have Cuda < 4" >&5
$as_echo_n "checking whether we have Cuda < 4... " >&6; }
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#if defined HAVE_CUDA_RUNTIME_API_H
#include "cuda_runtime_api.h"
#endif
    
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

      cudaDeviceReset();
    
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  abi_gpu_cuda_old="no"
else
  abi_gpu_cuda_old="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_gpu_cuda_old}" >&5
$as_echo "${abi_gpu_cuda_old}" >&6; }

    if test "${fc_has_iso_c_binding}" != "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: your Fortran compiler does not provide any ISO C binding module" >&5
$as_echo "$as_me: WARNING: your Fortran compiler does not provide any ISO C binding module" >&2;}
  fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  LIBS="${abi_saved_LIBS}"
  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



        abi_gpu_serial="${abi_gpu_cuda_serial}"
        abi_gpu_mpi="${abi_gpu_cuda_mpi}"
        if test "${abi_gpu_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_GPU_CUDA 1" >>confdefs.h

          if test "${abi_gpu_cuda_old}" = "yes"; then
            
$as_echo "@%:@define HAVE_GPU_CUDA3 1" >>confdefs.h

          fi
          case "${abi_gpu_precision}" in
            single)
              
$as_echo "@%:@define HAVE_GPU_CUDA_SP 1" >>confdefs.h

              ;;
            double)
              
$as_echo "@%:@define HAVE_GPU_CUDA_DP 1" >>confdefs.h

              ;;
          esac
          lib_gpu_fcflags="${abi_gpu_cuda_fcflags}"
          lib_gpu_ldflags="${abi_gpu_cuda_ldflags}"
          lib_gpu_incs="${abi_gpu_cuda_incs}"
          lib_gpu_libs="${abi_gpu_cuda_libs}"
        fi
        ;;

    esac

    if test "${abi_gpu_serial}" = "no"; then
      as_fn_error $? "GPU support is broken" "$LINENO" 5
    fi

  fi

    if test "${abi_gpu_serial}" = "yes"; then
    
$as_echo "@%:@define HAVE_GPU 1" >>confdefs.h

    
$as_echo "@%:@define HAVE_GPU_SERIAL 1" >>confdefs.h

    lib_gpu_flavor="${with_gpu_flavor}"
  fi

    if test "${abi_gpu_mpi}" = "yes"; then
    
$as_echo "@%:@define HAVE_GPU_MPI 1" >>confdefs.h

  fi

    if test "${enable_gpu}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the actual GPU support" >&5
$as_echo_n "checking for the actual GPU support... " >&6; }
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_gpu_flavor}" >&5
$as_echo "${lib_gpu_flavor}" >&6; }
  fi

     if test "${lib_gpu_flavor}" != "none"; then
  DO_BUILD_15_GPU_TOOLBOX_TRUE=
  DO_BUILD_15_GPU_TOOLBOX_FALSE='#'
else
  DO_BUILD_15_GPU_TOOLBOX_TRUE='#'
  DO_BUILD_15_GPU_TOOLBOX_FALSE=
fi

   if test "${lib_gpu_flavor}" = "cuda-double" -o "${lib_gpu_flavor}" = "cuda-single"; then
  DO_BUILD_52_MANAGE_CUDA_TRUE=
  DO_BUILD_52_MANAGE_CUDA_FALSE='#'
else
  DO_BUILD_52_MANAGE_CUDA_TRUE='#'
  DO_BUILD_52_MANAGE_CUDA_FALSE=
fi



# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Feature triggers
#


    
  abi_sec_title="Feature triggers"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Init
abi_fallbacks=""

# Make sure ~/.abinit/tarballs exists
if test "${with_tardir}" = ""; then
  abinit_tardir="${HOME}/.abinit/tarballs"
else
  abinit_tardir="${with_tardir}"
fi
if test ! -e "${abinit_tardir}"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: creating ${abinit_tardir}" >&5
$as_echo "$as_me: creating ${abinit_tardir}" >&6;}
  ${INSTALL} -d -m 755 "${abinit_tardir}"
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: using tarball repository ${abinit_tardir}" >&5
$as_echo "$as_me: using tarball repository ${abinit_tardir}" >&6;}


# Make fallbacks usable by Abinit
fallbacks_instdir="${abinit_builddir}/fallbacks/exports"
fallbacks_incs='-I$(fallbacks_instdir)/include'



# Linear algebra support

    abi_linalg_chk_gpu=""
  abi_linalg_chk_mpi=""
  abi_linalg_chk_mpiext=""
  abi_linalg_chk_serial=""
  abi_linalg_gpu="no"
  abi_linalg_mpi="no"
  abi_linalg_serial="no"
  abi_linalg_has_blas="no"
  abi_linalg_has_lapack="no"
  abi_linalg_has_lapacke="no"
  abi_linalg_has_blacs="no"
  abi_linalg_has_scalapack="no"
  abi_linalg_has_elpa="no"
  abi_linalg_has_plasma="no"
  abi_linalg_has_magma="no"
  abi_linalg_incs="${with_linalg_incs}"
  abi_linalg_libs="${with_linalg_libs}"
  lib_linalg_flavor="${with_linalg_flavor}"
  lib_linalg_fcflags=""
  lib_linalg_incs=""
  lib_linalg_ldflags=""
  lib_linalg_libs=""

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  LDFLAGS="${FC_LDFLAGS}"
  abi_saved_FCFLAGS="${FCFLAGS}"
  abi_saved_LDFLAGS="${LDFLAGS}"
  abi_saved_LIBS="${LIBS}"
  CPPFLAGS="${with_linalg_incs} ${CPPFLAGS}"
  LIBS="${with_linalg_libs} ${LIBS}"
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    if test "${with_linalg_flavor}" = "none"; then
    if test "${with_linalg_incs}" != "" -o \
            "${with_linalg_libs}" != ""; then
      as_fn_error $? "user-defined linear algebra includes and libraries
                  are not allowed when the flavor is set to 'none'
           solution: use consistent linear algebra options" "$LINENO" 5
    fi
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the requested linear algebra support" >&5
$as_echo_n "checking for the requested linear algebra support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_linalg_flavor}" >&5
$as_echo "${lib_linalg_flavor}" >&6; }

    abi_linalg_iter=`echo "${lib_linalg_flavor}" | tr '+' '\n' | sort -u | awk '{printf " %s",$1}'`

    for abi_linalg_flavor in ${abi_linalg_iter}; do
    case "${abi_linalg_flavor}" in
      magma)
        if test "${abi_linalg_chk_gpu}" != ""; then
          as_fn_error $? "only one GPU linear algebra flavor is permitted" "$LINENO" 5
        fi
        abi_linalg_chk_gpu="${abi_linalg_flavor}"
        ;;
      scalapack|plasma)
        if test "${abi_linalg_chk_mpi}" != ""; then
          as_fn_error $? "only one MPI linear algebra flavor is permitted" "$LINENO" 5
        fi
        abi_linalg_chk_mpi="${abi_linalg_flavor}"
        ;;
      elpa)
        abi_linalg_chk_mpiext="${abi_linalg_flavor}"
        ;;
      *)
        if test "${abi_linalg_chk_serial}" != ""; then
          as_fn_error $? "only one serial linear algebra flavor is permitted" "$LINENO" 5
        fi
        abi_linalg_chk_serial="${abi_linalg_flavor}"
        ;;
    esac
  done
  if test "${abi_linalg_chk_serial}" = ""; then
    as_fn_error $? "you must choose a serial linear algebra flavor" "$LINENO" 5
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to select a fallback for linear algebra" >&5
$as_echo_n "checking whether to select a fallback for linear algebra... " >&6; }
  abi_linalg_fallback=`echo "${abi_linalg_chk_serial}" | cut -s -d- -f2`
  if test "${abi_linalg_fallback}" = "fallback"; then
    abi_linalg_fallback="yes"
  else
    abi_linalg_fallback="no"
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_fallback}" >&5
$as_echo "${abi_linalg_fallback}" >&6; }
  if test "${abi_linalg_fallback}" = "yes"; then
    if test "${enable_fallbacks}" = "no"; then
      as_fn_error $? "fallback requested while fallbacks have been globally disabled" "$LINENO" 5
    fi
    if test "${with_linalg_incs}" != "" -o "${with_linalg_libs}" != ""; then
      as_fn_error $? "you may not specify include or link flags when requesting
                  a fallback (--with-linalg-incs and --with-linalg-libs)" "$LINENO" 5
    fi
  fi

    if test "${with_linalg_libs}" != "" -o \
          "${lib_linalg_flavor}" = "custom"; then
    
    abi_linalg_has_blas="no"
  abi_linalg_has_lapack="no"
  abi_linalg_has_lapacke="no"
  abi_linalg_has_blacs="no"
  abi_linalg_has_scalapack="no"
  abi_linalg_has_elpa="no"
  abi_linalg_has_plasma="no"
  abi_linalg_has_magma="no"

    tmp_saved_LIBS="${LIBS}"
  tmp_saved_FCFLAGS="${FCFLAGS}"
  LIBS="${LIBS} ${lib_gpu_libs} ${lib_mpi_libs}"
  FCFLAGS="${FCFLAGS} ${with_linalg_incs}"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for BLAS support in specified libraries" >&5
$as_echo_n "checking for BLAS support in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call zgemm
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_blas="yes"
else
  abi_linalg_has_blas="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_blas}" >&5
$as_echo "${abi_linalg_has_blas}" >&6; }

    

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for AXPBY support in specified BLAS libraries" >&5
$as_echo_n "checking for AXPBY support in specified BLAS libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call saxpby
      call daxpby
      call caxpby
      call zaxpby
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_axpby="yes"
else
  abi_linalg_has_axpby="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_axpby}" >&5
$as_echo "${abi_linalg_has_axpby}" >&6; }

  if test "${abi_linalg_has_axpby}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_AXPBY 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for gemm3m in specified libraries" >&5
$as_echo_n "checking for gemm3m in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

     call cgemm3m
     call zgemm3m
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_gemm3m="yes"
else
  abi_linalg_has_gemm3m="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_gemm3m}" >&5
$as_echo "${abi_linalg_has_gemm3m}" >&6; }

  if test "${abi_linalg_has_gemm3m}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_GEMM3M 1" >>confdefs.h

  fi




    

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mkl_imatcopy in specified libraries" >&5
$as_echo_n "checking for mkl_imatcopy in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call mkl_simatcopy
      call mkl_dimatcopy
      call mkl_cimatcopy
      call mkl_zimatcopy
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_mkl_has_imatcopy="yes"
else
  abi_linalg_mkl_has_imatcopy="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mkl_has_imatcopy}" >&5
$as_echo "${abi_linalg_mkl_has_imatcopy}" >&6; }

  if test "${abi_linalg_mkl_has_imatcopy}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MKL_IMATCOPY 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mkl_omatcopy in specified libraries" >&5
$as_echo_n "checking for mkl_omatcopy in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call mkl_somatcopy
      call mkl_domatcopy
      call mkl_comatcopy
      call mkl_zomatcopy
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_mkl_has_omatcopy="yes"
else
  abi_linalg_mkl_has_omatcopy="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mkl_has_omatcopy}" >&5
$as_echo "${abi_linalg_mkl_has_omatcopy}" >&6; }

  if test "${abi_linalg_mkl_has_omatcopy}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MKL_OMATCOPY 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mkl_omatadd in specified libraries" >&5
$as_echo_n "checking for mkl_omatadd in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call mkl_somatadd
      call mkl_comatadd
      call mkl_domatadd
      call mkl_zomatadd
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_mkl_has_omatadd="yes"
else
  abi_linalg_mkl_has_omatadd="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mkl_has_omatadd}" >&5
$as_echo "${abi_linalg_mkl_has_omatadd}" >&6; }

  if test "${abi_linalg_mkl_has_omatadd}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MKL_OMATADD 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mkl_set/get_threads in specified libraries" >&5
$as_echo_n "checking for mkl_set/get_threads in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      integer :: a
      a = mkl_get_max_threads()
      call mkl_set_num_threads
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_mkl_has_threads="yes"
else
  abi_linalg_mkl_has_threads="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mkl_has_threads}" >&5
$as_echo "${abi_linalg_mkl_has_threads}" >&6; }

  if test "${abi_linalg_mkl_has_threads}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MKL_THREADS 1" >>confdefs.h

  fi



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for LAPACK support in specified libraries" >&5
$as_echo_n "checking for LAPACK support in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call zhpev
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_lapack="yes"
else
  abi_linalg_has_lapack="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_lapack}" >&5
$as_echo "${abi_linalg_has_lapack}" >&6; }

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for LAPACKE C API support in specified libraries" >&5
$as_echo_n "checking for LAPACKE C API support in specified libraries... " >&6; }
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

     #include <lapacke.h>
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
zhpev_;
     
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  abi_linalg_has_lapacke="yes"
else
  abi_linalg_has_lapacke="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_lapacke}" >&5
$as_echo "${abi_linalg_has_lapacke}" >&6; }

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for BLACS support in specified libraries" >&5
$as_echo_n "checking for BLACS support in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call blacs_gridinit
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_blacs="yes"
else
  abi_linalg_has_blacs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_blacs}" >&5
$as_echo "${abi_linalg_has_blacs}" >&6; }

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ScaLAPACK support in specified libraries" >&5
$as_echo_n "checking for ScaLAPACK support in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call pzheevx
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_scalapack="yes"
else
  abi_linalg_has_scalapack="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_scalapack}" >&5
$as_echo "${abi_linalg_has_scalapack}" >&6; }

    abi_linalg_has_elpa="${abi_linalg_has_scalapack}"
  if test "${abi_linalg_has_elpa}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ELPA support in specified libraries" >&5
$as_echo_n "checking for ELPA support in specified libraries... " >&6; }
    
    abi_linalg_has_elpa="no"

# Check ELPA v2017+
  cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  if test "${abi_linalg_has_elpa}" = "yes"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa
       integer :: nrows=1,err
       class(elpa_t),pointer :: e
       call e%set("local_nrows",nrows,err)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  fi

# Check ELPA v2017-
  if test "${abi_linalg_has_elpa}" = "no"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa1
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    if test "${abi_linalg_has_elpa}" = "yes"; then
      cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa1
         integer,parameter :: n=1,comm=1 ; integer :: comm1,comm2,success
         success=get_elpa_communicators(comm,n,n,comm1,comm2)
        
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi
  fi

# Check ELPA v2013-
  if test "${abi_linalg_has_elpa}" = "no"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
call elpa_transpose_vectors
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_elpa}" >&5
$as_echo "${abi_linalg_has_elpa}" >&6; }
    if test "${abi_linalg_has_elpa}" = "yes"; then
      

  abi_linalg_elpa_version="none"
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ELPA library version" >&5
$as_echo_n "checking for ELPA library version... " >&6; }

# Check for ELPA 2017
  cat > conftest.$ac_ext <<_ACEOF
      program main

    use elpa
    class(elpa_t),pointer :: e
    integer,parameter :: na=1,ncol=1,nrow=1 ; integer :: err
    real*8 :: a(ncol,nrow),ev(na),q(ncol,nrow)
    call e%eigenvectors(a,ev,q,err)
    call e%cholesky(a,err)
    
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_elpa_2017="yes"
else
  abi_linalg_has_elpa_2017="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  if test "${abi_linalg_has_elpa_2017}" = "yes"; then
    abi_linalg_elpa_version="2017"
    
$as_echo "@%:@define HAVE_LINALG_ELPA_2017 1" >>confdefs.h

    
$as_echo "@%:@define HAVE_ELPA_FORTRAN2008 1" >>confdefs.h

  else

# Check for ELPA 2016
   cat > conftest.$ac_ext <<_ACEOF
      program main

     use elpa1
     logical :: success1,debug
     integer,parameter :: na=1,lda=1,ldq=1,mcol=1,nev=1,nblk=1,nrow=1
     integer :: comm_g=1,comm_r=1,comm_c=1,success2
     real*8 :: a(lda,nrow),ev(na),q(ldq,nrow)
     complex*16 :: ac(lda,nrow)
     success1=elpa_solve_evp_real_1stage(na,nev,a,lda,ev,q,ldq,nblk,mcol,comm_r,comm_c)
     success1=elpa_cholesky_complex(na,ac,lda,nblk,nrow,comm_r,comm_c,debug)
     success2=elpa_get_communicators(comm_g,na,na,comm_r,comm_c)
     
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa_2016="yes"
else
  abi_linalg_has_elpa_2016="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
   if test "${abi_linalg_has_elpa_2016}" = "yes"; then
     abi_linalg_elpa_version="2016"
     
$as_echo "@%:@define HAVE_LINALG_ELPA_2016 1" >>confdefs.h

   else

# Check for ELPA 2015
    cat > conftest.$ac_ext <<_ACEOF
      program main

      use elpa1
      logical :: success1,debug
      integer,parameter :: na=1,lda=1,ldq=1,nev=1,nblk=1
      integer :: comm_g=1,comm_r=1,comm_c=1,success2
      real*8 :: a(lda,na),ev(na),q(ldq,na)
      complex*16 :: ac(lda,na)
      success1=solve_evp_real(na,nev,a,lda,ev,q,ldq,nblk,comm_r,comm_c)
      call cholesky_complex(na,ac,lda,nblk,comm_r,comm_c,debug,success1)
      success2=get_elpa_row_col_comms(comm_g,na,na,comm_r,comm_c)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa_2015="yes"
else
  abi_linalg_has_elpa_2015="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    if test "${abi_linalg_has_elpa_2015}" = "yes"; then
      abi_linalg_elpa_version="2015"
       
$as_echo "@%:@define HAVE_LINALG_ELPA_2015 1" >>confdefs.h

    else

# Check for ELPA 2014
     cat > conftest.$ac_ext <<_ACEOF
      program main

       use elpa1
       logical :: success
       integer,parameter :: na=1,lda=1,ldq=1,nev=1,nblk=1,comm_r=1,comm_c=1
       real*8 :: a(lda,na),ev(na),q(ldq,na)
       complex*16 :: ac(lda,na)
       success=solve_evp_real(na,nev,a,lda,ev,q,ldq,nblk,comm_r,comm_c)
       call invert_trm_complex(na,ac,lda,nblk,comm_r,comm_c,success)
       
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa_2014="yes"
else
  abi_linalg_has_elpa_2014="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
     if test "${abi_linalg_has_elpa_2014}" = "yes"; then
       abi_linalg_elpa_version="2014"
       
$as_echo "@%:@define HAVE_LINALG_ELPA_2014 1" >>confdefs.h

     else

# Check for ELPA 2011-2013
      cat > conftest.$ac_ext <<_ACEOF
      program main

        use elpa1
        integer,parameter :: na=1,lda=1,ldq=1,nev=1,nblk=1,comm_r=1,comm_c=1
        real*8 :: a(lda,na),ev(na),q(ldq,na)
        complex*16 :: ac(lda,na)
        call solve_evp_real(na,nev,a,lda,ev,q,ldq,nblk,comm_r,comm_c)
        call invert_trm_complex(na,ac,lda,nblk,comm_r,comm_c)
        
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa_2013="yes"
else
  abi_linalg_has_elpa_2013="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
      if test "${abi_linalg_has_elpa_2013}" = "yes"; then
        abi_linalg_elpa_version="2011-13"
        
$as_echo "@%:@define HAVE_LINALG_ELPA_2013 1" >>confdefs.h

      fi
     fi
    fi
   fi
  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_elpa_version}" >&5
$as_echo "${abi_linalg_elpa_version}" >&6; }
  if test "${abi_linalg_elpa_version}" = "none"; then
    as_fn_error $? "ELPA version was not recognized!" "$LINENO" 5
  fi

    fi
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for PLASMA support in specified libraries" >&5
$as_echo_n "checking for PLASMA support in specified libraries... " >&6; }
  abi_linalg_has_plasma="${abi_linalg_has_lapacke}"
  if test "${abi_linalg_has_plasma}" = "yes"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main

        use plasma
      
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_plasma="yes"
else
  abi_linalg_has_plasma="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    if test "${abi_linalg_has_plasma}" = "yes"; then
      cat > conftest.$ac_ext <<_ACEOF
      program main

          call plasma_zhegv
        
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_plasma="yes"
else
  abi_linalg_has_plasma="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_plasma}" >&5
$as_echo "${abi_linalg_has_plasma}" >&6; }

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for MAGMA (version>=1.1.0) support in specified libraries" >&5
$as_echo_n "checking for MAGMA (version>=1.1.0) support in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call magmaf_zhegvd
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_magma="yes"
else
  abi_linalg_has_magma="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_magma}" >&5
$as_echo "${abi_linalg_has_magma}" >&6; }
  if test "${abi_linalg_has_magma}" = "yes"; then
    
    abi_linalg_has_magma_15="no"

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for magma_init/magma_finalize support in specified MAGMA libraries" >&5
$as_echo_n "checking for magma_init/magma_finalize support in specified MAGMA libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call magmaf_init
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_magma_15="yes"
else
  abi_linalg_has_magma_15="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_magma_15}" >&5
$as_echo "${abi_linalg_has_magma_15}" >&6; }

  if test "${abi_linalg_has_magma_15}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MAGMA_15 1" >>confdefs.h

  fi

  fi

    LIBS="${tmp_saved_LIBS}"
  FCFLAGS="${tmp_saved_FCFLAGS}"


  elif test "${lib_linalg_flavor}" != "none"; then
    case "${abi_linalg_chk_serial}" in

      acml)
        abi_linalg_fcflags=""
        abi_linalg_ldflags=""
        abi_linalg_blas_libs="acml"
        abi_linalg_blas_prqs="-lacml_mv"
        abi_linalg_lapack_libs="acml"
        abi_linalg_lapack_prqs=""
        abi_linalg_lapacke_libs="acml"
        abi_linalg_lapacke_prqs=""
        abi_linalg_blacs_libs="acml"
        abi_linalg_blacs_prqs=""
        abi_linalg_scalapack_libs="acml"
        abi_linalg_scalapack_prqs=""
        ;;

      asl)
        abi_linalg_fcflags=""
        abi_linalg_ldflags=""
        abi_linalg_blas_libs="asl"
        abi_linalg_blas_prqs=""
        abi_linalg_lapack_libs="asl"
        abi_linalg_lapack_prqs=""
        abi_linalg_lapacke_libs="asl"
        abi_linalg_lapacke_prqs=""
        abi_linalg_blacs_libs="asl"
        abi_linalg_blacs_prqs=""
        abi_linalg_scalapack_libs="asl"
        abi_linalg_scalapack_prqs=""
        ;;

      atlas)
        abi_linalg_fcflags=""
        abi_linalg_ldflags=""
        abi_linalg_blas_libs="f77blas"
        abi_linalg_blas_prqs="-lcblas -latlas"
        abi_linalg_lapack_libs="lapack"
        abi_linalg_lapack_prqs=""
        abi_linalg_lapacke_libs=""
        abi_linalg_lapacke_prqs=""
        abi_linalg_blacs_libs="atlas"
        abi_linalg_blacs_prqs="-lscalapack"
        abi_linalg_scalapack_libs="scalapack"
        abi_linalg_scalapack_prqs=""
        ;;

      essl)
        abi_linalg_fcflags="-qessl"
        abi_linalg_ldflags="-qessl"
        abi_linalg_blas_libs="essl"
        abi_linalg_blas_prqs=""
        abi_linalg_lapack_libs="essl"
        abi_linalg_lapack_prqs=""
        abi_linalg_lapacke_libs="essl"
        abi_linalg_lapacke_prqs=""
        abi_linalg_blacs_libs="essl"
        abi_linalg_blacs_prqs=""
        abi_linalg_scalapack_libs="essl"
        abi_linalg_scalapack_prqs=""
        ;;

      mkl)
        abi_linalg_fcflags=""
        abi_linalg_ldflags=""
        if test "${abi_cpu_bits}" = "64"; then
          abi_linalg_blas_libs="mkl_intel_lp64"
          if test "${MKLROOT}" != ""; then
            abi_linalg_blas_prqs="-L${MKLROOT}/lib/intel64 -lmkl_sequential -lmkl_core -lpthread -lm"
          else
            abi_linalg_blas_prqs="-lmkl_sequential -lmkl_core -lpthread -lm"
          fi
          abi_linalg_lapack_libs="mkl_intel_lp64"
          abi_linalg_lapack_prqs=""
          abi_linalg_lapacke_libs=""
          abi_linalg_lapacke_prqs=""
          abi_linalg_blacs_libs="mkl_blacs_intelmpi_lp64"
          abi_linalg_blacs_prqs=""
          abi_linalg_scalapack_libs="mkl_scalapack_lp64"
          abi_linalg_scalapack_prqs=""
        else
          abi_linalg_blas_libs="mkl_intel"
          if test "${MKLROOT}" != ""; then
            abi_linalg_blas_prqs="-L${MKLROOT}/lib/ia32 -lmkl_sequential -lmkl_core -lpthread -lm"
          else
            abi_linalg_blas_prqs="-lmkl_sequential -lmkl_core -lpthread -lm"
          fi
          abi_linalg_lapack_libs="mkl_intel"
          abi_linalg_lapack_prqs=""
          abi_linalg_lapacke_libs=""
          abi_linalg_lapacke_prqs=""
          abi_linalg_blacs_libs="mkl_blacs_intelmpi"
          abi_linalg_blacs_prqs=""
          abi_linalg_scalapack_libs="mkl_scalapack_core"
          abi_linalg_scalapack_prqs=""
        fi
        ;;

      netlib|goto)
        abi_linalg_fcflags=""
        abi_linalg_ldflags=""
        if test "${abi_linalg_chk_serial}" = "goto"; then
          abi_linalg_blas_libs="goto"
          abi_linalg_blas_prqs=""
        else
          abi_linalg_blas_libs="blas"
          abi_linalg_blas_prqs=""
        fi
        abi_linalg_lapack_libs="lapack"
        abi_linalg_lapack_prqs=""
        abi_linalg_lapacke_libs="lapacke"
        abi_linalg_lapacke_prqs=""
        abi_linalg_blacs_libs="blacs"
        abi_linalg_blacs_prqs="-lblacsCinit -lblacsF77init"
        abi_linalg_scalapack_libs="scalapack"
        abi_linalg_scalapack_prqs=""
        ;;

      *)
        if test "${abi_linalg_fallback}" = "no"; then
          as_fn_error $? "unknown linear algebra flavor '${lib_linalg_flavor}'" "$LINENO" 5
        fi
        ;;

    esac

        abi_linalg_elpa_libs="elpa"
    abi_linalg_elpa_prqs=""

        abi_linalg_plasma_libs="plasma"
    abi_linalg_plasma_prqs="-lcoreblas -lcorelapack"

        abi_linalg_magma_libs="magma"
    abi_linalg_magma_prqs="${lib_gpu_libs}"

        

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for AXPBY support in specified BLAS libraries" >&5
$as_echo_n "checking for AXPBY support in specified BLAS libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call saxpby
      call daxpby
      call caxpby
      call zaxpby
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_axpby="yes"
else
  abi_linalg_has_axpby="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_axpby}" >&5
$as_echo "${abi_linalg_has_axpby}" >&6; }

  if test "${abi_linalg_has_axpby}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_AXPBY 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for gemm3m in specified libraries" >&5
$as_echo_n "checking for gemm3m in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

     call cgemm3m
     call zgemm3m
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_gemm3m="yes"
else
  abi_linalg_has_gemm3m="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_gemm3m}" >&5
$as_echo "${abi_linalg_has_gemm3m}" >&6; }

  if test "${abi_linalg_has_gemm3m}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_GEMM3M 1" >>confdefs.h

  fi




        if test "${abi_linalg_chk_serial}" = "mkl"; then
      

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mkl_imatcopy in specified libraries" >&5
$as_echo_n "checking for mkl_imatcopy in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call mkl_simatcopy
      call mkl_dimatcopy
      call mkl_cimatcopy
      call mkl_zimatcopy
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_mkl_has_imatcopy="yes"
else
  abi_linalg_mkl_has_imatcopy="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mkl_has_imatcopy}" >&5
$as_echo "${abi_linalg_mkl_has_imatcopy}" >&6; }

  if test "${abi_linalg_mkl_has_imatcopy}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MKL_IMATCOPY 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mkl_omatcopy in specified libraries" >&5
$as_echo_n "checking for mkl_omatcopy in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call mkl_somatcopy
      call mkl_domatcopy
      call mkl_comatcopy
      call mkl_zomatcopy
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_mkl_has_omatcopy="yes"
else
  abi_linalg_mkl_has_omatcopy="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mkl_has_omatcopy}" >&5
$as_echo "${abi_linalg_mkl_has_omatcopy}" >&6; }

  if test "${abi_linalg_mkl_has_omatcopy}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MKL_OMATCOPY 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mkl_omatadd in specified libraries" >&5
$as_echo_n "checking for mkl_omatadd in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      call mkl_somatadd
      call mkl_comatadd
      call mkl_domatadd
      call mkl_zomatadd
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_mkl_has_omatadd="yes"
else
  abi_linalg_mkl_has_omatadd="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mkl_has_omatadd}" >&5
$as_echo "${abi_linalg_mkl_has_omatadd}" >&6; }

  if test "${abi_linalg_mkl_has_omatadd}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MKL_OMATADD 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mkl_set/get_threads in specified libraries" >&5
$as_echo_n "checking for mkl_set/get_threads in specified libraries... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      integer :: a
      a = mkl_get_max_threads()
      call mkl_set_num_threads
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_mkl_has_threads="yes"
else
  abi_linalg_mkl_has_threads="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mkl_has_threads}" >&5
$as_echo "${abi_linalg_mkl_has_threads}" >&6; }

  if test "${abi_linalg_mkl_has_threads}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MKL_THREADS 1" >>confdefs.h

  fi


    fi

        if test "${abi_linalg_fallback}" = "no"; then
      FCFLAGS="${abi_saved_FCFLAGS} ${abi_linalg_fcflags}"
      LDFLAGS="${abi_saved_LDFLAGS} ${abi_linalg_ldflags}"
      
    abi_linalg_has_blas="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing zgemm" >&5
$as_echo_n "checking for library containing zgemm... " >&6; }
if ${ac_cv_search_zgemm+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call zgemm
      end
_ACEOF
for ac_lib in '' ${abi_linalg_blas_libs}; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib ${abi_linalg_blas_prqs} ${abi_linalg_libs} $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_zgemm=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_zgemm+:} false; then :
  break
fi
done
if ${ac_cv_search_zgemm+:} false; then :
  
else
  ac_cv_search_zgemm=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_zgemm" >&5
$as_echo "$ac_cv_search_zgemm" >&6; }
ac_res=$ac_cv_search_zgemm
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_linalg_has_blas="yes"
else
  abi_linalg_has_blas="no"
fi

  if test "${abi_linalg_has_blas}" = "yes"; then
    if test "${ac_cv_search_zgemm}" != "none required"; then
      abi_linalg_libs="${ac_cv_search_zgemm} ${abi_linalg_blas_prqs} ${abi_linalg_libs}"
    fi
  fi

      
    abi_linalg_has_lapack="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing zhpev" >&5
$as_echo_n "checking for library containing zhpev... " >&6; }
if ${ac_cv_search_zhpev+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call zhpev
      end
_ACEOF
for ac_lib in '' ${abi_linalg_lapack_libs}; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib ${abi_linalg_lapack_prqs} ${abi_linalg_libs} $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_zhpev=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_zhpev+:} false; then :
  break
fi
done
if ${ac_cv_search_zhpev+:} false; then :
  
else
  ac_cv_search_zhpev=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_zhpev" >&5
$as_echo "$ac_cv_search_zhpev" >&6; }
ac_res=$ac_cv_search_zhpev
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_linalg_has_lapack="yes"
else
  abi_linalg_has_lapack="no"
fi

  if test "${abi_linalg_has_lapack}" = "yes"; then
    if test "${ac_cv_search_zhpev}" != "none required"; then
      abi_linalg_libs="${ac_cv_search_zhpev} ${abi_linalg_lapack_prqs} ${abi_linalg_libs}"
    fi
  fi


            case "${abi_linalg_chk_mpi}" in
        scalapack)
          if test "${enable_mpi}" != "yes"; then
            as_fn_error $? "ScaLAPACK support requires MPI" "$LINENO" 5
          fi
          
    abi_linalg_has_blacs="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing blacs_gridinit" >&5
$as_echo_n "checking for library containing blacs_gridinit... " >&6; }
if ${ac_cv_search_blacs_gridinit+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call blacs_gridinit
      end
_ACEOF
for ac_lib in '' ${abi_linalg_blacs_libs}; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib ${abi_linalg_blacs_prqs} ${abi_linalg_libs} $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_blacs_gridinit=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_blacs_gridinit+:} false; then :
  break
fi
done
if ${ac_cv_search_blacs_gridinit+:} false; then :
  
else
  ac_cv_search_blacs_gridinit=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_blacs_gridinit" >&5
$as_echo "$ac_cv_search_blacs_gridinit" >&6; }
ac_res=$ac_cv_search_blacs_gridinit
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_linalg_has_blacs="yes"
else
  abi_linalg_has_blacs="no"
fi

  if test "${abi_linalg_has_blacs}" = "yes"; then
    if test "${ac_cv_search_blacs_gridinit}" != "none required"; then
      abi_linalg_libs="${ac_cv_search_blacs_gridinit} ${abi_linalg_blacs_prqs} ${abi_linalg_libs}"
    fi
  fi

          
    abi_linalg_has_scalapack="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing pzheevx" >&5
$as_echo_n "checking for library containing pzheevx... " >&6; }
if ${ac_cv_search_pzheevx+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call pzheevx
      end
_ACEOF
for ac_lib in '' ${abi_linalg_scalapack_libs}; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib ${abi_linalg_scalapack_prqs} ${abi_linalg_libs} $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_pzheevx=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_pzheevx+:} false; then :
  break
fi
done
if ${ac_cv_search_pzheevx+:} false; then :
  
else
  ac_cv_search_pzheevx=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_pzheevx" >&5
$as_echo "$ac_cv_search_pzheevx" >&6; }
ac_res=$ac_cv_search_pzheevx
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_linalg_has_scalapack="yes"
else
  abi_linalg_has_scalapack="no"
fi

  if test "${abi_linalg_has_scalapack}" = "yes"; then
    if test "${ac_cv_search_pzheevx}" != "none required"; then
      abi_linalg_libs="${ac_cv_search_pzheevx} ${abi_linalg_scalapack_prqs} ${abi_linalg_libs}"
    fi
  fi

          ;;
        plasma)
          if test "${enable_mpi}" != "yes"; then
            as_fn_error $? "PLASMA support requires MPI" "$LINENO" 5
          fi
          if test "${enable_openmp}" != "yes"; then
            as_fn_error $? "PLASMA support requires openMP" "$LINENO" 5
          fi
          if test "${fc_has_iso_c_binding}" != "yes"; then
            as_fn_error $? "PLASMA support requires Fortran 2003 ISO C bindings" "$LINENO" 5
          fi
          
    abi_linalg_has_lapacke="no"

      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing zhpev_ C API" >&5
$as_echo_n "checking for library containing zhpev_ C API... " >&6; }
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <lapacke.h>
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
zhpev_;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  abi_linalg_has_lapacke="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  if test "${abi_linalg_has_lapacke}" = "no"; then
    tmp_saved_LIBS="${LIBS}"
    for test_lib in ${abi_linalg_lapacke_libs}; do
      LIBS="-l${test_lib} ${abi_linalg_lapacke_prqs} ${tmp_saved_LIBS}"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <lapacke.h>
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
zhpev_;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  abi_linalg_has_lapacke="yes"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
      if test "${abi_linalg_has_lapacke}" = "yes"; then
        abi_linalg_libs="-l${test_lib} ${abi_linalg_lapacke_prqs} ${abi_linalg_libs}"
        break
      fi
    done
    if test "${abi_linalg_has_lapacke}" = "no"; then
      LIBS="${tmp_saved_LIBS}"
    fi
  fi
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_lapacke}" >&5
$as_echo "${abi_linalg_has_lapacke}" >&6; }

          if test "${abi_linalg_has_lapacke}" != ""; then
            
    abi_linalg_has_plasma="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing plasma_zhegv" >&5
$as_echo_n "checking for library containing plasma_zhegv... " >&6; }
if ${ac_cv_search_plasma_zhegv+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call plasma_zhegv
      end
_ACEOF
for ac_lib in '' ${abi_linalg_plasma_libs}; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib ${abi_linalg_plasma_prqs} ${abi_linalg_libs} $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_plasma_zhegv=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_plasma_zhegv+:} false; then :
  break
fi
done
if ${ac_cv_search_plasma_zhegv+:} false; then :
  
else
  ac_cv_search_plasma_zhegv=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_plasma_zhegv" >&5
$as_echo "$ac_cv_search_plasma_zhegv" >&6; }
ac_res=$ac_cv_search_plasma_zhegv
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_linalg_has_plasma="yes"
else
  abi_linalg_has_plasma="no"
fi

  if test "${abi_linalg_has_plasma}" = "yes"; then
    if test "${ac_cv_search_plasma_zhegv}" != "none required"; then
      abi_linalg_libs="${ac_cv_search_plasma_zhegv} ${abi_linalg_plasma_prqs} ${abi_linalg_libs}"
    fi
  fi

          fi
          ;;
        *)
          if test "${abi_linalg_chk_mpi}" != ""; then
            as_fn_error $? "library search for ${abi_linalg_chk_mpi} not implemented" "$LINENO" 5
          fi
          ;;
      esac

            case "${abi_linalg_chk_mpiext}" in
        elpa)
          if test "${enable_mpi}" != "yes"; then
            as_fn_error $? "ELPA support requires MPI" "$LINENO" 5
          fi
          if test "${abi_linalg_has_scalapack}" != "yes"; then
            as_fn_error $? "ELPA support requires ScaLAPACK" "$LINENO" 5
          fi
          
    abi_linalg_has_elpa="no"

      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ELPA library" >&5
$as_echo_n "checking for ELPA library... " >&6; }
  
    abi_linalg_has_elpa="no"

# Check ELPA v2017+
  cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  if test "${abi_linalg_has_elpa}" = "yes"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa
       integer :: nrows=1,err
       class(elpa_t),pointer :: e
       call e%set("local_nrows",nrows,err)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  fi

# Check ELPA v2017-
  if test "${abi_linalg_has_elpa}" = "no"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa1
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    if test "${abi_linalg_has_elpa}" = "yes"; then
      cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa1
         integer,parameter :: n=1,comm=1 ; integer :: comm1,comm2,success
         success=get_elpa_communicators(comm,n,n,comm1,comm2)
        
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi
  fi

# Check ELPA v2013-
  if test "${abi_linalg_has_elpa}" = "no"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
call elpa_transpose_vectors
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  fi

  if test "${abi_linalg_has_elpa}" = "no"; then
    tmp_saved_LIBS="${LIBS}"
    for test_lib in ${abi_linalg_elpa_libs}; do
      LIBS="-l${test_lib} ${abi_linalg_elpa_prqs} ${tmp_saved_LIBS}"
      
    abi_linalg_has_elpa="no"

# Check ELPA v2017+
  cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  if test "${abi_linalg_has_elpa}" = "yes"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa
       integer :: nrows=1,err
       class(elpa_t),pointer :: e
       call e%set("local_nrows",nrows,err)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  fi

# Check ELPA v2017-
  if test "${abi_linalg_has_elpa}" = "no"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa1
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    if test "${abi_linalg_has_elpa}" = "yes"; then
      cat > conftest.$ac_ext <<_ACEOF
      program main
use elpa1
         integer,parameter :: n=1,comm=1 ; integer :: comm1,comm2,success
         success=get_elpa_communicators(comm,n,n,comm1,comm2)
        
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi
  fi

# Check ELPA v2013-
  if test "${abi_linalg_has_elpa}" = "no"; then
    cat > conftest.$ac_ext <<_ACEOF
      program main
call elpa_transpose_vectors
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa="yes"
else
  abi_linalg_has_elpa="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  fi

      if test "${abi_linalg_has_elpa}" = "yes"; then
        abi_linalg_libs="-l${test_lib} ${abi_linalg_elpa_prqs} ${abi_linalg_libs}"
        break
      fi
    done
    if test "${abi_linalg_has_elpa}" = "no"; then
      LIBS="${tmp_saved_LIBS}"
    fi
  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_has_elpa}" >&5
$as_echo "${abi_linalg_has_elpa}" >&6; }

  if test "${abi_linalg_has_elpa}" = "yes"; then
    

  abi_linalg_elpa_version="none"
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ELPA library version" >&5
$as_echo_n "checking for ELPA library version... " >&6; }

# Check for ELPA 2017
  cat > conftest.$ac_ext <<_ACEOF
      program main

    use elpa
    class(elpa_t),pointer :: e
    integer,parameter :: na=1,ncol=1,nrow=1 ; integer :: err
    real*8 :: a(ncol,nrow),ev(na),q(ncol,nrow)
    call e%eigenvectors(a,ev,q,err)
    call e%cholesky(a,err)
    
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_linalg_has_elpa_2017="yes"
else
  abi_linalg_has_elpa_2017="no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  if test "${abi_linalg_has_elpa_2017}" = "yes"; then
    abi_linalg_elpa_version="2017"
    
$as_echo "@%:@define HAVE_LINALG_ELPA_2017 1" >>confdefs.h

    
$as_echo "@%:@define HAVE_ELPA_FORTRAN2008 1" >>confdefs.h

  else

# Check for ELPA 2016
   cat > conftest.$ac_ext <<_ACEOF
      program main

     use elpa1
     logical :: success1,debug
     integer,parameter :: na=1,lda=1,ldq=1,mcol=1,nev=1,nblk=1,nrow=1
     integer :: comm_g=1,comm_r=1,comm_c=1,success2
     real*8 :: a(lda,nrow),ev(na),q(ldq,nrow)
     complex*16 :: ac(lda,nrow)
     success1=elpa_solve_evp_real_1stage(na,nev,a,lda,ev,q,ldq,nblk,mcol,comm_r,comm_c)
     success1=elpa_cholesky_complex(na,ac,lda,nblk,nrow,comm_r,comm_c,debug)
     success2=elpa_get_communicators(comm_g,na,na,comm_r,comm_c)
     
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa_2016="yes"
else
  abi_linalg_has_elpa_2016="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
   if test "${abi_linalg_has_elpa_2016}" = "yes"; then
     abi_linalg_elpa_version="2016"
     
$as_echo "@%:@define HAVE_LINALG_ELPA_2016 1" >>confdefs.h

   else

# Check for ELPA 2015
    cat > conftest.$ac_ext <<_ACEOF
      program main

      use elpa1
      logical :: success1,debug
      integer,parameter :: na=1,lda=1,ldq=1,nev=1,nblk=1
      integer :: comm_g=1,comm_r=1,comm_c=1,success2
      real*8 :: a(lda,na),ev(na),q(ldq,na)
      complex*16 :: ac(lda,na)
      success1=solve_evp_real(na,nev,a,lda,ev,q,ldq,nblk,comm_r,comm_c)
      call cholesky_complex(na,ac,lda,nblk,comm_r,comm_c,debug,success1)
      success2=get_elpa_row_col_comms(comm_g,na,na,comm_r,comm_c)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa_2015="yes"
else
  abi_linalg_has_elpa_2015="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    if test "${abi_linalg_has_elpa_2015}" = "yes"; then
      abi_linalg_elpa_version="2015"
       
$as_echo "@%:@define HAVE_LINALG_ELPA_2015 1" >>confdefs.h

    else

# Check for ELPA 2014
     cat > conftest.$ac_ext <<_ACEOF
      program main

       use elpa1
       logical :: success
       integer,parameter :: na=1,lda=1,ldq=1,nev=1,nblk=1,comm_r=1,comm_c=1
       real*8 :: a(lda,na),ev(na),q(ldq,na)
       complex*16 :: ac(lda,na)
       success=solve_evp_real(na,nev,a,lda,ev,q,ldq,nblk,comm_r,comm_c)
       call invert_trm_complex(na,ac,lda,nblk,comm_r,comm_c,success)
       
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa_2014="yes"
else
  abi_linalg_has_elpa_2014="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
     if test "${abi_linalg_has_elpa_2014}" = "yes"; then
       abi_linalg_elpa_version="2014"
       
$as_echo "@%:@define HAVE_LINALG_ELPA_2014 1" >>confdefs.h

     else

# Check for ELPA 2011-2013
      cat > conftest.$ac_ext <<_ACEOF
      program main

        use elpa1
        integer,parameter :: na=1,lda=1,ldq=1,nev=1,nblk=1,comm_r=1,comm_c=1
        real*8 :: a(lda,na),ev(na),q(ldq,na)
        complex*16 :: ac(lda,na)
        call solve_evp_real(na,nev,a,lda,ev,q,ldq,nblk,comm_r,comm_c)
        call invert_trm_complex(na,ac,lda,nblk,comm_r,comm_c)
        
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_linalg_has_elpa_2013="yes"
else
  abi_linalg_has_elpa_2013="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
      if test "${abi_linalg_has_elpa_2013}" = "yes"; then
        abi_linalg_elpa_version="2011-13"
        
$as_echo "@%:@define HAVE_LINALG_ELPA_2013 1" >>confdefs.h

      fi
     fi
    fi
   fi
  fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_elpa_version}" >&5
$as_echo "${abi_linalg_elpa_version}" >&6; }
  if test "${abi_linalg_elpa_version}" = "none"; then
    as_fn_error $? "ELPA version was not recognized!" "$LINENO" 5
  fi

  fi

          if test "${abi_linalg_has_elpa}" == "no"; then
            as_fn_error $? "ELPA library requested but not found (libelpa.x and/or elpa1.mod missing)" "$LINENO" 5
          fi
          ;;
        *)
          if test "${abi_linalg_chk_mpiext}" != ""; then
            as_fn_error $? "library search for ${abi_linalg_chk_mpiext} not implemented" "$LINENO" 5
          fi
          ;;
      esac

            case "${abi_linalg_chk_gpu}" in
        magma)
          if test "${enable_gpu}" != "yes"; then
            as_fn_error $? "MAGMA requires GPU support" "$LINENO" 5
          fi
          
    abi_linalg_has_magma="no"

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing magmaf_zheevd" >&5
$as_echo_n "checking for library containing magmaf_zheevd... " >&6; }
if ${ac_cv_search_magmaf_zheevd+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call magmaf_zheevd
      end
_ACEOF
for ac_lib in '' ${abi_linalg_magma_libs}; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib ${abi_linalg_magma_prqs} ${abi_linalg_libs} $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_magmaf_zheevd=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_magmaf_zheevd+:} false; then :
  break
fi
done
if ${ac_cv_search_magmaf_zheevd+:} false; then :
  
else
  ac_cv_search_magmaf_zheevd=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_magmaf_zheevd" >&5
$as_echo "$ac_cv_search_magmaf_zheevd" >&6; }
ac_res=$ac_cv_search_magmaf_zheevd
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_linalg_has_magma="yes"
else
  abi_linalg_has_magma="no"
fi

  if test "${abi_linalg_has_magma}" = "yes"; then
    if test "${ac_cv_search_magmaf_zheevd}" != "none required"; then
      abi_linalg_libs="${ac_cv_search_magmaf_zheevd} ${abi_linalg_magma_prqs} ${abi_linalg_libs}"
    fi
  fi

          if test "${abi_linalg_has_magma}" == "no"; then
            as_fn_error $? "Magma library requested but not found" "$LINENO" 5
          fi
          ;;
        *)
          if test "${abi_linalg_chk_gpu}" != ""; then
            as_fn_error $? "library search for ${abi_linalg_chk_gpu} not implemented" "$LINENO" 5
          fi
          ;;
      esac
    fi
  fi

    if test "${abi_linalg_has_blas}" = "yes" -a \
          "${abi_linalg_has_lapack}" = "yes"; then
    abi_linalg_serial="yes"
    if test "${abi_linalg_has_blacs}" = "yes" -a \
            "${abi_linalg_has_scalapack}" = "yes"; then
      abi_linalg_mpi="yes"
    fi
    if test "${abi_linalg_has_plasma}" = "yes"; then
      abi_linalg_mpi="yes"
    fi
    if test "${abi_linalg_has_magma}" = "yes"; then
      abi_linalg_gpu="yes"
    fi
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we have a serial linear algebra support" >&5
$as_echo_n "checking whether we have a serial linear algebra support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_serial}" >&5
$as_echo "${abi_linalg_serial}" >&6; }
  if test "${abi_linalg_serial}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG 1" >>confdefs.h

    
$as_echo "@%:@define HAVE_LINALG_SERIAL 1" >>confdefs.h


    case "${abi_linalg_chk_serial}" in
      asl)
        
$as_echo "@%:@define HAVE_LINALG_ASL 1" >>confdefs.h

        ;;
      essl)
        
$as_echo "@%:@define HAVE_LINALG_ESSL 1" >>confdefs.h

        ;;
    esac

    lib_linalg_fcflags="${abi_linalg_fcflags}"
    lib_linalg_ldflags="${abi_linalg_ldflags}"
    lib_linalg_incs="${abi_linalg_incs}"
    lib_linalg_libs="${abi_linalg_libs}"
  else
    lib_linalg_flavor="broken"
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: falling back to internal linear algebra libraries" >&5
$as_echo "$as_me: WARNING: falling back to internal linear algebra libraries" >&2;}
    abi_fallbacks="${abi_fallbacks} linalg"
    lib_linalg_flavor="netlib-fallback"
    abi_dft_linalg_fallback="yes"
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we have a MPI linear algebra support" >&5
$as_echo_n "checking whether we have a MPI linear algebra support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_mpi}" >&5
$as_echo "${abi_linalg_mpi}" >&6; }
  if test "${abi_linalg_mpi}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_MPI 1" >>confdefs.h

    case "${abi_linalg_chk_mpi}" in
      plasma)
        
$as_echo "@%:@define HAVE_LINALG_PLASMA 1" >>confdefs.h

        ;;
      scalapack)
        
$as_echo "@%:@define HAVE_LINALG_SCALAPACK 1" >>confdefs.h

        ;;
    esac
    case "${abi_linalg_chk_mpiext}" in
      elpa)
        
$as_echo "@%:@define HAVE_LINALG_ELPA 1" >>confdefs.h

        ;;
    esac
  elif test "${abi_linalg_chk_mpi}" != ""; then
    lib_linalg_flavor="broken"
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we have a GPU linear algebra support" >&5
$as_echo_n "checking whether we have a GPU linear algebra support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_linalg_gpu}" >&5
$as_echo "${abi_linalg_gpu}" >&6; }
  if test "${abi_linalg_gpu}" = "yes"; then
    
$as_echo "@%:@define HAVE_LINALG_GPU 1" >>confdefs.h

    case "${abi_linalg_chk_gpu}" in
      magma)
        
$as_echo "@%:@define HAVE_LINALG_MAGMA 1" >>confdefs.h

        ;;
    esac
  elif test "${abi_linalg_chk_gpu}" != ""; then
    lib_linalg_flavor="broken"
  fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  FCFLAGS="${abi_saved_FCFLAGS}"
  LDFLAGS="${abi_saved_LDFLAGS}"
  LIBS="${abi_saved_LIBS}"
  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the actual linear algebra support" >&5
$as_echo_n "checking for the actual linear algebra support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_linalg_flavor}" >&5
$as_echo "${lib_linalg_flavor}" >&6; }
  if test "${lib_linalg_flavor}" = "broken"; then
    
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

    as_fn_error $? "the requested ${with_linalg_flavor} linear algebra flavor is not supported on this architecture" "$LINENO" 5
  fi

    
  
  
  
  


# FIXME: copying linear algebra tarball for now
tmp_linalg_tarball="lapack-abinit_6.10.tar.gz"
if test ! -s "${abinit_tardir}/${tmp_linalg_tarball}"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: copying linear algebra tarball to tarball repository" >&5
$as_echo "$as_me: copying linear algebra tarball to tarball repository" >&6;}
  cp "${abinit_srcdir}/fallbacks/transient/${tmp_linalg_tarball}" \
    "${abinit_tardir}"
fi

# External FFT support

    lib_fft_flavor="${with_fft_flavor}"
  lib_fft_fcflags=""
  lib_fft_ldflags=""
  lib_fft_incs=""
  lib_fft_libs=""
  abi_fft_serial="no"
  abi_fft_mpi="no"

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  abi_saved_LIBS="${LIBS}"
  CPPFLAGS="${with_fft_incs} ${CPPFLAGS}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${with_fft_libs} ${LIBS}"
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the requested FFT support" >&5
$as_echo_n "checking for the requested FFT support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_fft_flavor}" >&5
$as_echo "${with_fft_flavor}" >&6; }

    if test "${with_fft_flavor}" != "none"; then

    case "${with_fft_flavor}" in

      asl)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing zfc3fb" >&5
$as_echo_n "checking for library containing zfc3fb... " >&6; }
if ${ac_cv_search_zfc3fb+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call zfc3fb
      end
_ACEOF
for ac_lib in '' asl; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_zfc3fb=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_zfc3fb+:} false; then :
  break
fi
done
if ${ac_cv_search_zfc3fb+:} false; then :
  
else
  ac_cv_search_zfc3fb=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_zfc3fb" >&5
$as_echo "$ac_cv_search_zfc3fb" >&6; }
ac_res=$ac_cv_search_zfc3fb
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_zfc3fb\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call zfc3fb
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = zfc3fb
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_ASL 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      custom)
        if test "${with_fft_libs}" == ""; then
          as_fn_error $? "you must specify custom FFT libraries (--with-fft-libs)" "$LINENO" 5
        fi
        abi_fft_serial="yes"
        abi_fft_mpi="yes"
        lib_fft_incs="${with_fft_incs}"
        lib_fft_libs="${with_fft_libs}"
        ;;

      fftw2)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing fftw_execute" >&5
$as_echo_n "checking for library containing fftw_execute... " >&6; }
if ${ac_cv_search_fftw_execute+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call fftw_execute
      end
_ACEOF
for ac_lib in '' fftw2; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_fftw_execute=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_fftw_execute+:} false; then :
  break
fi
done
if ${ac_cv_search_fftw_execute+:} false; then :
  
else
  ac_cv_search_fftw_execute=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_fftw_execute" >&5
$as_echo "$ac_cv_search_fftw_execute" >&6; }
ac_res=$ac_cv_search_fftw_execute
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_fftw_execute\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call fftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = fftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_FFTW2 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      fftw2-threads)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing fftw_init_threads" >&5
$as_echo_n "checking for library containing fftw_init_threads... " >&6; }
if ${ac_cv_search_fftw_init_threads+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call fftw_init_threads
      end
_ACEOF
for ac_lib in '' fftw2; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_fftw_init_threads=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_fftw_init_threads+:} false; then :
  break
fi
done
if ${ac_cv_search_fftw_init_threads+:} false; then :
  
else
  ac_cv_search_fftw_init_threads=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_fftw_init_threads" >&5
$as_echo "$ac_cv_search_fftw_init_threads" >&6; }
ac_res=$ac_cv_search_fftw_init_threads
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_fftw_init_threads\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call fftw_init_threads
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = fftw_init_threads
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_FFTW2_THREADS 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      fftw3)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dfftw_execute" >&5
$as_echo_n "checking for library containing dfftw_execute... " >&6; }
if ${ac_cv_search_dfftw_execute+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call dfftw_execute
      end
_ACEOF
for ac_lib in '' fftw3; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_dfftw_execute=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_dfftw_execute+:} false; then :
  break
fi
done
if ${ac_cv_search_dfftw_execute+:} false; then :
  
else
  ac_cv_search_dfftw_execute=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_dfftw_execute" >&5
$as_echo "$ac_cv_search_dfftw_execute" >&6; }
ac_res=$ac_cv_search_dfftw_execute
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_dfftw_execute\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call dfftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = dfftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_FFTW3 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      fftw3-mkl)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dfftw_execute" >&5
$as_echo_n "checking for library containing dfftw_execute... " >&6; }
if ${ac_cv_search_dfftw_execute+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call dfftw_execute
      end
_ACEOF
for ac_lib in '' fftw3; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_dfftw_execute=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_dfftw_execute+:} false; then :
  break
fi
done
if ${ac_cv_search_dfftw_execute+:} false; then :
  
else
  ac_cv_search_dfftw_execute=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_dfftw_execute" >&5
$as_echo "$ac_cv_search_dfftw_execute" >&6; }
ac_res=$ac_cv_search_dfftw_execute
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_dfftw_execute\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call dfftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = dfftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_FFTW3_MKL 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      fftw3-threads)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dfftw_execute" >&5
$as_echo_n "checking for library containing dfftw_execute... " >&6; }
if ${ac_cv_search_dfftw_execute+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call dfftw_execute
      end
_ACEOF
for ac_lib in '' fftw3; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_dfftw_execute=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_dfftw_execute+:} false; then :
  break
fi
done
if ${ac_cv_search_dfftw_execute+:} false; then :
  
else
  ac_cv_search_dfftw_execute=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_dfftw_execute" >&5
$as_echo "$ac_cv_search_dfftw_execute" >&6; }
ac_res=$ac_cv_search_dfftw_execute
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_dfftw_execute\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call dfftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = dfftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi
	
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dfftw_init_threads" >&5
$as_echo_n "checking for library containing dfftw_init_threads... " >&6; }
if ${ac_cv_search_dfftw_init_threads+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call dfftw_init_threads
      end
_ACEOF
for ac_lib in '' fftw3_threads; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_dfftw_init_threads=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_dfftw_init_threads+:} false; then :
  break
fi
done
if ${ac_cv_search_dfftw_init_threads+:} false; then :
  
else
  ac_cv_search_dfftw_init_threads=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_dfftw_init_threads" >&5
$as_echo "$ac_cv_search_dfftw_init_threads" >&6; }
ac_res=$ac_cv_search_dfftw_init_threads
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_dfftw_init_threads\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call dfftw_init_threads
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = dfftw_init_threads
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_FFTW3 1" >>confdefs.h

          
$as_echo "@%:@define HAVE_FFT_FFTW3_THREADS 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      fftw3-mpi)
	
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dfftw_execute" >&5
$as_echo_n "checking for library containing dfftw_execute... " >&6; }
if ${ac_cv_search_dfftw_execute+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call dfftw_execute
      end
_ACEOF
for ac_lib in '' fftw3; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_dfftw_execute=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_dfftw_execute+:} false; then :
  break
fi
done
if ${ac_cv_search_dfftw_execute+:} false; then :
  
else
  ac_cv_search_dfftw_execute=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_dfftw_execute" >&5
$as_echo "$ac_cv_search_dfftw_execute" >&6; }
ac_res=$ac_cv_search_dfftw_execute
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_dfftw_execute\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call dfftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = dfftw_execute
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi
	
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dfftw_init_threads" >&5
$as_echo_n "checking for library containing dfftw_init_threads... " >&6; }
if ${ac_cv_search_dfftw_init_threads+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call dfftw_init_threads
      end
_ACEOF
for ac_lib in '' fftw3_threads; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_dfftw_init_threads=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_dfftw_init_threads+:} false; then :
  break
fi
done
if ${ac_cv_search_dfftw_init_threads+:} false; then :
  
else
  ac_cv_search_dfftw_init_threads=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_dfftw_init_threads" >&5
$as_echo "$ac_cv_search_dfftw_init_threads" >&6; }
ac_res=$ac_cv_search_dfftw_init_threads
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_dfftw_init_threads\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call dfftw_init_threads
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = dfftw_init_threads
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        #_ABI_FFT_CHECK([fftw3_mpi],[fftw_mpi_init])
        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_FFTW3 1" >>confdefs.h

          
$as_echo "@%:@define HAVE_FFT_FFTW3_THREADS 1" >>confdefs.h
	
          
$as_echo "@%:@define HAVE_FFT_FFTW3_MPI 1" >>confdefs.h
	
          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      dfti)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing DftiCreateDescriptor" >&5
$as_echo_n "checking for library containing DftiCreateDescriptor... " >&6; }
if ${ac_cv_search_DftiCreateDescriptor+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call DftiCreateDescriptor
      end
_ACEOF
for ac_lib in '' dfti; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_DftiCreateDescriptor=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_DftiCreateDescriptor+:} false; then :
  break
fi
done
if ${ac_cv_search_DftiCreateDescriptor+:} false; then :
  
else
  ac_cv_search_DftiCreateDescriptor=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_DftiCreateDescriptor" >&5
$as_echo "$ac_cv_search_DftiCreateDescriptor" >&6; }
ac_res=$ac_cv_search_DftiCreateDescriptor
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_DftiCreateDescriptor\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call DftiCreateDescriptor
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = DftiCreateDescriptor
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_DFTI 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      dfti-threads)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing DftiCreateDescriptor" >&5
$as_echo_n "checking for library containing DftiCreateDescriptor... " >&6; }
if ${ac_cv_search_DftiCreateDescriptor+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call DftiCreateDescriptor
      end
_ACEOF
for ac_lib in '' dfti; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_DftiCreateDescriptor=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_DftiCreateDescriptor+:} false; then :
  break
fi
done
if ${ac_cv_search_DftiCreateDescriptor+:} false; then :
  
else
  ac_cv_search_DftiCreateDescriptor=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_DftiCreateDescriptor" >&5
$as_echo "$ac_cv_search_DftiCreateDescriptor" >&6; }
ac_res=$ac_cv_search_DftiCreateDescriptor
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_DftiCreateDescriptor\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call DftiCreateDescriptor
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = DftiCreateDescriptor
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_DFTI 1" >>confdefs.h

          
$as_echo "@%:@define HAVE_FFT_DFTI_THREADS 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      #dfti-mpi)
      #  _ABI_FFT_CHECK([dfti_mpi],[fftw_mpi_init])
      #  if test "${abi_fft_serial}" = "yes"; then
      #    AC_DEFINE([HAVE_FFT_DFTI],1,[Define to 1 if you want to use the DFTI library.])
      #    AC_DEFINE([HAVE_FFT_DFTI_MPI],1,[Define to 1 if you want to use the distributed DFTI library.])	
      #    lib_fft_fcflags="${abi_fft_fcflags}"
      #    lib_fft_ldflags="${abi_fft_ldflags}"
      #    lib_fft_incs="${abi_fft_incs}"
      #    lib_fft_libs="${abi_fft_libs}"
      #  fi
      #  ;;

      #dfti-mpi-threads)
      #  _ABI_FFT_CHECK([dfti],[DftiCreateDescriptor])
      #  #_ABI_FFT_CHECK([dfti_mpi],[fftw_mpi_init])
      #  #_ABI_FFT_CHECK([dfti_threads],[dfftw_init_threads])
      #  if test "${abi_fft_serial}" = "yes"; then
      #    AC_DEFINE([HAVE_FFT_DFTI],1,[Define to 1 if you want to use the DFTI library.])
      #    AC_DEFINE([HAVE_FFT_DFTI_MPI],1,[Define to 1 if you want to use the distributed DFTI library.])	
      #    AC_DEFINE([HAVE_FFT_DFTI_THREADS],1,[Define to 1 if you want to use the threaded DFTI library.])	
      #    lib_fft_fcflags="${abi_fft_fcflags}"
      #    lib_fft_ldflags="${abi_fft_ldflags}"
      #    lib_fft_incs="${abi_fft_incs}"
      #    lib_fft_libs="${abi_fft_libs}"
      #  fi
      #  ;;

      mlib)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing c1dfft" >&5
$as_echo_n "checking for library containing c1dfft... " >&6; }
if ${ac_cv_search_c1dfft+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call c1dfft
      end
_ACEOF
for ac_lib in '' veclib; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_c1dfft=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_c1dfft+:} false; then :
  break
fi
done
if ${ac_cv_search_c1dfft+:} false; then :
  
else
  ac_cv_search_c1dfft=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_c1dfft" >&5
$as_echo "$ac_cv_search_c1dfft" >&6; }
ac_res=$ac_cv_search_c1dfft
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_c1dfft\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call c1dfft
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = c1dfft
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_MLIB 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      sgimath)
        
    abi_fft_has_incs="no"
  abi_fft_has_libs="no"
  abi_fft_serial="no"
  abi_fft_mpi="no"
  abi_fft_fcflags=""
  abi_fft_ldflags=""
  abi_fft_incs="${with_fft_incs}"
  abi_fft_libs="${with_fft_libs}"

    abi_fft_has_incs="yes"

    if test "${abi_fft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dfft1du" >&5
$as_echo_n "checking for library containing dfft1du... " >&6; }
if ${ac_cv_search_dfft1du+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call dfft1du
      end
_ACEOF
for ac_lib in '' complib.sgimath; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_dfft1du=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_dfft1du+:} false; then :
  break
fi
done
if ${ac_cv_search_dfft1du+:} false; then :
  
else
  ac_cv_search_dfft1du=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_dfft1du" >&5
$as_echo "$ac_cv_search_dfft1du" >&6; }
ac_res=$ac_cv_search_dfft1du
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_fft_has_libs="yes"
fi

    if test "${abi_fft_has_libs}" = "yes"; then
      tmp_fft_libs=`eval echo \$\{ac_cv_search_dfft1du\}`
      if test "${tmp_fft_libs}" != "none required"; then
        abi_fft_libs="${tmp_fft_libs}"
      fi
    fi
  else
    tmp_saved_LIBS="${LIBS}"
    LIBS="${with_fft_libs} ${LIBS}"
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call dfft1du
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

    if test "${abi_fft_has_libs}" = "no"; then
        cat > conftest.$ac_ext <<_ACEOF
      program main

        integer :: xstatus
        xstatus = dfft1du
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_fft_has_libs="yes"
else
  abi_fft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    fi

    LIBS="${tmp_saved_LIBS}"
  fi

    if test "${abi_fft_has_incs}" = "yes" -a \
          "${abi_fft_has_libs}" = "yes"; then
    abi_fft_serial="yes"
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_fft_serial}" = "yes"; then
    abi_fft_mpi="yes"
  fi

        if test "${abi_fft_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_FFT_SGIMATH 1" >>confdefs.h

          lib_fft_fcflags="${abi_fft_fcflags}"
          lib_fft_ldflags="${abi_fft_ldflags}"
          lib_fft_incs="${abi_fft_incs}"
          lib_fft_libs="${abi_fft_libs}"
        fi
        ;;

      *)
        as_fn_error $? "unknown FFT flavor '${with_fft_flavor}'" "$LINENO" 5
        ;;


    esac

  fi

    if test "${abi_fft_serial}" = "yes"; then
    
$as_echo "@%:@define HAVE_FFT 1" >>confdefs.h

    
$as_echo "@%:@define HAVE_FFT_SERIAL 1" >>confdefs.h

  elif test "${with_fft_flavor}" != "none"; then
    lib_fft_flavor="broken"
  fi

    if test "${abi_fft_mpi}" = "yes"; then
    
$as_echo "@%:@define HAVE_FFT_MPI 1" >>confdefs.h

  fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  LIBS="${abi_saved_LIBS}"
  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the actual FFT support" >&5
$as_echo_n "checking for the actual FFT support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_fft_flavor}" >&5
$as_echo "${lib_fft_flavor}" >&6; }
  if test "${lib_fft_flavor}" = "broken"; then
    
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

    if test "${with_fft_libs}" = ""; then
      as_fn_error $? "the requested ${with_fft_flavor} FFT flavor is not available" "$LINENO" 5
    else
      as_fn_error $? "the specified FFT libraries do not work" "$LINENO" 5
    fi
  fi

    
  
  
  
  


# Parallel I/O support
# TODO

# LibXC support
# TODO

# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Connectors to external packages
#

# Note: the order is critical!
#       level 1 ---> LINALG, IO, TIMER (require MPI and GPU)
#       level 2 ---> FFT, MATH (require MPI, GPU, and LINALG)
#       level 3 ---> DFT (may require MPI, GPU, LINALG, IO, FFT and MATH)
#
# Further note: MATH libraries may even depend on LINALG and FFT
#               (wait and see...)


    
  abi_sec_title="Connectors / Fallbacks"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Transferable file I/O support
if test "${enable_connectors}" = "yes" -a \
        "${enable_fallbacks}" != "force"; then
  
    abi_test_etsf_io="no"
  abi_test_netcdf="no"
  lib_trio_flavor="${with_trio_flavor}"

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  abi_saved_LIBS="${LIBS}"
  LDFLAGS="${FC_LDFLAGS}"
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the requested transferable I/O support" >&5
$as_echo_n "checking for the requested transferable I/O support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_trio_flavor}" >&5
$as_echo "${with_trio_flavor}" >&6; }

    if test "${with_trio_flavor}" != "none"; then

        abi_trio_iter=`echo "${lib_trio_flavor}" | tr '+' '\n' | sort -u | awk '{printf " %s",$1}'`
    abi_trio_tmp="${abi_trio_iter}"
    for abi_trio_flavor in ${abi_trio_iter}; do
      if test "${abi_trio_flavor}" = "netcdf"; then
        abi_trio_tmp=`echo "${abi_trio_iter}" | sed -e 's/netcdf//'`
        abi_trio_tmp="netcdf ${abi_trio_tmp}"
      fi
      if test "${abi_trio_flavor}" = "netcdf-fallback"; then
        abi_trio_tmp=`echo "${abi_trio_iter}" | sed -e 's/netcdf-fallback//'`
        abi_trio_tmp="netcdf-fallback ${abi_trio_tmp}"
      fi
    done
    abi_trio_iter="${abi_trio_tmp}"

    for abi_trio_flavor in ${abi_trio_iter}; do

            tmp_trio_base_flavor=`echo "${abi_trio_flavor}" | cut -d- -f1`
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to select a fallback for ${tmp_trio_base_flavor}" >&5
$as_echo_n "checking whether to select a fallback for ${tmp_trio_base_flavor}... " >&6; }
      tmp_trio_fallback=`echo "${abi_trio_flavor}" | cut -s -d- -f2`
      if test "${tmp_trio_fallback}" = "fallback"; then
        tmp_trio_fallback="yes"
      else
        tmp_trio_fallback="no"
      fi
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${tmp_trio_fallback}" >&5
$as_echo "${tmp_trio_fallback}" >&6; }
      if test "${tmp_trio_fallback}" = "yes" -a \
              "${enable_fallbacks}" = "no"; then
        as_fn_error $? "fallback requested while fallbacks have been globally disabled" "$LINENO" 5
      fi

            case "${abi_trio_flavor}" in

        etsf_io)
          if test "${abi_trio_netcdf_serial}" = "yes"; then
            abi_trio_etsf_io_prereqs="yes"
            
    abi_trio_etsf_io_default_libs="-letsf_io_utils -letsf_io"
  abi_trio_etsf_io_has_incs="no"
  abi_trio_etsf_io_has_libs="no"
  abi_trio_etsf_io_serial="no"
  abi_trio_etsf_io_mpi="no"
  abi_trio_etsf_io_fcflags=""
  abi_trio_etsf_io_ldflags=""
  abi_trio_etsf_io_incs="${with_etsf_io_incs}"
  abi_trio_etsf_io_libs="${with_etsf_io_libs}"

    tmp_saved_FCFLAGS="${FCFLAGS}"
  tmp_saved_LIBS="${LIBS}"
  FCFLAGS="${FCFLAGS} ${abi_trio_etsf_io_incs}"
  if test "${with_etsf_io_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ETSF_IO libraries to try" >&5
$as_echo_n "checking for ETSF_IO libraries to try... " >&6; }
    LIBS="${abi_trio_etsf_io_default_libs} ${LIBS}"
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_trio_etsf_io_default_libs}" >&5
$as_echo "${abi_trio_etsf_io_default_libs}" >&6; }
  else
    LIBS="${abi_trio_etsf_io_libs} ${LIBS}"
  fi

    
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran module includes" >&5
$as_echo_n "checking for Fortran module includes... " >&6; }

  if test "${abi_fc_mod_incs_ok}" = "" -o \
          "${abi_fc_mod_incs_ok}" = "unknown"; then

        fc_mod_incs=""

        tmp_saved_FCFLAGS="${FCFLAGS}"
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


        cat > conftest.$ac_ext <<_ACEOF
      program main

        use etsf_io
      
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="none required"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

        if test "${abi_fc_mod_incs_ok}" = "unknown"; then
      FCFLAGS="${FCFLAGS} -I/usr/include"
      cat > conftest.$ac_ext <<_ACEOF
      program main

          use etsf_io
        
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="-I/usr/include"; fc_mod_incs="-I/usr/include"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok}" >&5
$as_echo "${abi_fc_mod_incs_ok}" >&6; }

        ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    FCFLAGS="${tmp_saved_FCFLAGS}"

  else

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok} (cached)" >&5
$as_echo "${abi_fc_mod_incs_ok} (cached)" >&6; }

  fi

    

  FCFLAGS="${FCFLAGS} ${fc_mod_incs}"
  if test "${abi_fc_mod_incs_ok}" != "unknown"; then
    abi_trio_etsf_io_has_incs="yes"
  fi

    if test "${abi_trio_etsf_io_has_incs}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ETSF_IO libraries work" >&5
$as_echo_n "checking whether ETSF_IO libraries work... " >&6; }
    cat > conftest.$ac_ext <<_ACEOF
      program main

        use etsf_io_low_level
        use etsf_io
        use etsf_io_tools
        character(len=etsf_charlen),allocatable :: atoms(:)
        integer :: ncid
        logical :: lstat
        type(etsf_io_low_error) :: err
        call etsf_io_tools_get_atom_names(ncid,atoms,lstat,err)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_trio_etsf_io_has_libs="yes"
else
  abi_trio_etsf_io_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_trio_etsf_io_has_libs}" >&5
$as_echo "${abi_trio_etsf_io_has_libs}" >&6; }
  fi

    if test "${abi_trio_etsf_io_has_incs}" = "yes" -a \
          "${abi_trio_etsf_io_has_libs}" = "yes"; then
    abi_trio_etsf_io_serial="yes"
    if test "${with_etsf_io_libs}" = ""; then
      abi_trio_etsf_io_libs="${abi_trio_etsf_io_default_libs}"
    fi
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_trio_etsf_io_serial}" = "yes"; then
    abi_trio_etsf_io_mpi="yes"
  fi

    FCFLAGS="${tmp_saved_FCFLAGS}"
  LIBS="${tmp_saved_LIBS}"

          else
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: ETSF_IO requires missing NetCDF support" >&5
$as_echo "$as_me: WARNING: ETSF_IO requires missing NetCDF support" >&2;}
            if test "${abi_trio_netcdf_fallback}" != "yes"; then
              abi_trio_etsf_io_prereqs="no"
            fi
            abi_trio_etsf_io_serial="no"
            abi_trio_etsf_io_mpi="no"
          fi
          if test "${abi_trio_etsf_io_serial}" = "yes" -o \
                  "${enable_fallbacks}" = "yes"; then
            
$as_echo "@%:@define HAVE_ETSF_IO 1" >>confdefs.h

            abi_test_etsf_io="yes"
          fi
          if test "${abi_trio_etsf_io_serial}" = "yes"; then
            lib_etsf_io_incs="${abi_trio_etsf_io_incs}"
            lib_etsf_io_libs="${abi_trio_etsf_io_libs}"
          fi
          ;;

        etsf_io-fallback)
          if test "${abi_trio_netcdf_serial}" != "yes" -a \
                  "${abi_trio_netcdf_fallback}" != "yes"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: ETSF_IO requires missing NetCDF support" >&5
$as_echo "$as_me: WARNING: ETSF_IO requires missing NetCDF support" >&2;}
            abi_trio_etsf_io_prereqs="no"
            abi_trio_etsf_io_serial="no"
            abi_trio_etsf_io_mpi="no"
          fi
          ;;

        psml)
          
    abi_trio_psml_default_libs="-lpsml"
  abi_trio_psml_has_incs="no"
  abi_trio_psml_has_libs="no"
  abi_trio_psml_serial="no"
  abi_trio_psml_mpi="no"
  abi_trio_psml_fcflags=""
  abi_trio_psml_ldflags=""
  abi_trio_psml_incs="${with_psml_incs}"
  abi_trio_psml_libs="${with_psml_libs}"

    tmp_saved_FCFLAGS="${FCFLAGS}"
  tmp_saved_LIBS="${LIBS}"
  FCFLAGS="${FCFLAGS} ${abi_trio_psml_incs}"
  if test "${abi_trio_psml_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for PSML libraries to try" >&5
$as_echo_n "checking for PSML libraries to try... " >&6; }
    LIBS="${abi_trio_psml_default_libs} ${LIBS}"
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_trio_psml_default_libs}" >&5
$as_echo "${abi_trio_psml_default_libs}" >&6; }
  else
    LIBS="${abi_trio_psml_libs} ${LIBS}"
  fi

    
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran module includes" >&5
$as_echo_n "checking for Fortran module includes... " >&6; }

  if test "${abi_fc_mod_incs_ok}" = "" -o \
          "${abi_fc_mod_incs_ok}" = "unknown"; then

        fc_mod_incs=""

        tmp_saved_FCFLAGS="${FCFLAGS}"
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


        cat > conftest.$ac_ext <<_ACEOF
      program main

        use m_psml
      
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="none required"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

        if test "${abi_fc_mod_incs_ok}" = "unknown"; then
      FCFLAGS="${FCFLAGS} -I/usr/include"
      cat > conftest.$ac_ext <<_ACEOF
      program main

          use m_psml
        
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="-I/usr/include"; fc_mod_incs="-I/usr/include"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok}" >&5
$as_echo "${abi_fc_mod_incs_ok}" >&6; }

        ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    FCFLAGS="${tmp_saved_FCFLAGS}"

  else

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok} (cached)" >&5
$as_echo "${abi_fc_mod_incs_ok} (cached)" >&6; }

  fi

    

  FCFLAGS="${FCFLAGS} ${fc_mod_incs}"
  if test "${abi_fc_mod_incs_ok}" != "unknown"; then
    abi_trio_psml_has_incs="yes"
  fi

    if test "${abi_trio_psml_has_incs}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether PSML libraries work" >&5
$as_echo_n "checking whether PSML libraries work... " >&6; }

    cat > conftest.$ac_ext <<_ACEOF

        subroutine psml_die(str)
          character, intent(in) :: str 
          STOP 
        end subroutine psml_die 

        program test
        use m_psml
        type(ps_t) :: psxml
        call ps_destroy(psxml)
        end program
      
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_trio_psml_has_libs="yes"
else
  abi_trio_psml_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_trio_psml_has_libs}" >&5
$as_echo "${abi_trio_psml_has_libs}" >&6; }
  fi

    if test "${abi_trio_psml_has_incs}" = "yes" -a \
          "${abi_trio_psml_has_libs}" = "yes"; then
    abi_trio_psml_serial="yes"
    if test "${with_psml_libs}" = ""; then
      abi_trio_psml_libs="${abi_trio_psml_default_libs}"
    fi
  fi

    if test "${enable_mpi_io}" = "yes" -a \
          "${abi_trio_psml_serial}" = "yes"; then
    abi_trio_psml_mpi="yes"
  fi

    FCFLAGS="${tmp_saved_FCFLAGS}"
  LIBS="${tmp_saved_LIBS}"

          if test "${abi_trio_psml_serial}" = "yes" -o \
                  "${enable_fallbacks}" = "yes"; then
            
$as_echo "@%:@define HAVE_PSML 1" >>confdefs.h

            abi_test_psml="yes"
          fi
          if test "${abi_trio_psml_serial}" = "yes"; then
            lib_psml_incs="${abi_trio_psml_incs}"
            lib_psml_libs="${abi_trio_psml_libs}"
          else
            
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

            as_fn_error $? "no working version of psml has been found" "$LINENO" 5
          fi
          ;;

        netcdf)
          
    abi_trio_netcdf_has_incs="no"
  abi_trio_netcdf_has_libs="no"
  abi_trio_netcdf_serial="no"
  abi_trio_netcdf_mpi="no"
  abi_trio_netcdf_fcflags=""
  abi_trio_netcdf_ldflags=""
  abi_trio_netcdf_incs="${with_netcdf_incs}"
  abi_trio_netcdf_libs="${with_netcdf_libs}"

    tmp_saved_CPPFLAGS="${CPPFLAGS}"
  tmp_saved_FCFLAGS="${FCFLAGS}"
  tmp_saved_LIBS="${LIBS}"
  CPPFLAGS="${CPPFLAGS} ${abi_trio_netcdf_incs}"
  FCFLAGS="${FCFLAGS} ${abi_trio_netcdf_incs}"

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  for ac_header in netcdf.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "netcdf.h" "ac_cv_header_netcdf_h" "$ac_includes_default"
if test "x$ac_cv_header_netcdf_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_NETCDF_H 1
_ACEOF
 abi_trio_netcdf_has_incs="yes"
else
  abi_trio_netcdf_has_incs="no"
fi

done

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    if test "${abi_trio_netcdf_libs}" = ""; then
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing nc_open" >&5
$as_echo_n "checking for library containing nc_open... " >&6; }
if ${ac_cv_search_nc_open+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char nc_open ();
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return nc_open ();
  ;
  return 0;
}
_ACEOF
for ac_lib in '' netcdf; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_search_nc_open=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_nc_open+:} false; then :
  break
fi
done
if ${ac_cv_search_nc_open+:} false; then :
  
else
  ac_cv_search_nc_open=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_nc_open" >&5
$as_echo "$ac_cv_search_nc_open" >&6; }
ac_res=$ac_cv_search_nc_open
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  
fi

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    if test "${ac_cv_search_nc_open}" != "no"; then
      if test "${ac_cv_search_nc_open}" != "none required"; then
        abi_trio_netcdf_libs="${ac_cv_search_nc_open}"
        LIBS="${abi_trio_netcdf_libs} ${LIBS}"
      fi
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing nf_open" >&5
$as_echo_n "checking for library containing nf_open... " >&6; }
if ${ac_cv_search_nf_open+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call nf_open
      end
_ACEOF
for ac_lib in '' netcdf netcdff; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_nf_open=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_nf_open+:} false; then :
  break
fi
done
if ${ac_cv_search_nf_open+:} false; then :
  
else
  ac_cv_search_nf_open=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_nf_open" >&5
$as_echo "$ac_cv_search_nf_open" >&6; }
ac_res=$ac_cv_search_nf_open
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_trio_netcdf_has_libs="yes"
else
  abi_trio_netcdf_has_libs="no"
fi

      if test "${abi_trio_netcdf_has_libs}" = "yes"; then
        if test "${ac_cv_search_nf_open}" != "none required"; then
          abi_trio_netcdf_libs="${ac_cv_search_nf_open} ${abi_trio_netcdf_libs}"
        fi
      fi
    fi
  else
    LIBS="${abi_trio_netcdf_libs} ${LIBS}"
  fi

      
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran module includes" >&5
$as_echo_n "checking for Fortran module includes... " >&6; }

  if test "${abi_fc_mod_incs_ok}" = "" -o \
          "${abi_fc_mod_incs_ok}" = "unknown"; then

        fc_mod_incs=""

        tmp_saved_FCFLAGS="${FCFLAGS}"
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


        cat > conftest.$ac_ext <<_ACEOF
      program main

        use netcdf
      
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="none required"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

        if test "${abi_fc_mod_incs_ok}" = "unknown"; then
      FCFLAGS="${FCFLAGS} -I/usr/include"
      cat > conftest.$ac_ext <<_ACEOF
      program main

          use netcdf
        
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="-I/usr/include"; fc_mod_incs="-I/usr/include"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok}" >&5
$as_echo "${abi_fc_mod_incs_ok}" >&6; }

        ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    FCFLAGS="${tmp_saved_FCFLAGS}"

  else

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok} (cached)" >&5
$as_echo "${abi_fc_mod_incs_ok} (cached)" >&6; }

  fi

    

  FCFLAGS="${FCFLAGS} ${fc_mod_incs}"
  if test "${abi_fc_mod_incs_ok}" = "unknown"; then
    abi_trio_netcdf_has_incs="no"
  fi

    if test "${abi_trio_netcdf_has_incs}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether NetCDF Fortran wrappers work" >&5
$as_echo_n "checking whether NetCDF Fortran wrappers work... " >&6; }
    cat > conftest.$ac_ext <<_ACEOF
      program main

        use netcdf
        character(len=*), parameter :: path = "dummy"
        integer :: mode, ncerr, ncid
        ncerr = nf90_open(path,mode,ncid)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_trio_netcdf_has_libs="yes"
else
  abi_trio_netcdf_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_trio_netcdf_has_libs}" >&5
$as_echo "${abi_trio_netcdf_has_libs}" >&6; }
  fi

    if test "${abi_trio_netcdf_has_incs}" = "yes" -a \
          "${abi_trio_netcdf_has_libs}" = "yes"; then
    abi_trio_netcdf_serial="yes"
  fi

    if test "${enable_mpi_io}" = "yes" -a \
          "${abi_trio_netcdf_serial}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether NetCDF supports MPI I/O" >&5
$as_echo_n "checking whether NetCDF supports MPI I/O... " >&6; }
    cat > conftest.$ac_ext <<_ACEOF
      program main

        use netcdf
        character(len=*), parameter :: path = "dummy"
        integer :: cmode, comm, info, ncerr, ncid
        ncerr = nf90_open_par(path, cmode, comm, info, ncid)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_trio_netcdf_mpi="yes"
else
  abi_trio_netcdf_mpi="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_trio_netcdf_mpi}" >&5
$as_echo "${abi_trio_netcdf_mpi}" >&6; }
  fi

    CPPFLAGS="${tmp_saved_CPPFLAGS}"
  FCFLAGS="${tmp_saved_FCFLAGS}"
  LIBS="${tmp_saved_LIBS}"

    if test "${abi_trio_netcdf_serial}" = "yes"; then
    CPPFLAGS="${CPPFLAGS} ${abi_trio_netcdf_incs}"
    FCFLAGS="${FCFLAGS} ${abi_trio_netcdf_incs}"
    LIBS="${abi_trio_netcdf_libs} ${LIBS}"
  fi

          if test "${abi_trio_netcdf_serial}" = "yes" -o \
                  "${enable_fallbacks}" = "yes"; then
            
$as_echo "@%:@define HAVE_NETCDF 1" >>confdefs.h

            abi_test_netcdf="yes"
          fi
          if test "${abi_trio_netcdf_serial}" = "yes"; then
            lib_netcdf_incs="${abi_trio_netcdf_incs}"
            lib_netcdf_libs="${abi_trio_netcdf_libs}"
          elif test "${enable_fallbacks}" = "yes"; then
            abi_trio_netcdf_fallback="yes"
          fi

          if test "${abi_trio_netcdf_mpi}" = "yes"; then
            
$as_echo "@%:@define HAVE_NETCDF_MPI 1" >>confdefs.h

          fi
          ;;

        yaml)
          
    abi_trio_yaml_default_libs="-lfyaml"
  abi_trio_yaml_has_incs="no"
  abi_trio_yaml_has_libs="no"
  abi_trio_yaml_serial="no"
  abi_trio_yaml_mpi="no"
  abi_trio_yaml_fcflags=""
  abi_trio_yaml_ldflags=""
  abi_trio_yaml_incs="${with_yaml_incs}"
  abi_trio_yaml_libs="${with_yaml_libs}"

    tmp_saved_FCFLAGS="${FCFLAGS}"
  tmp_saved_LIBS="${LIBS}"
  FCFLAGS="${FCFLAGS} ${abi_trio_yaml_incs}"
  if test "${with_yaml_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for YAML libraries to try" >&5
$as_echo_n "checking for YAML libraries to try... " >&6; }
    LIBS="${abi_trio_yaml_default_libs} ${LIBS}"
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_trio_yaml_default_libs}" >&5
$as_echo "${abi_trio_yaml_default_libs}" >&6; }
  else
    LIBS="${abi_trio_yaml_libs} ${LIBS}"
  fi

    
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran module includes" >&5
$as_echo_n "checking for Fortran module includes... " >&6; }

  if test "${abi_fc_mod_incs_ok}" = "" -o \
          "${abi_fc_mod_incs_ok}" = "unknown"; then

        fc_mod_incs=""

        tmp_saved_FCFLAGS="${FCFLAGS}"
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


        cat > conftest.$ac_ext <<_ACEOF
      program main

        use yaml_output
      
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="none required"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

        if test "${abi_fc_mod_incs_ok}" = "unknown"; then
      FCFLAGS="${FCFLAGS} -I/usr/include"
      cat > conftest.$ac_ext <<_ACEOF
      program main

          use yaml_output
        
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="-I/usr/include"; fc_mod_incs="-I/usr/include"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok}" >&5
$as_echo "${abi_fc_mod_incs_ok}" >&6; }

        ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    FCFLAGS="${tmp_saved_FCFLAGS}"

  else

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok} (cached)" >&5
$as_echo "${abi_fc_mod_incs_ok} (cached)" >&6; }

  fi

    

  FCFLAGS="${FCFLAGS} ${fc_mod_incs}"
  if test "${abi_fc_mod_incs_ok}" != "unknown"; then
    abi_trio_yaml_has_incs="yes"
  fi

    if test "${abi_trio_yaml_has_incs}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the YAML library works" >&5
$as_echo_n "checking whether the YAML library works... " >&6; }
    cat > conftest.$ac_ext <<_ACEOF
      program main

        use yaml_output
        use dictionaries
        type(dictionary), pointer :: dict
        call yaml_new_document()
        call dict_init(dict)
        call set(dict//'tot_ncpus', 4)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_trio_yaml_has_libs="yes"
else
  abi_trio_yaml_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_trio_yaml_has_libs}" >&5
$as_echo "${abi_trio_yaml_has_libs}" >&6; }
  fi

    if test "${abi_trio_yaml_has_incs}" = "yes" -a \
          "${abi_trio_yaml_has_libs}" = "yes"; then
    abi_trio_yaml_serial="yes"
    if test "${with_yaml_libs}" = ""; then
      abi_trio_yaml_libs="${abi_trio_yaml_default_libs}"
    fi
  fi

    if test "${enable_mpi}" = "yes" -a \
          "${abi_trio_yaml_serial}" = "yes"; then
    abi_trio_yaml_mpi="yes"
  fi

    FCFLAGS="${tmp_saved_FCFLAGS}"
  LIBS="${tmp_saved_LIBS}"

          if test "${abi_trio_yaml_serial}" = "yes"; then
            
$as_echo "@%:@define HAVE_YAML 1" >>confdefs.h

            abi_test_yaml="yes"
            lib_yaml_incs="${abi_trio_yaml_incs}"
            lib_yaml_libs="${abi_trio_yaml_libs}"
          else
            
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

            as_fn_error $? "the YAML library is absent or unusable" "$LINENO" 5
          fi
          ;;

        *)
          if test "${tmp_trio_fallback}" = "no"; then
            as_fn_error $? "unknown transferable I/O flavor '${abi_trio_flavor}'" "$LINENO" 5
          fi
          ;;

      esac

            if test "${tmp_trio_fallback}" = "yes"; then
        eval abi_trio_${tmp_trio_base_flavor}_fallback="yes"
        abi_fallbacks="${abi_fallbacks} ${tmp_trio_base_flavor}"
        tmp_trio_flavor="${tmp_trio_flavor}+${abi_trio_flavor}"
        tmp_trio_prereqs=`eval echo \$\{abi_trio_${tmp_trio_base_flavor}_prereqs\}`
        if test "${tmp_trio_prereqs}" = "no"; then
          
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

          as_fn_error $? "prerequisites for ${abi_trio_flavor} not found" "$LINENO" 5
        fi
      else
        tmp_trio_prereqs=`eval echo \$\{abi_trio_${abi_trio_flavor}_prereqs\}`
        tmp_trio_serial=`eval echo \$\{abi_trio_${abi_trio_flavor}_serial\}`
        tmp_trio_libs=`eval echo \$\{with_${abi_trio_flavor}_libs\}`
        if test "${tmp_trio_serial}" = "no"; then
          if test "${tmp_trio_libs}" = "" -a "${tmp_trio_prereqs}" != "no"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: falling back to internal ${abi_trio_flavor} version" >&5
$as_echo "$as_me: WARNING: falling back to internal ${abi_trio_flavor} version" >&2;}
            abi_fallbacks="${abi_fallbacks} ${abi_trio_flavor}"
            tmp_trio_flavor="${tmp_trio_flavor}+${abi_trio_flavor}-fallback"
          else
            
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

            as_fn_error $? "external ${abi_trio_flavor} support does not work" "$LINENO" 5
          fi
        else
          tmp_trio_flavor="${tmp_trio_flavor}+${abi_trio_flavor}"
        fi
      fi

    done

  fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  LIBS="${abi_saved_LIBS}"
  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



    lib_trio_flavor=`echo "${tmp_trio_flavor}" | sed -e 's/^\+//;s/\+$//'`
  if test "${lib_trio_flavor}" = ""; then
    lib_trio_flavor="none"
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the actual transferable I/O support" >&5
$as_echo_n "checking for the actual transferable I/O support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_trio_flavor}" >&5
$as_echo "${lib_trio_flavor}" >&6; }

    
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

else
  abi_fallbacks="${abi_fallbacks} `echo ${with_trio_flavor} | sed -e 's/+/ /g;s/none//g'`"
  if test "${with_trio_flavor}" = "none"; then
    lib_trio_flavor="none"
  else
    lib_trio_flavor=`echo "${with_trio_flavor}" | sed -e 's/+/-fallback+/g;s/$/-fallback/'`
  fi
  lib_trio_flavor="${lib_trio_flavor} (libs: ignored)"
fi
abi_psml_wanted=`echo "${with_trio_flavor}" | grep "psml"`
 if test "${abi_psml_wanted}" != "" ; then
  DO_BUILD_PSML_TRUE=
  DO_BUILD_PSML_FALSE='#'
else
  DO_BUILD_PSML_TRUE='#'
  DO_BUILD_PSML_FALSE=
fi


# External timing library support
if test "${enable_connectors}" = "yes"; then
  
    lib_timer_flavor="${with_timer_flavor}"
  lib_timer_fcflags=""
  lib_timer_ldflags=""
  lib_timer_incs=""
  lib_timer_libs=""
  abi_timer_serial="no"
  abi_timer_mpi="no"

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  abi_saved_LIBS="${LIBS}"
  CPPFLAGS="${with_timer_incs} ${CPPFLAGS}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${with_timer_libs} ${LIBS}"
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the requested timer support" >&5
$as_echo_n "checking for the requested timer support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_timer_flavor}" >&5
$as_echo "${with_timer_flavor}" >&6; }

    if test "${with_timer_flavor}" != "none"; then

    case "${with_timer_flavor}" in

      abinit)
        
$as_echo "@%:@define HAVE_TIMER_ABINIT 1" >>confdefs.h

        abi_timer_serial="yes"
        if test "${enable_mpi}" = "yes"; then
          abi_timer_mpi="yes"
        fi
        ;;

      custom)
        if test "${with_timer_libs}" == ""; then
          as_fn_error $? "you must specify custom timer libraries (--with-timer-libs)" "$LINENO" 5
        fi
        abi_timer_serial="yes"
        abi_timer_mpi="yes"
        lib_timer_incs="${with_timer_incs}"
        lib_timer_libs="${with_timer_libs}"
        ;;

      gptl)
        as_fn_error $? "not implemented" "$LINENO" 5
        ;;

      papi)
        
    abi_timer_papi_has_incs="no"
  abi_timer_papi_has_libs="no"
  abi_timer_papi_serial="no"
  abi_timer_papi_mpi="no"
  abi_timer_papi_fcflags=""
  abi_timer_papi_ldflags=""
  abi_timer_papi_incs="${with_timer_incs}"
  abi_timer_papi_libs="${with_timer_libs}"

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    for ac_header in papi.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "papi.h" "ac_cv_header_papi_h" "$ac_includes_default"
if test "x$ac_cv_header_papi_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_PAPI_H 1
_ACEOF
 abi_timer_papi_has_incs="yes"
else
  abi_timer_papi_has_incs="no"
fi

done

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    if test "${abi_timer_papi_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for PAPIf_library_init in -lpapi" >&5
$as_echo_n "checking for PAPIf_library_init in -lpapi... " >&6; }
if ${ac_cv_lib_papi_PAPIf_library_init+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpapi  $LIBS"
cat > conftest.$ac_ext <<_ACEOF
      program main
      call PAPIf_library_init
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_lib_papi_PAPIf_library_init=yes
else
  ac_cv_lib_papi_PAPIf_library_init=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_papi_PAPIf_library_init" >&5
$as_echo "$ac_cv_lib_papi_PAPIf_library_init" >&6; }
if test "x$ac_cv_lib_papi_PAPIf_library_init" = xyes; then :
  abi_timer_papi_has_libs="yes"
else
  abi_timer_papi_has_libs="no"
fi

    if test "${abi_timer_papi_has_libs}" = "yes"; then
      abi_timer_papi_libs="-lpapi"
    fi
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the specified PAPI library works" >&5
$as_echo_n "checking whether the specified PAPI library works... " >&6; }
    cat > conftest.$ac_ext <<_ACEOF
      program main

#if defined HAVE_F90PAPI_H
#include "papi/papi_sf_gamma.h"
#endif
        call PAPIf_library_init
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_timer_papi_has_libs="yes"
else
  abi_timer_papi_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_timer_papi_has_libs}" >&5
$as_echo "${abi_timer_papi_has_libs}" >&6; }
  fi

    if test "${abi_timer_papi_has_incs}" = "yes" -a \
          "${abi_timer_papi_has_libs}" = "yes"; then
    abi_timer_papi_serial="yes"
  fi

        abi_timer_serial="${abi_timer_papi_serial}"
        abi_timer_mpi="${abi_timer_papi_mpi}"
        if test "${abi_timer_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_PAPI 1" >>confdefs.h

          lib_timer_fcflags="${abi_timer_papi_fcflags}"
          lib_timer_ldflags="${abi_timer_papi_ldflags}"
          lib_timer_incs="${abi_timer_papi_incs}"
          lib_timer_libs="${abi_timer_papi_libs}"
        fi
        ;;

        *)
          as_fn_error $? "unknown timer flavor '${with_timer_flavor}'" "$LINENO" 5
          ;;

    esac

  fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  for ac_header in time.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "time.h" "ac_cv_header_time_h" "$ac_includes_default"
if test "x$ac_cv_header_time_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_TIME_H 1
_ACEOF
 
fi

done

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for clock_gettime in -lrt" >&5
$as_echo_n "checking for clock_gettime in -lrt... " >&6; }
if ${ac_cv_lib_rt_clock_gettime+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lrt  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char clock_gettime ();
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return clock_gettime ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_rt_clock_gettime=yes
else
  ac_cv_lib_rt_clock_gettime=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_rt_clock_gettime" >&5
$as_echo "$ac_cv_lib_rt_clock_gettime" >&6; }
if test "x$ac_cv_lib_rt_clock_gettime" = xyes; then :
  abi_timer_rt_libs="-lrt"
else
  abi_timer_rt_libs=""
fi

  lib_timer_libs=$lib_timer_libs" "$abi_timer_rt_libs
  for ac_func in clock_gettime
do :
  ac_fn_c_check_func "$LINENO" "clock_gettime" "ac_cv_func_clock_gettime"
if test "x$ac_cv_func_clock_gettime" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_CLOCK_GETTIME 1
_ACEOF
 
fi
done

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  LIBS="${abi_saved_LIBS}"
  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the actual timer support" >&5
$as_echo_n "checking for the actual timer support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_timer_flavor}" >&5
$as_echo "${lib_timer_flavor}" >&6; }
  if test "${lib_timer_flavor}" = "broken"; then
    
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

    if test "${with_timer_libs}" = ""; then
      as_fn_error $? "the requested ${with_timer_flavor} timer flavor is not available" "$LINENO" 5
    else
      as_fn_error $? "the specified timer libraries do not work" "$LINENO" 5
    fi
  fi

    
  
  
  
  

fi

# External algorithmic library support
if test "${enable_connectors}" = "yes"; then
  
    lib_algo_flavor="${with_algo_flavor}"
  lib_algo_fcflags=""
  lib_algo_ldflags=""
  lib_algo_incs=""
  lib_algo_libs=""
  abi_algo_serial="no"
  abi_algo_mpi="no"

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  abi_saved_LIBS="${LIBS}"
  CPPFLAGS="${with_algo_incs} ${CPPFLAGS}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${with_algo_libs} ${LIBS}"
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the requested algorithmic support" >&5
$as_echo_n "checking for the requested algorithmic support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_algo_flavor}" >&5
$as_echo "${with_algo_flavor}" >&6; }

    if test "${with_algo_flavor}" != "none"; then

    case "${with_algo_flavor}" in

      custom)
        if test "${with_algo_incs}" == ""; then
          as_fn_error $? "you must specify custom algorithmic includes (--with-algo-incs)" "$LINENO" 5
        fi
        if test "${with_algo_libs}" == ""; then
          as_fn_error $? "you must specify custom algorithmic libraries (--with-algo-libs)" "$LINENO" 5
        fi
        abi_algo_serial="yes"
        abi_algo_mpi="yes"
        lib_algo_incs="${with_algo_incs}"
        lib_algo_libs="${with_algo_libs}"
        ;;

      levmar)
        if test "${abi_linalg_serial}" == "no"; then
          as_fn_error $? "levmar support only works with external linear algebra libraries" "$LINENO" 5
        fi
        LIBS="${lib_linalg_libs} ${LIBS}"
        
    abi_algo_levmar_has_incs="no"
  abi_algo_levmar_has_libs="no"
  abi_algo_levmar_serial="no"
  abi_algo_levmar_mpi="no"
  abi_algo_levmar_fcflags=""
  abi_algo_levmar_ldflags=""
  abi_algo_levmar_incs="${with_algo_incs}"
  abi_algo_levmar_libs="${with_algo_libs}"

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    for ac_header in levmar.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "levmar.h" "ac_cv_header_levmar_h" "$ac_includes_default"
if test "x$ac_cv_header_levmar_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_LEVMAR_H 1
_ACEOF
 abi_algo_levmar_has_incs="yes"
else
  abi_algo_levmar_has_incs="no"
fi

done


    if test "${abi_algo_levmar_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dlevmar_dif in -llevmar" >&5
$as_echo_n "checking for dlevmar_dif in -llevmar... " >&6; }
if ${ac_cv_lib_levmar_dlevmar_dif+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-llevmar  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char dlevmar_dif ();
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return dlevmar_dif ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_levmar_dlevmar_dif=yes
else
  ac_cv_lib_levmar_dlevmar_dif=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_levmar_dlevmar_dif" >&5
$as_echo "$ac_cv_lib_levmar_dlevmar_dif" >&6; }
if test "x$ac_cv_lib_levmar_dlevmar_dif" = xyes; then :
  abi_algo_levmar_has_libs="yes"
else
  abi_algo_levmar_has_libs="no"
fi

    if test "${abi_algo_levmar_has_libs}" = "yes"; then
      abi_algo_levmar_libs="-llevmar"
    fi
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the specified LEVMAR library works" >&5
$as_echo_n "checking whether the specified LEVMAR library works... " >&6; }
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdlib.h>
#include <levmar.h>

        void dfit_function(double *p, double *y, int m, int n, void *adata)
        {
          p = 0;
        }
      
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

        int ret;
        int c_npoles = 1;
        int c_nvals  = 1;
        int nparam   = 1;

        double adata[1];
        double p[1];
        double yvals[1];

        double opts[LM_OPTS_SZ], info[LM_INFO_SZ];

        ret=dlevmar_dif(dfit_function, p, yvals, nparam, c_nvals, 5000, \
          opts, info, NULL, NULL, (void *)&adata);
      
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  abi_algo_levmar_has_libs="yes"
else
  abi_algo_levmar_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_algo_levmar_has_libs}" >&5
$as_echo "${abi_algo_levmar_has_libs}" >&6; }
  fi

    if test "${abi_algo_levmar_has_incs}" = "yes" -a \
          "${abi_algo_levmar_has_libs}" = "yes"; then
    abi_algo_levmar_serial="yes"
  fi

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


        abi_algo_serial="${abi_algo_levmar_serial}"
        abi_algo_mpi="${abi_algo_levmar_mpi}"
        if test "${abi_algo_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_LEVMAR 1" >>confdefs.h

          lib_algo_fcflags="${abi_algo_levmar_fcflags}"
          lib_algo_ldflags="${abi_algo_levmar_ldflags}"
          lib_algo_incs="${abi_algo_levmar_incs}"
          lib_algo_libs="${abi_algo_levmar_libs}"
        fi
        ;;

      *)
        as_fn_error $? "unknown algorithmic flavor '${with_algo_flavor}'" "$LINENO" 5
        ;;

    esac

  fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  LIBS="${abi_saved_LIBS}"
  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the actual algorithmic support" >&5
$as_echo_n "checking for the actual algorithmic support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_algo_flavor}" >&5
$as_echo "${lib_algo_flavor}" >&6; }
  if test "${lib_algo_flavor}" = "broken"; then
    
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

    if test "${with_algo_libs}" = ""; then
      as_fn_error $? "the requested ${with_algo_flavor} algorithmic flavor is not available" "$LINENO" 5
    else
      as_fn_error $? "the specified algorithmic libraries do not work" "$LINENO" 5
    fi
  fi

    
  
  
  
  

fi

# External math library support
if test "${enable_connectors}" = "yes"; then
  
    lib_math_flavor="${with_math_flavor}"
  lib_math_fcflags=""
  lib_math_ldflags=""
  lib_math_incs=""
  lib_math_libs=""
  abi_math_serial="no"
  abi_math_mpi="no"

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  abi_saved_LIBS="${LIBS}"
  CPPFLAGS="${with_math_incs} ${CPPFLAGS}"
  LDFLAGS="${FC_LDFLAGS}"
  LIBS="${with_math_libs} ${LIBS}"
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the requested math support" >&5
$as_echo_n "checking for the requested math support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_math_flavor}" >&5
$as_echo "${with_math_flavor}" >&6; }

    if test "${with_math_flavor}" != "none"; then

    case "${with_math_flavor}" in

      custom)
        if test "${with_math_libs}" == ""; then
          as_fn_error $? "you must specify custom math libraries (--with-math-libs)" "$LINENO" 5
        fi
        abi_math_serial="yes"
        abi_math_mpi="yes"
        lib_math_incs="${with_math_incs}"
        lib_math_libs="${with_math_libs}"
        ;;

      gsl)
        
    abi_math_gsl_has_incs="no"
  abi_math_gsl_has_libs="no"
  abi_math_gsl_serial="no"
  abi_math_gsl_mpi="no"
  abi_math_gsl_fcflags=""
  abi_math_gsl_ldflags=""
  abi_math_gsl_incs="${with_math_incs}"
  abi_math_gsl_libs="${with_math_libs}"

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu


    for ac_prog in gsl-config
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_GSL_CONFIG+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$GSL_CONFIG"; then
  ac_cv_prog_GSL_CONFIG="$GSL_CONFIG" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_GSL_CONFIG="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
GSL_CONFIG=$ac_cv_prog_GSL_CONFIG
if test -n "$GSL_CONFIG"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $GSL_CONFIG" >&5
$as_echo "$GSL_CONFIG" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$GSL_CONFIG" && break
done

  if test "${GSL_CONFIG}" != ""; then
    if test "${abi_math_gsl_incs}" = ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for GSL include flags" >&5
$as_echo_n "checking for GSL include flags... " >&6; }
      abi_math_gsl_incs=`${GSL_CONFIG} --cflags`
      CPPFLAGS="${abi_math_gsl_incs} ${CPPFLAGS}"
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_math_gsl_incs}" >&5
$as_echo "${abi_math_gsl_incs}" >&6; }
    fi
    if test "${abi_math_gsl_libs}" = ""; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for GSL link flags" >&5
$as_echo_n "checking for GSL link flags... " >&6; }
      abi_math_gsl_libs=`${GSL_CONFIG} --libs`
      LIBS="${abi_math_gsl_libs} ${LIBS}"
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_math_gsl_libs}" >&5
$as_echo "${abi_math_gsl_libs}" >&6; }
    fi
  fi

    for ac_header in gsl/gsl_sf_gamma.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "gsl/gsl_sf_gamma.h" "ac_cv_header_gsl_gsl_sf_gamma_h" "$ac_includes_default"
if test "x$ac_cv_header_gsl_gsl_sf_gamma_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_GSL_GSL_SF_GAMMA_H 1
_ACEOF
 abi_math_gsl_has_incs="yes"
else
  abi_math_gsl_has_incs="no"
fi

done


    if test "${abi_math_gsl_libs}" = ""; then
    LIBS="-lgslcblas -lm ${LIBS}"
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for gsl_sf_gamma in -lgsl" >&5
$as_echo_n "checking for gsl_sf_gamma in -lgsl... " >&6; }
if ${ac_cv_lib_gsl_gsl_sf_gamma+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgsl  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char gsl_sf_gamma ();
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return gsl_sf_gamma ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_gsl_gsl_sf_gamma=yes
else
  ac_cv_lib_gsl_gsl_sf_gamma=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gsl_gsl_sf_gamma" >&5
$as_echo "$ac_cv_lib_gsl_gsl_sf_gamma" >&6; }
if test "x$ac_cv_lib_gsl_gsl_sf_gamma" = xyes; then :
  abi_math_gsl_has_libs="yes"
else
  abi_math_gsl_has_libs="no"
fi

    if test "${abi_math_gsl_has_libs}" = "yes"; then
      abi_math_gsl_libs="-lgsl -lgslcblas -lm"
    fi
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the specified GSL library works" >&5
$as_echo_n "checking whether the specified GSL library works... " >&6; }
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include "gsl/gsl_sf_gamma.h"
      
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{

        double x,y;
        x = 1.0;
        y = gsl_sf_gamma(x);
      
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  abi_math_gsl_has_libs="yes"
else
  abi_math_gsl_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_math_gsl_has_libs}" >&5
$as_echo "${abi_math_gsl_has_libs}" >&6; }
  fi

    if test "${abi_math_gsl_has_incs}" = "yes" -a \
          "${abi_math_gsl_has_libs}" = "yes"; then
    abi_math_gsl_serial="yes"
  fi

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


        abi_math_serial="${abi_math_gsl_serial}"
        abi_math_mpi="${abi_math_gsl_mpi}"
        if test "${abi_math_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_GSL 1" >>confdefs.h

          lib_math_fcflags="${abi_math_gsl_fcflags}"
          lib_math_ldflags="${abi_math_gsl_ldflags}"
          lib_math_incs="${abi_math_gsl_incs}"
          lib_math_libs="${abi_math_gsl_libs}"
        fi
        ;;

      mlib)
        
    abi_math_mlib_serial="no"
  abi_math_mlib_mpi="no"
  abi_math_mlib_fcflags=""
  abi_math_mlib_ldflags=""
  abi_math_mlib_incs=""
  abi_math_mlib_libs=""

    if test "${with_math_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for vrpbrmrb in -lveclib" >&5
$as_echo_n "checking for vrpbrmrb in -lveclib... " >&6; }
if ${ac_cv_lib_veclib_vrpbrmrb+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lveclib  $LIBS"
cat > conftest.$ac_ext <<_ACEOF
      program main
      call vrpbrmrb
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_lib_veclib_vrpbrmrb=yes
else
  ac_cv_lib_veclib_vrpbrmrb=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_veclib_vrpbrmrb" >&5
$as_echo "$ac_cv_lib_veclib_vrpbrmrb" >&6; }
if test "x$ac_cv_lib_veclib_vrpbrmrb" = xyes; then :
  cat >>confdefs.h <<_ACEOF
@%:@define HAVE_LIBVECLIB 1
_ACEOF

  LIBS="-lveclib $LIBS"

fi

    if test "${ac_cv_lib_veclib_vrpbrmrb}" = "yes"; then
      abi_math_mlib_serial="yes"
      abi_math_mlib_libs="-lveclib"
    fi
    if test "${enable_mpi}" = "yes" -a \
            "${abi_math_mlib_serial}" = "yes"; then
      abi_math_mlib_mpi="no"
    fi
  else
                    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: library check not implemented" >&5
$as_echo "$as_me: WARNING: library check not implemented" >&2;}
    abi_math_mlib_serial="yes"
    if test "${enable_mpi}" = "yes"; then
      abi_math_mlib_mpi="yes"
    fi
    if test "${abi_math_mlib_serial}" = "yes"; then
      abi_math_mlib_incs="${with_math_incs}"
      abi_math_mlib_libs="${with_math_libs}"
    fi
  fi

        abi_math_serial="${abi_math_mlib_serial}"
        abi_math_mpi="${abi_math_mlib_mpi}"
        if test "${abi_math_serial}" = "yes"; then
          
$as_echo "@%:@define HAVE_LINALG_MLIB 1" >>confdefs.h

          lib_math_fcflags="${abi_math_mlib_fcflags}"
          lib_math_ldflags="${abi_math_mlib_ldflags}"
          lib_math_incs="${abi_math_mlib_incs}"
          lib_math_libs="${abi_math_mlib_libs}"
        fi
        ;;

      *)
        as_fn_error $? "unknown math flavor '${with_math_flavor}'" "$LINENO" 5
        ;;

    esac

  fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  LIBS="${abi_saved_LIBS}"
  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the actual math support" >&5
$as_echo_n "checking for the actual math support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_math_flavor}" >&5
$as_echo "${lib_math_flavor}" >&6; }
  if test "${lib_math_flavor}" = "broken"; then
    
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

    if test "${with_math_libs}" = ""; then
      as_fn_error $? "the requested ${with_math_flavor} math flavor is not available" "$LINENO" 5
    else
      as_fn_error $? "the specified math libraries do not work" "$LINENO" 5
    fi
  fi

    
  
  
  
  

fi

# External DFT support
if test "${enable_connectors}" = "yes" -a \
        "${enable_fallbacks}" != "force"; then
  
    abi_test_atompaw="no"
  abi_test_bigdft="no"
  abi_test_libxc="no"
  abi_test_wannier90="no"
  lib_dft_flavor="${with_dft_flavor}"
  tmp_dft_flavor=""

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  abi_saved_LIBS="${LIBS}"
  LDFLAGS="${FC_LDFLAGS}"
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the requested DFT support" >&5
$as_echo_n "checking for the requested DFT support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_dft_flavor}" >&5
$as_echo "${with_dft_flavor}" >&6; }

    if test "${with_dft_flavor}" != "none"; then

        abi_dft_iter=`echo "${lib_dft_flavor}" | tr '+' '\n' | sort -u | awk '{printf " %s",$1}'`
    abi_dft_tmp="${abi_dft_iter}"
    for abi_dft_flavor in ${abi_dft_iter}; do
      if test "${abi_dft_flavor}" = "libxc"; then
        abi_dft_tmp=`echo "${abi_dft_iter}" | sed -e 's/libxc//'`
        abi_dft_tmp="libxc ${abi_dft_tmp}"
      fi
      if test "${abi_dft_flavor}" = "libxc-fallback"; then
        abi_dft_tmp=`echo "${abi_dft_iter}" | sed -e 's/libxc-fallback//'`
        abi_dft_tmp="libxc-fallback ${abi_dft_tmp}"
      fi
    done
    abi_dft_iter="${abi_dft_tmp}"

    for abi_dft_flavor in ${abi_dft_iter}; do

            tmp_dft_base_flavor=`echo "${abi_dft_flavor}" | cut -d- -f1`
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to select a fallback for ${tmp_dft_base_flavor}" >&5
$as_echo_n "checking whether to select a fallback for ${tmp_dft_base_flavor}... " >&6; }
      tmp_dft_fallback=`echo "${abi_dft_flavor}" | cut -s -d- -f2`
      if test "${tmp_dft_fallback}" = "fallback"; then
        tmp_dft_fallback="yes"
      else
        tmp_dft_fallback="no"
      fi
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${tmp_dft_fallback}" >&5
$as_echo "${tmp_dft_fallback}" >&6; }
      if test "${tmp_dft_fallback}" = "yes" -a \
              "${enable_fallbacks}" = "no"; then
        as_fn_error $? "fallback requested while fallbacks have been globally disabled" "$LINENO" 5
      fi

            case "${abi_dft_flavor}" in

        atompaw)
          if test "${abi_linalg_serial}" = "yes" -a \
                  "${abi_dft_libxc_serial}" = "yes"; then
            abi_dft_atompaw_prereqs="yes"
            
    abi_dft_atompaw_has_bins="no"
  abi_dft_atompaw_has_incs="no"
  abi_dft_atompaw_has_libs="no"
  abi_dft_atompaw_serial="no"
  abi_dft_atompaw_mpi="no"
  abi_dft_atompaw_fcflags=""
  abi_dft_atompaw_ldflags=""
  abi_dft_atompaw_bins="${with_atompaw_bins}"
  abi_dft_atompaw_incs="${with_atompaw_incs}"
  abi_dft_atompaw_libs="${with_atompaw_libs}"

    if test "${abi_dft_atompaw_bins}" = ""; then
    for ac_prog in atompaw
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ATOMPAW_BIN+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$ATOMPAW_BIN"; then
  ac_cv_prog_ATOMPAW_BIN="$ATOMPAW_BIN" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_ATOMPAW_BIN="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
ATOMPAW_BIN=$ac_cv_prog_ATOMPAW_BIN
if test -n "$ATOMPAW_BIN"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ATOMPAW_BIN" >&5
$as_echo "$ATOMPAW_BIN" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$ATOMPAW_BIN" && break
done

    for ac_prog in graphatom
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_GRAPHATOM_BIN+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$GRAPHATOM_BIN"; then
  ac_cv_prog_GRAPHATOM_BIN="$GRAPHATOM_BIN" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_GRAPHATOM_BIN="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
GRAPHATOM_BIN=$ac_cv_prog_GRAPHATOM_BIN
if test -n "$GRAPHATOM_BIN"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $GRAPHATOM_BIN" >&5
$as_echo "$GRAPHATOM_BIN" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$GRAPHATOM_BIN" && break
done

    if test "${ATOMPAW_BIN}" != "" -a "${GRAPHATOM_BIN}" != ""; then
      abi_dft_atompaw_has_bins="yes"
    fi
  else
    ATOMPAW_BIN="${abi_dft_atompaw_bins}/atompaw"
    GRAPHATOM_BIN="${abi_dft_atompaw_bins}/graphatom"
    if test -x "${ATOMPAW_BIN}" -a -x "${GRAPHATOM_BIN}"; then
      abi_dft_atompaw_has_bins="yes"
    fi
  fi

    if test "${abi_dft_atompaw_has_bins}" = "yes"; then
    abi_dft_atompaw_serial="yes"
  fi

    if test "${enable_mpi}" = "yes"; then
    if test "${abi_dft_atompaw_serial}" = "yes"; then
      abi_dft_atompaw_mpi="yes"
    fi
  fi

          else
            if test "${abi_linalg_serial}" != "yes"; then
              { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: AtomPAW requires missing linear algebra support" >&5
$as_echo "$as_me: WARNING: AtomPAW requires missing linear algebra support" >&2;}
            fi
            if test "${abi_dft_libxc_serial}" != "yes"; then
              { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: AtomPAW requires missing LibXC support" >&5
$as_echo "$as_me: WARNING: AtomPAW requires missing LibXC support" >&2;}
            fi
            if test \( "${abi_dft_libxc_serial}" = "no" -a \
                       "${abi_dft_libxc_fallback}" != "yes" \) -o \
                    \( "${abi_linalg_serial}" = "no" -a \
                       "${abi_dft_linalg_fallback}" != "yes" \); then
              abi_dft_atompaw_prereqs="no"
            fi
            abi_dft_atompaw_serial="no"
            abi_dft_atompaw_mpi="no"
          fi
          if test "${abi_dft_atompaw_serial}" = "yes" -o \
                  "${enable_fallbacks}" = "yes"; then
            
$as_echo "@%:@define HAVE_ATOMPAW 1" >>confdefs.h

            abi_test_atompaw="yes"
          fi
          if test "${abi_dft_atompaw_serial}" = "yes"; then
            lib_atompaw_bins="${abi_dft_atompaw_bins}"
            lib_atompaw_incs="${abi_dft_atompaw_incs}"
            lib_atompaw_libs="${abi_dft_atompaw_libs}"
          fi
          ;;

        atompaw-fallback)
          if test "${abi_linalg_serial}" != "yes" -a \
                  "${abi_linalg_fallback}" != "yes"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: AtomPAW requires missing linear algebra support" >&5
$as_echo "$as_me: WARNING: AtomPAW requires missing linear algebra support" >&2;}
            abi_dft_atompaw_prereqs="no"
            abi_dft_atompaw_serial="no"
            abi_dft_atompaw_mpi="no"
          fi
          if test "${abi_dft_libxc_serial}" != "yes" -a \
                  "${abi_dft_libxc_fallback}" != "yes"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: AtomPAW requires missing LibXC support" >&5
$as_echo "$as_me: WARNING: AtomPAW requires missing LibXC support" >&2;}
            abi_dft_atompaw_prereqs="no"
            abi_dft_atompaw_serial="no"
            abi_dft_atompaw_mpi="no"
          fi
          ;;

        bigdft)
          if test "${abi_dft_libxc_serial}" = "yes" -a \
                  "${abi_linalg_serial}" = "yes"; then
            abi_dft_bigdft_prereqs="yes"
            
    abi_dft_bigdft_default_libs="-lbigdft-1 -labinit -lyaml"
  abi_dft_bigdft_has_incs="no"
  abi_dft_bigdft_has_libs="no"
  abi_dft_bigdft_serial="no"
  abi_dft_bigdft_mpi="no"
  abi_dft_bigdft_fcflags=""
  abi_dft_bigdft_ldflags=""
  abi_dft_bigdft_incs="${with_bigdft_incs}"
  abi_dft_bigdft_libs="${with_bigdft_libs}"

    tmp_saved_FCFLAGS="${FCFLAGS}"
  tmp_saved_LIBS="${LIBS}"
  FCFLAGS="${FCFLAGS} ${abi_linalg_incs} ${abi_trio_netcdf_incs} ${abi_trio_etsf_io_incs} ${abi_dft_libxc_incs} ${abi_dft_bigdft_incs}"
  LIBS="${lib_libxc_libs} ${lib_etsf_io_libs} ${lib_netcdf_libs} ${lib_linalg_libs} ${LIBS}"
  if test "${with_bigdft_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for BigDFT libraries to try" >&5
$as_echo_n "checking for BigDFT libraries to try... " >&6; }
    LIBS="${abi_dft_bigdft_default_libs} ${LIBS}"
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_dft_bigdft_default_libs}" >&5
$as_echo "${abi_dft_bigdft_default_libs}" >&6; }
  else
    LIBS="${abi_dft_bigdft_libs} ${LIBS}"
  fi

    
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran module includes" >&5
$as_echo_n "checking for Fortran module includes... " >&6; }

  if test "${abi_fc_mod_incs_ok}" = "" -o \
          "${abi_fc_mod_incs_ok}" = "unknown"; then

        fc_mod_incs=""

        tmp_saved_FCFLAGS="${FCFLAGS}"
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


        cat > conftest.$ac_ext <<_ACEOF
      program main

        use bigdft_api
      
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="none required"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

        if test "${abi_fc_mod_incs_ok}" = "unknown"; then
      FCFLAGS="${FCFLAGS} -I/usr/include"
      cat > conftest.$ac_ext <<_ACEOF
      program main

          use bigdft_api
        
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="-I/usr/include"; fc_mod_incs="-I/usr/include"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok}" >&5
$as_echo "${abi_fc_mod_incs_ok}" >&6; }

        ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    FCFLAGS="${tmp_saved_FCFLAGS}"

  else

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok} (cached)" >&5
$as_echo "${abi_fc_mod_incs_ok} (cached)" >&6; }

  fi

    

  FCFLAGS="${FCFLAGS} ${fc_mod_incs}"
  if test "${abi_fc_mod_incs_ok}" != "unknown"; then
    abi_dft_bigdft_has_incs="yes"
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether BigDFT libraries work" >&5
$as_echo_n "checking whether BigDFT libraries work... " >&6; }
  cat > conftest.$ac_ext <<_ACEOF
      program main

      use bigdft_api
      implicit none
      integer iproc
      type(input_variables) :: inputs
      type(atoms_data) :: atoms
      type(restart_objects) :: rst
      call init_restart_objects(iproc,inputs,atoms,rst)
    
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_dft_bigdft_has_libs="yes"
else
  abi_dft_bigdft_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_dft_bigdft_has_libs}" >&5
$as_echo "${abi_dft_bigdft_has_libs}" >&6; }

    if test "${abi_dft_bigdft_has_incs}" = "yes" -a \
          "${abi_dft_bigdft_has_libs}" = "yes"; then
    abi_dft_bigdft_serial="yes"
    if test "${with_bigdft_libs}" = ""; then
      abi_dft_bigdft_libs="${abi_dft_bigdft_default_libs}"
    fi
  fi

    if test "${enable_mpi}" = "yes"; then
    if test "${abi_dft_bigdft_serial}" = "yes"; then
      abi_dft_bigdft_mpi="yes"
    fi
  fi

    FCFLAGS="${tmp_saved_FCFLAGS}"
  LIBS="${tmp_saved_LIBS}"

          else
            if test "${abi_linalg_serial}" != "yes"; then
              { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: BigDFT requires missing linear algebra support" >&5
$as_echo "$as_me: WARNING: BigDFT requires missing linear algebra support" >&2;}
            fi
            if test "${abi_dft_libxc_serial}" != "yes"; then
              { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: BigDFT requires missing LibXC support" >&5
$as_echo "$as_me: WARNING: BigDFT requires missing LibXC support" >&2;}
            fi
            if test \( "${abi_dft_libxc_serial}" = "no" -a \
                       "${abi_dft_libxc_fallback}" != "yes" \) -o \
                    \( "${abi_linalg_serial}" = "no" -a \
                       "${abi_dft_linalg_fallback}" != "yes" \); then
              abi_dft_bigdft_prereqs="no"
            fi
            abi_dft_bigdft_serial="no"
            abi_dft_bigdft_mpi="no"
          fi
          if test "${abi_dft_bigdft_serial}" = "yes" -o \
                  "${enable_fallbacks}" = "yes"; then
            
$as_echo "@%:@define HAVE_BIGDFT 1" >>confdefs.h

            abi_test_bigdft="yes"
          fi
          if test "${abi_dft_bigdft_serial}" = "yes"; then
            lib_bigdft_incs="${abi_dft_bigdft_incs}"
            lib_bigdft_libs="${abi_dft_bigdft_libs}"
          fi
          ;;

        bigdft-fallback)
          if test "${abi_linalg_serial}" != "yes" -a \
                  "${abi_linalg_fallback}" != "yes"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: BigDFT requires missing linear algebra support" >&5
$as_echo "$as_me: WARNING: BigDFT requires missing linear algebra support" >&2;}
            abi_dft_bigdft_prereqs="no"
            abi_dft_bigdft_serial="no"
            abi_dft_bigdft_mpi="no"
          fi
          if test "${abi_dft_libxc_serial}" != "yes" -a \
                  "${abi_dft_libxc_fallback}" != "yes"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: BigDFT requires missing LibXC support" >&5
$as_echo "$as_me: WARNING: BigDFT requires missing LibXC support" >&2;}
            abi_dft_bigdft_prereqs="no"
            abi_dft_bigdft_serial="no"
            abi_dft_bigdft_mpi="no"
          fi
          ;;

        libxc)
          
    abi_dft_libxc_has_incs="no"
  abi_dft_libxc_has_libs="no"
  abi_dft_libxc_version="no"
  abi_dft_libxc_serial="no"
  abi_dft_libxc_mpi="no"
  abi_dft_libxc_fcflags=""
  abi_dft_libxc_ldflags=""
  abi_dft_libxc_incs="${with_libxc_incs}"
  abi_dft_libxc_libs="${with_libxc_libs}"

    tmp_saved_CPPFLAGS="${CPPFLAGS}"
  tmp_saved_FCFLAGS="${FCFLAGS}"
  tmp_saved_LIBS="${LIBS}"
  CPPFLAGS="${CPPFLAGS} ${abi_dft_libxc_incs}"
  FCFLAGS="${FCFLAGS} ${abi_dft_libxc_incs}"

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  for ac_header in xc.h xc_funcs.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
@%:@define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
 abi_dft_libxc_has_incs="yes"
else
  abi_dft_libxc_has_incs="no"
fi

done

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    if test "${with_libxc_libs}" = ""; then
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing xc_func_init" >&5
$as_echo_n "checking for library containing xc_func_init... " >&6; }
if ${ac_cv_search_xc_func_init+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char xc_func_init ();
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return xc_func_init ();
  ;
  return 0;
}
_ACEOF
for ac_lib in '' xc dft_xc; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_search_xc_func_init=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_xc_func_init+:} false; then :
  break
fi
done
if ${ac_cv_search_xc_func_init+:} false; then :
  
else
  ac_cv_search_xc_func_init=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_xc_func_init" >&5
$as_echo "$ac_cv_search_xc_func_init" >&6; }
ac_res=$ac_cv_search_xc_func_init
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_dft_libxc_has_libs="yes"
fi

    if test "${abi_dft_libxc_has_libs}" = "yes"; then
      if test "${ac_cv_search_xc_func_init}" != "none required"; then
        abi_dft_libxc_libs="${ac_cv_search_xc_func_init}"
      fi
    fi
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

  fi
  LIBS="${abi_dft_libxc_libs} ${LIBS}"

    
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for Fortran module includes" >&5
$as_echo_n "checking for Fortran module includes... " >&6; }

  if test "${abi_fc_mod_incs_ok}" = "" -o \
          "${abi_fc_mod_incs_ok}" = "unknown"; then

        fc_mod_incs=""

        tmp_saved_FCFLAGS="${FCFLAGS}"
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


        cat > conftest.$ac_ext <<_ACEOF
      program main

        use xc_f90_lib_m
      
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="none required"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

        if test "${abi_fc_mod_incs_ok}" = "unknown"; then
      FCFLAGS="${FCFLAGS} -I/usr/include"
      cat > conftest.$ac_ext <<_ACEOF
      program main

          use xc_f90_lib_m
        
      end
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_mod_incs_ok="-I/usr/include"; fc_mod_incs="-I/usr/include"
else
  abi_fc_mod_incs_ok="unknown"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok}" >&5
$as_echo "${abi_fc_mod_incs_ok}" >&6; }

        ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    FCFLAGS="${tmp_saved_FCFLAGS}"

  else

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_incs_ok} (cached)" >&5
$as_echo "${abi_fc_mod_incs_ok} (cached)" >&6; }

  fi

    

  FCFLAGS="${FCFLAGS} ${fc_mod_incs}"
  if test "${abi_fc_mod_incs_ok}" = "unknown"; then
    abi_dft_libxc_has_incs="no"
  fi

    if test "${abi_dft_libxc_has_incs}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether LibXC has Fortran support" >&5
$as_echo_n "checking whether LibXC has Fortran support... " >&6; }
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    cat > conftest.$ac_ext <<_ACEOF
      program main

        use xc_f90_lib_m
        integer :: i
        type(xc_f90_pointer_t) :: info
        i = xc_f90_info_number(info)
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_dft_libxc_has_libs="yes"
else
  abi_dft_libxc_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_dft_libxc_has_libs}" >&5
$as_echo "${abi_dft_libxc_has_libs}" >&6; }
  fi

    if test "${abi_dft_libxc_has_incs}" = "yes" -a \
          "${abi_dft_libxc_has_libs}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether this is LibXC version 2.2->4.0" >&5
$as_echo_n "checking whether this is LibXC version 2.2->4.0... " >&6; }
    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

    if test "$cross_compiling" = yes; then :
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run test program while cross compiling
See \`config.log' for more details" "$LINENO" 5; }
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include "xc.h"
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
int ver=100*XC_MAJOR_VERSION+XC_MINOR_VERSION;
        int ver_min=100*2+2,ver_max=100*4+0;
        if ( (ver<ver_min) || (ver>ver_max)) {return 1;}
      
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  abi_dft_libxc_version="yes"
else
  abi_dft_libxc_version="no"
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

    ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_dft_libxc_version}" >&5
$as_echo "${abi_dft_libxc_version}" >&6; }
  fi

    if test "${abi_dft_libxc_has_incs}" = "yes" -a \
          "${abi_dft_libxc_has_libs}" = "yes" -a \
          "${abi_dft_libxc_version}" = "yes"; then
    abi_dft_libxc_serial="yes"
  fi

    if test "${enable_mpi}" = "yes"; then
    if test "${abi_dft_libxc_serial}" = "yes"; then
      abi_dft_libxc_mpi="yes"
    fi
  fi

    CPPFLAGS="${tmp_saved_CPPFLAGS}"
  FCFLAGS="${tmp_saved_FCFLAGS}"
  LIBS="${tmp_saved_LIBS}"

    if test "${abi_dft_libxc_serial}" = "yes"; then
    FCFLAGS="${FCFLAGS} ${abi_dft_libxc_incs}"
    LIBS="${abi_dft_libxc_libs} ${LIBS}"
  fi

          if test "${abi_dft_libxc_serial}" = "yes" -o \
                  "${enable_fallbacks}" = "yes"; then
            
$as_echo "@%:@define HAVE_LIBXC 1" >>confdefs.h

            abi_test_libxc="yes"
          fi
          if test "${abi_dft_libxc_serial}" = "yes"; then
            lib_libxc_incs="${abi_dft_libxc_incs}"
            lib_libxc_libs="${abi_dft_libxc_libs}"
          elif test "${enable_fallbacks}" = "yes"; then
            abi_dft_libxc_fallback="yes"
          fi
          ;;

        wannier90)
                    if test "${abi_linalg_serial}" = "yes"; then
            abi_dft_wannier90_prereqs="yes"
            
    abi_dft_wannier90_has_bins="no"
  abi_dft_wannier90_has_incs="no"
  abi_dft_wannier90_has_libs="no"
  abi_dft_wannier90_serial="no"
  abi_dft_wannier90_mpi="no"
  abi_dft_wannier90_v1="no"
  abi_dft_wannier90_fcflags=""
  abi_dft_wannier90_ldflags=""
  abi_dft_wannier90_bins="${with_wannier90_bins}"
  abi_dft_wannier90_incs="${with_wannier90_incs}"
  abi_dft_wannier90_libs="${with_wannier90_libs}"

    tmp_saved_LIBS="${LIBS}"
  LIBS="${abi_dft_wannier90_libs} ${lib_linalg_libs} ${LIBS}"

    if test "${abi_dft_wannier90_bins}" = ""; then
    for ac_prog in wannier.x wannier90.x
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_WANNIER90_X_BIN+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$WANNIER90_X_BIN"; then
  ac_cv_prog_WANNIER90_X_BIN="$WANNIER90_X_BIN" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_WANNIER90_X_BIN="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
WANNIER90_X_BIN=$ac_cv_prog_WANNIER90_X_BIN
if test -n "$WANNIER90_X_BIN"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $WANNIER90_X_BIN" >&5
$as_echo "$WANNIER90_X_BIN" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$WANNIER90_X_BIN" && break
done

    if test "${WANNIER90_X_BIN}" != ""; then
      abi_dft_wannier90_has_bins="yes"
    fi
    for ac_prog in w90chk2chk.x
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_W90CHK2CHK_X_BIN+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -n "$W90CHK2CHK_X_BIN"; then
  ac_cv_prog_W90CHK2CHK_X_BIN="$W90CHK2CHK_X_BIN" # Let the user override the test.
else
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if as_fn_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
    ac_cv_prog_W90CHK2CHK_X_BIN="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

fi
fi
W90CHK2CHK_X_BIN=$ac_cv_prog_W90CHK2CHK_X_BIN
if test -n "$W90CHK2CHK_X_BIN"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $W90CHK2CHK_X_BIN" >&5
$as_echo "$W90CHK2CHK_X_BIN" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


  test -n "$W90CHK2CHK_X_BIN" && break
done

    if test "${W90CHK2CHK_X_BIN}" = ""; then
      abi_dft_wannier90_v1="yes"
    fi
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for wannier.x" >&5
$as_echo_n "checking for wannier.x... " >&6; }
    WANNIER90_X_BIN="${abi_dft_wannier90_bins}/wannier.x"
    if test -x "${WANNIER90_X_BIN}"; then
      abi_dft_wannier90_has_bins="yes"
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_dft_wannier90_has_bins}" >&5
$as_echo "${abi_dft_wannier90_has_bins}" >&6; }
    if test "${abi_dft_wannier90_has_bins}" != "yes"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for wannier90.x" >&5
$as_echo_n "checking for wannier90.x... " >&6; }
      WANNIER90_X_BIN="${abi_dft_wannier90_bins}/wannier90.x"
      if test -x "${WANNIER90_X_BIN}"; then
        abi_dft_wannier90_has_bins="yes"
      fi
      { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_dft_wannier90_has_bins}" >&5
$as_echo "${abi_dft_wannier90_has_bins}" >&6; }
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for wannier90 v1.x (absence of w90chk2chk.x)" >&5
$as_echo_n "checking for wannier90 v1.x (absence of w90chk2chk.x)... " >&6; }
    W90CHK2CHK_X_BIN="${abi_dft_wannier90_bins}/w90chk2chk.x"
    if test ! -x "${W90CHK2CHK_X_BIN}"; then
      abi_dft_wannier90_v1="yes"
    fi
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_dft_wannier90_v1}" >&5
$as_echo "${abi_dft_wannier90_v1}" >&6; }
  fi

    if test "${abi_dft_wannier90_libs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing wannier_run" >&5
$as_echo_n "checking for library containing wannier_run... " >&6; }
if ${ac_cv_search_wannier_run+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat > conftest.$ac_ext <<_ACEOF
      program main
      call wannier_run
      end
_ACEOF
for ac_lib in '' wannier wannier90; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_fc_try_link "$LINENO"; then :
  ac_cv_search_wannier_run=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_wannier_run+:} false; then :
  break
fi
done
if ${ac_cv_search_wannier_run+:} false; then :
  
else
  ac_cv_search_wannier_run=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_wannier_run" >&5
$as_echo "$ac_cv_search_wannier_run" >&6; }
ac_res=$ac_cv_search_wannier_run
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
  abi_dft_wannier90_has_incs="yes"; abi_dft_wannier90_has_libs="yes"
else
  abi_dft_wannier90_has_libs="no"
fi

    if test "${abi_dft_wannier90_has_libs}" = "yes"; then
      if test "${ac_cv_search_wannier_run}" != "none required"; then
        abi_dft_wannier90_libs="${ac_cv_search_wannier_run}"
      fi
    fi
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the specified Wannier90 library works" >&5
$as_echo_n "checking whether the specified Wannier90 library works... " >&6; }
    cat > conftest.$ac_ext <<_ACEOF
      program main

        call wannier_run
      
      end
_ACEOF
if ac_fn_fc_try_link "$LINENO"; then :
  abi_dft_wannier90_has_incs="yes"; abi_dft_wannier90_has_libs="yes"
else
  abi_dft_wannier90_has_libs="no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_dft_wannier90_has_libs}" >&5
$as_echo "${abi_dft_wannier90_has_libs}" >&6; }
  fi

    if test "${abi_dft_wannier90_has_bins}" = "yes" -a \
          "${abi_dft_wannier90_has_incs}" = "yes" -a \
          "${abi_dft_wannier90_has_libs}" = "yes"; then
    abi_dft_wannier90_serial="yes"
  fi

    if test "${enable_mpi}" = "yes"; then
    if test "${abi_dft_wannier_serial}" = "yes"; then
      abi_dft_wannier_mpi="yes"
    fi
  fi

    LIBS="${tmp_saved_LIBS}"

          else
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: wannier90 requires missing linear algebra support" >&5
$as_echo "$as_me: WARNING: wannier90 requires missing linear algebra support" >&2;}
            if test "${abi_dft_linalg_fallback}" != "yes"; then
              abi_dft_wannier90_prereqs="no"
            fi
            abi_dft_wannier90_serial="no"
            abi_dft_wannier90_mpi="no"
          fi
          if test "${abi_dft_wannier90_serial}" = "yes" -o \
                  "${enable_fallbacks}" = "yes"; then
            
$as_echo "@%:@define HAVE_WANNIER90 1" >>confdefs.h

            abi_test_wannier90="yes"
          fi
          if test "${abi_dft_wannier90_serial}" = "yes"; then
            lib_wannier90_bins="${abi_dft_wannier90_bins}"
            lib_wannier90_incs="${abi_dft_wannier90_incs}"
            lib_wannier90_libs="${abi_dft_wannier90_libs}"
            if test "${abi_dft_wannier90_v1}" = "yes"; then
              
$as_echo "@%:@define HAVE_WANNIER90_V1 1" >>confdefs.h

            fi
          fi
          ;;

        wannier90-fallback)
          if test "${abi_linalg_serial}" != "yes" -a \
                  "${abi_linalg_fallback}" != "yes"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Wannier90 requires missing linear algebra support" >&5
$as_echo "$as_me: WARNING: Wannier90 requires missing linear algebra support" >&2;}
            abi_dft_wannier90_prereqs="no"
            abi_dft_wannier90_serial="no"
            abi_dft_wannier90_mpi="no"
            
$as_echo "@%:@define HAVE_WANNIER90_V1 0" >>confdefs.h

          fi
          ;;

        *)
          if test "${tmp_dft_fallback}" = "no"; then
            as_fn_error $? "unknown DFT flavor '${abi_dft_flavor}'" "$LINENO" 5
          fi
          ;;

      esac

            if test "${tmp_dft_fallback}" = "yes"; then
        eval abi_dft_${tmp_dft_base_flavor}_fallback="yes"
        abi_fallbacks="${abi_fallbacks} ${tmp_dft_base_flavor}"
        tmp_dft_flavor="${tmp_dft_flavor}+${abi_dft_flavor}"
        tmp_dft_prereqs=`eval echo \$\{abi_dft_${tmp_dft_base_flavor}_prereqs\}`
        if test "${tmp_dft_prereqs}" = "no"; then
          
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

          as_fn_error $? "prerequisites for ${abi_dft_flavor} not found" "$LINENO" 5
        fi
      else
        tmp_dft_prereqs=`eval echo \$\{abi_dft_${abi_dft_flavor}_prereqs\}`
        tmp_dft_serial=`eval echo \$\{abi_dft_${abi_dft_flavor}_serial\}`
        tmp_dft_incs=`eval echo \$\{with_${abi_dft_flavor}_bins\}`
        tmp_dft_incs=`eval echo \$\{with_${abi_dft_flavor}_incs\}`
        tmp_dft_libs=`eval echo \$\{with_${abi_dft_flavor}_libs\}`
        { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: package: ${abi_dft_flavor} - preq=${tmp_dft_prereqs} - working=${tmp_dft_serial} - incs=${tmp_dft_incs} libs=${tmp_dft_libs}" >&5
$as_echo "$as_me: WARNING: package: ${abi_dft_flavor} - preq=${tmp_dft_prereqs} - working=${tmp_dft_serial} - incs=${tmp_dft_incs} libs=${tmp_dft_libs}" >&2;}
        if test "${tmp_dft_serial}" = "no"; then
          if test "${tmp_dft_bins}" = "" -a \
                  "${tmp_dft_incs}" = "" -a \
                  "${tmp_dft_libs}" = "" -a \
                  "${tmp_dft_prereqs}" != "no"; then
            { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: falling back to internal ${abi_dft_flavor} version" >&5
$as_echo "$as_me: WARNING: falling back to internal ${abi_dft_flavor} version" >&2;}
            abi_fallbacks="${abi_fallbacks} ${abi_dft_flavor}"
            tmp_dft_flavor="${tmp_dft_flavor}+${abi_dft_flavor}-fallback"
          else
            
    
    abi_msg_file="${abinit_srcdir}/config/messages/connectors-failure.msg"
  abi_msg_title="Connector detection failure"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

            as_fn_error $? "external ${abi_dft_flavor} support does not work" "$LINENO" 5
          fi
        else
          tmp_dft_flavor="${tmp_dft_flavor}+${abi_dft_flavor}"
        fi
      fi

    done

  fi

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  LIBS="${abi_saved_LIBS}"
  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"



    if test "${tmp_dft_flavor}" != ""; then
    lib_dft_flavor=`echo "${tmp_dft_flavor}" | sed -e 's/^\+//;s/\+$//'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the actual DFT support" >&5
$as_echo_n "checking for the actual DFT support... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${lib_dft_flavor}" >&5
$as_echo "${lib_dft_flavor}" >&6; }

    
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

else
  abi_fallbacks="${abi_fallbacks} `echo ${with_dft_flavor} | sed -e 's/+/ /g;s/none//g'`"
  if test "${with_dft_flavor}" = "none"; then
    lib_dft_flavor="none"
  else
    lib_dft_flavor=`echo "${with_dft_flavor}" | sed -e 's/+/-fallback+/g;s/$/-fallback/'`
  fi
  lib_dft_flavor="${lib_dft_flavor} (libs: ignored)"
fi

# Check consistency of current status
abi_fallbacks=`echo "${abi_fallbacks}" | tr ' ' '\n' | sort -u | \
  awk '{printf " %s",$1}' | sed -e 's/^ *//'`
if test "${enable_fallbacks}" = "no" -a "${abi_fallbacks}" != ""; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: fallbacks are disabled but the following ones have to be built:" >&5
$as_echo "$as_me: fallbacks are disabled but the following ones have to be built:" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}
  for pkg in ${abi_fallbacks}; do
    { $as_echo "$as_me:${as_lineno-$LINENO}:   * ${pkg}" >&5
$as_echo "$as_me:   * ${pkg}" >&6;}
  done
  { $as_echo "$as_me:${as_lineno-$LINENO}: " >&5
$as_echo "$as_me: " >&6;}
  as_fn_error $? "cannot build Abinit" "$LINENO" 5
fi

# Init options for the fallbacks subsystem
enable_atompaw="no"
enable_bigdft="no"
enable_etsf_io="no"
enable_libxc="no"
enable_linalg="no"
enable_netcdf="no"
enable_wannier90="no"

# display status of fallbacks
{ $as_echo "$as_me:${as_lineno-$LINENO}: fallbacks to enable => ${abi_fallbacks}" >&5
$as_echo "$as_me: fallbacks to enable => ${abi_fallbacks}" >&6;}
for pkg in ${abi_fallbacks}; do
  eval enable_${pkg}="yes"
done
for pkg in atompaw bigdft etsf_io libxc linalg netcdf wannier90; do
  tmp_pkg_enabled=`eval echo \$\{enable_${pkg}\}`
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to build ${pkg}" >&5
$as_echo_n "checking whether to build ${pkg}... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${tmp_pkg_enabled}" >&5
$as_echo "${tmp_pkg_enabled}" >&6; }
done

# Inform Automake
 if test "${lib_math_flavor}" = "gsl"; then
  DO_BUILD_01_GSL_EXT_TRUE=
  DO_BUILD_01_GSL_EXT_FALSE='#'
else
  DO_BUILD_01_GSL_EXT_TRUE='#'
  DO_BUILD_01_GSL_EXT_FALSE=
fi

##############################################
if test "${enable_connectors}" = "yes"; then
  
    lib_triqs_incs=""
  lib_triqs_libs=""

  if test "${enable_triqs_v2_0}" = "yes" || test "${enable_triqs_v1_4}" = "yes"; then

    lib_triqs_incs="${with_triqs_incs}"
    lib_triqs_libs="${with_triqs_libs}"

    
  fi

     if test "${enable_triqs_v2_0}" = "yes" || test "${enable_triqs_v1_4}" = "yes"; then
  DO_BUILD_67_TRIQS_EXT_TRUE=
  DO_BUILD_67_TRIQS_EXT_FALSE='#'
else
  DO_BUILD_67_TRIQS_EXT_TRUE='#'
  DO_BUILD_67_TRIQS_EXT_FALSE=
fi


    
  
  
  


fi
##############################################
# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Buggy Fortran compilers
#

# NOTE: must be done at the end because the wrapper is built by configure

# Correct include flags to allow for the build of incompatible Fortran modules

  abi_extra_incs=""
  { $as_echo "$as_me:${as_lineno-$LINENO}: correcting include flags" >&5
$as_echo "$as_me: correcting include flags" >&6;}

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for algo" >&5
$as_echo_n "checking whether to postpone -I/usr/include for algo... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_algo_incs=`echo "${lib_algo_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for bigdft" >&5
$as_echo_n "checking whether to postpone -I/usr/include for bigdft... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_bigdft_incs=`echo "${lib_bigdft_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for etsf_io" >&5
$as_echo_n "checking whether to postpone -I/usr/include for etsf_io... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_etsf_io_incs=`echo "${lib_etsf_io_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for fft" >&5
$as_echo_n "checking whether to postpone -I/usr/include for fft... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_fft_incs=`echo "${lib_fft_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for gpu" >&5
$as_echo_n "checking whether to postpone -I/usr/include for gpu... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_gpu_incs=`echo "${lib_gpu_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for libxc" >&5
$as_echo_n "checking whether to postpone -I/usr/include for libxc... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_libxc_incs=`echo "${lib_libxc_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for linalg" >&5
$as_echo_n "checking whether to postpone -I/usr/include for linalg... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_linalg_incs=`echo "${lib_linalg_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for math" >&5
$as_echo_n "checking whether to postpone -I/usr/include for math... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_math_incs=`echo "${lib_math_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for mpi" >&5
$as_echo_n "checking whether to postpone -I/usr/include for mpi... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_mpi_incs=`echo "${lib_mpi_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for netcdf" >&5
$as_echo_n "checking whether to postpone -I/usr/include for netcdf... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_netcdf_incs=`echo "${lib_netcdf_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for psml" >&5
$as_echo_n "checking whether to postpone -I/usr/include for psml... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_psml_incs=`echo "${lib_psml_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for timer" >&5
$as_echo_n "checking whether to postpone -I/usr/include for timer... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_timer_incs=`echo "${lib_timer_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for triqs" >&5
$as_echo_n "checking whether to postpone -I/usr/include for triqs... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_triqs_incs=`echo "${lib_triqs_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for wannier90" >&5
$as_echo_n "checking whether to postpone -I/usr/include for wannier90... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_wannier90_incs=`echo "${lib_wannier90_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to postpone -I/usr/include for yaml" >&5
$as_echo_n "checking whether to postpone -I/usr/include for yaml... " >&6; }
  tmp_incs=`echo "${lib_%s_incs}" | grep -- '-I/usr/include $'`
  if test "${tmp_incs}" = ""; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
    abi_extra_incs="-I/usr/include"
    lib_yaml_incs=`echo "${lib_yaml_incs}" | sed -e 's,-I/usr/include $,,'`
  fi
  unset tmp_incs

  


# Wrap buggy Fortran compilers
FC_NOWRAP="${FC}"
if test "${abi_fc_wrap}" = "yes"; then
  FC="${abinit_builddir}/config/wrappers/wrap-fc"
fi


# Force F77 and F90 environment variables (keep always last)
F77="${FC}"
FFLAGS="${FCFLAGS}"
F90="${FC}"
F90FLAGS="${FCFLAGS}"

# The following is required for oldish fixed-form Fortran libraries



# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Experimental developments
#


    
  abi_sec_title="Experimental developments and option triggers"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Determine Fortran module name mangling for bindings
if test "${enable_bindings}" = "yes"; then
  
    abi_fc_module_ok="no"

    
    
    abi_env_ABI_CPPFLAGS="${ABI_CPPFLAGS}"

    abi_env_AR="${AR}"

    abi_env_ARFLAGS="${ARFLAGS}"

    abi_env_ARFLAGS_64BITS="${ARFLAGS_64BITS}"

    abi_env_ARFLAGS_CMD="${ARFLAGS_CMD}"

    abi_env_ARFLAGS_DEBUG="${ARFLAGS_DEBUG}"

    abi_env_ARFLAGS_EXTRA="${ARFLAGS_EXTRA}"

    abi_env_ARFLAGS_HINTS="${ARFLAGS_HINTS}"

    abi_env_ARFLAGS_OPTIM="${ARFLAGS_OPTIM}"

    abi_env_CC="${CC}"

    abi_env_CC_LDFLAGS="${CC_LDFLAGS}"

    abi_env_CC_LDFLAGS_64BITS="${CC_LDFLAGS_64BITS}"

    abi_env_CC_LDFLAGS_DEBUG="${CC_LDFLAGS_DEBUG}"

    abi_env_CC_LDFLAGS_EXTRA="${CC_LDFLAGS_EXTRA}"

    abi_env_CC_LDFLAGS_GPU="${CC_LDFLAGS_GPU}"

    abi_env_CC_LDFLAGS_HINTS="${CC_LDFLAGS_HINTS}"

    abi_env_CC_LDFLAGS_OPTIM="${CC_LDFLAGS_OPTIM}"

    abi_env_CC_LIBS="${CC_LIBS}"

    abi_env_CC_LIBS_64BITS="${CC_LIBS_64BITS}"

    abi_env_CC_LIBS_DEBUG="${CC_LIBS_DEBUG}"

    abi_env_CC_LIBS_EXTRA="${CC_LIBS_EXTRA}"

    abi_env_CC_LIBS_GPU="${CC_LIBS_GPU}"

    abi_env_CC_LIBS_HINTS="${CC_LIBS_HINTS}"

    abi_env_CC_LIBS_OPTIM="${CC_LIBS_OPTIM}"

    abi_env_CFLAGS="${CFLAGS}"

    abi_env_CFLAGS_64BITS="${CFLAGS_64BITS}"

    abi_env_CFLAGS_DEBUG="${CFLAGS_DEBUG}"

    abi_env_CFLAGS_EXTRA="${CFLAGS_EXTRA}"

    abi_env_CFLAGS_GPU="${CFLAGS_GPU}"

    abi_env_CFLAGS_HINTS="${CFLAGS_HINTS}"

    abi_env_CFLAGS_OPTIM="${CFLAGS_OPTIM}"

    abi_env_CPP="${CPP}"

    abi_env_CPPFLAGS="${CPPFLAGS}"

    abi_env_CPPFLAGS_64BITS="${CPPFLAGS_64BITS}"

    abi_env_CPPFLAGS_DEBUG="${CPPFLAGS_DEBUG}"

    abi_env_CPPFLAGS_EXTRA="${CPPFLAGS_EXTRA}"

    abi_env_CPPFLAGS_GPU="${CPPFLAGS_GPU}"

    abi_env_CPPFLAGS_HINTS="${CPPFLAGS_HINTS}"

    abi_env_CPPFLAGS_OPTIM="${CPPFLAGS_OPTIM}"

    abi_env_CXX="${CXX}"

    abi_env_CXXFLAGS="${CXXFLAGS}"

    abi_env_CXXFLAGS_64BITS="${CXXFLAGS_64BITS}"

    abi_env_CXXFLAGS_DEBUG="${CXXFLAGS_DEBUG}"

    abi_env_CXXFLAGS_EXTRA="${CXXFLAGS_EXTRA}"

    abi_env_CXXFLAGS_GPU="${CXXFLAGS_GPU}"

    abi_env_CXXFLAGS_HINTS="${CXXFLAGS_HINTS}"

    abi_env_CXXFLAGS_OPTIM="${CXXFLAGS_OPTIM}"

    abi_env_CXX_LDFLAGS="${CXX_LDFLAGS}"

    abi_env_CXX_LDFLAGS_64BITS="${CXX_LDFLAGS_64BITS}"

    abi_env_CXX_LDFLAGS_DEBUG="${CXX_LDFLAGS_DEBUG}"

    abi_env_CXX_LDFLAGS_EXTRA="${CXX_LDFLAGS_EXTRA}"

    abi_env_CXX_LDFLAGS_GPU="${CXX_LDFLAGS_GPU}"

    abi_env_CXX_LDFLAGS_HINTS="${CXX_LDFLAGS_HINTS}"

    abi_env_CXX_LDFLAGS_OPTIM="${CXX_LDFLAGS_OPTIM}"

    abi_env_CXX_LIBS="${CXX_LIBS}"

    abi_env_CXX_LIBS_64BITS="${CXX_LIBS_64BITS}"

    abi_env_CXX_LIBS_DEBUG="${CXX_LIBS_DEBUG}"

    abi_env_CXX_LIBS_EXTRA="${CXX_LIBS_EXTRA}"

    abi_env_CXX_LIBS_GPU="${CXX_LIBS_GPU}"

    abi_env_CXX_LIBS_HINTS="${CXX_LIBS_HINTS}"

    abi_env_CXX_LIBS_OPTIM="${CXX_LIBS_OPTIM}"

    abi_env_DEFS="${DEFS}"

    abi_env_F77="${F77}"

    abi_env_FC="${FC}"

    abi_env_FCFLAGS="${FCFLAGS}"

    abi_env_FCFLAGS_64BITS="${FCFLAGS_64BITS}"

    abi_env_FCFLAGS_DEBUG="${FCFLAGS_DEBUG}"

    abi_env_FCFLAGS_EXTRA="${FCFLAGS_EXTRA}"

    abi_env_FCFLAGS_FIXEDFORM="${FCFLAGS_FIXEDFORM}"

    abi_env_FCFLAGS_FREEFORM="${FCFLAGS_FREEFORM}"

    abi_env_FCFLAGS_HINTS="${FCFLAGS_HINTS}"

    abi_env_FCFLAGS_MODDIR="${FCFLAGS_MODDIR}"

    abi_env_FCFLAGS_OPENMP="${FCFLAGS_OPENMP}"

    abi_env_FCFLAGS_OPTIM="${FCFLAGS_OPTIM}"

    abi_env_FC_LDFLAGS="${FC_LDFLAGS}"

    abi_env_FC_LDFLAGS_64BITS="${FC_LDFLAGS_64BITS}"

    abi_env_FC_LDFLAGS_DEBUG="${FC_LDFLAGS_DEBUG}"

    abi_env_FC_LDFLAGS_EXTRA="${FC_LDFLAGS_EXTRA}"

    abi_env_FC_LDFLAGS_HINTS="${FC_LDFLAGS_HINTS}"

    abi_env_FC_LDFLAGS_OPTIM="${FC_LDFLAGS_OPTIM}"

    abi_env_FC_LIBS="${FC_LIBS}"

    abi_env_FC_LIBS_64BITS="${FC_LIBS_64BITS}"

    abi_env_FC_LIBS_DEBUG="${FC_LIBS_DEBUG}"

    abi_env_FC_LIBS_EXTRA="${FC_LIBS_EXTRA}"

    abi_env_FC_LIBS_HINTS="${FC_LIBS_HINTS}"

    abi_env_FC_LIBS_OPTIM="${FC_LIBS_OPTIM}"

    abi_env_FPP="${FPP}"

    abi_env_FPPFLAGS="${FPPFLAGS}"

    abi_env_FPPFLAGS_DEBUG="${FPPFLAGS_DEBUG}"

    abi_env_FPPFLAGS_EXTRA="${FPPFLAGS_EXTRA}"

    abi_env_FPPFLAGS_HINTS="${FPPFLAGS_HINTS}"

    abi_env_FPPFLAGS_OPTIM="${FPPFLAGS_OPTIM}"

    abi_env_LD="${LD}"

    abi_env_LTXFLAGS="${LTXFLAGS}"

    abi_env_MDFLAGS="${MDFLAGS}"

    abi_env_MODEXT="${MODEXT}"

    abi_env_MPI_RUNNER="${MPI_RUNNER}"

    abi_env_NM="${NM}"

    abi_env_NVCC="${NVCC}"

    abi_env_NVCC_CFLAGS="${NVCC_CFLAGS}"

    abi_env_NVCC_CPPFLAGS="${NVCC_CPPFLAGS}"

    abi_env_NVCC_LDFLAGS="${NVCC_LDFLAGS}"

    abi_env_NVCC_LIBS="${NVCC_LIBS}"

    abi_env_PDFFLAGS="${PDFFLAGS}"

    abi_env_PYFLAGS="${PYFLAGS}"

    abi_env_PYTHON_CPPFLAGS="${PYTHON_CPPFLAGS}"

    abi_env_RANLIB="${RANLIB}"

    abi_env_SERIAL_RUNNER="${SERIAL_RUNNER}"

    abi_env_TRUE_CPP="${TRUE_CPP}"

    abi_env_XPP="${XPP}"

    abi_env_XPPFLAGS="${XPPFLAGS}"

    abi_env_XPPFLAGS_DEBUG="${XPPFLAGS_DEBUG}"

    abi_env_XPPFLAGS_EXTRA="${XPPFLAGS_EXTRA}"

    abi_env_XPPFLAGS_OPTIM="${XPPFLAGS_OPTIM}"


  abi_saved_LIBS="${LIBS}"
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    cat > conftest.$ac_ext <<_ACEOF
    
      module conftest
      contains
      subroutine foobar()
      return
      end subroutine foobar
      end module conftest
    
_ACEOF
if ac_fn_fc_try_compile "$LINENO"; then :
  abi_fc_module_ok="yes"; mv conftest.${ac_objext} cfortran_test.${ac_objext}
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

    if test "${abi_fc_module_ok}" = "no"; then
    { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compile a simple Fortran program
See \`config.log' for more details" "$LINENO" 5; }
  fi

    LIBS="cfortran_test.${ac_objext} ${LIBS} $FCLIBS"

    tmp_success="no"
  ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu
case $ac_cv_fc_mangling in
  upper*) ac_val="FOOBAR" ;;
  lower*) ac_val="foobar" ;;
  *)      ac_val="unknown" ;;
esac
case $ac_cv_fc_mangling in *," underscore"*) ac_val="$ac_val"_ ;; esac

foobar="$ac_val"

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  for tmp_mod in "conftest" "CONFTEST" "foobar" "FOOBAR" "${foobar}" ; do
    for tmp_sub in "foobar" "FOOBAR" "${foobar}" "conftest" "CONFTEST" ; do
      for tmp_begin in "__" "" ; do
        for tmp_middle in "__" "_MOD_" "_MP_" "_mp_" ".in." "." "_" ; do
          tmp_func="${tmp_begin}${tmp_mod}${tmp_middle}${tmp_sub}"
          cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char ${tmp_func} ();
#ifdef FC_DUMMY_MAIN
#ifndef FC_DUMMY_MAIN_EQ_F77
#  ifdef __cplusplus
     extern "C"
#  endif
   int FC_DUMMY_MAIN() { return 1; }
#endif
#endif
int
main ()
{
return ${tmp_func} ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  tmp_success="yes"; break 4
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
        done
      done
    done
  done
  ac_ext=${ac_fc_srcext-f}
ac_compile='$FC -c $FCFLAGS $ac_fcflags_srcext conftest.$ac_ext >&5'
ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $ac_fcflags_srcext conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_fc_compiler_gnu


    if test "${tmp_begin}" = ""; then
    tmp_bc=""
  else
    tmp_bc="##"
  fi

    if test "${tmp_success}" = "yes"; then
    
    case "${tmp_mod}x${tmp_sub}" in
      conftestxfoobar)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} mod ## ${tmp_middle} ## sub
_ACEOF

        ;;
      conftestxFOOBAR)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} mod ## ${tmp_middle} ## SUB
_ACEOF

        ;;
      conftestx${foobar})
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} mod ## ${tmp_middle} ## FC_FUNC(sub,SUB)
_ACEOF

        ;;
      CONFTESTxfoobar)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} MOD ## ${tmp_middle} ## sub
_ACEOF

        ;;
      CONFTESTxFOOBAR)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} MOD ## ${tmp_middle} ## SUB
_ACEOF

        ;;
      CONFTESTx${foobar})
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} MOD ## ${tmp_middle} ## FC_FUNC(sub,SUB)
_ACEOF

        ;;
      foobarxconftest)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} sub ## ${tmp_middle} ## mod
_ACEOF

        ;;
      foobarxCONFTEST)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} sub ## ${tmp_middle} ## MOD
_ACEOF

        ;;
      ${foobar}xconftest)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} FC_FUNC(sub,SUB) ## ${tmp_middle} ## mod
_ACEOF

        ;;
      ${foobar}xCONFTEST)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} FC_FUNC(sub,SUB) ## ${tmp_middle} ## MOD
_ACEOF

        ;;
      FOOBARxconftest)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} SUB ## ${tmp_middle} ## mod
_ACEOF

        ;;
      FOOBARxCONFTEST)
        cat >>confdefs.h <<_ACEOF
@%:@define ABI_FC_MOD(mod,MOD,sub,SUB) ${tmp_begin} ${tmp_bc} SUB ## ${tmp_middle} ## MOD
_ACEOF

        ;;
     esac
     abi_fc_mod_name="${tmp_begin}module${tmp_middle}subroutine"
  else
     abi_fc_mod_name="unknown"
  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for the Fortran module name-mangling scheme" >&5
$as_echo_n "checking for the Fortran module name-mangling scheme... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${abi_fc_mod_name}" >&5
$as_echo "${abi_fc_mod_name}" >&6; }

    ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu

  

    ABI_CPPFLAGS="${abi_env_ABI_CPPFLAGS}"

    AR="${abi_env_AR}"

    ARFLAGS="${abi_env_ARFLAGS}"

    ARFLAGS_64BITS="${abi_env_ARFLAGS_64BITS}"

    ARFLAGS_CMD="${abi_env_ARFLAGS_CMD}"

    ARFLAGS_DEBUG="${abi_env_ARFLAGS_DEBUG}"

    ARFLAGS_EXTRA="${abi_env_ARFLAGS_EXTRA}"

    ARFLAGS_HINTS="${abi_env_ARFLAGS_HINTS}"

    ARFLAGS_OPTIM="${abi_env_ARFLAGS_OPTIM}"

    CC="${abi_env_CC}"

    CC_LDFLAGS="${abi_env_CC_LDFLAGS}"

    CC_LDFLAGS_64BITS="${abi_env_CC_LDFLAGS_64BITS}"

    CC_LDFLAGS_DEBUG="${abi_env_CC_LDFLAGS_DEBUG}"

    CC_LDFLAGS_EXTRA="${abi_env_CC_LDFLAGS_EXTRA}"

    CC_LDFLAGS_GPU="${abi_env_CC_LDFLAGS_GPU}"

    CC_LDFLAGS_HINTS="${abi_env_CC_LDFLAGS_HINTS}"

    CC_LDFLAGS_OPTIM="${abi_env_CC_LDFLAGS_OPTIM}"

    CC_LIBS="${abi_env_CC_LIBS}"

    CC_LIBS_64BITS="${abi_env_CC_LIBS_64BITS}"

    CC_LIBS_DEBUG="${abi_env_CC_LIBS_DEBUG}"

    CC_LIBS_EXTRA="${abi_env_CC_LIBS_EXTRA}"

    CC_LIBS_GPU="${abi_env_CC_LIBS_GPU}"

    CC_LIBS_HINTS="${abi_env_CC_LIBS_HINTS}"

    CC_LIBS_OPTIM="${abi_env_CC_LIBS_OPTIM}"

    CFLAGS="${abi_env_CFLAGS}"

    CFLAGS_64BITS="${abi_env_CFLAGS_64BITS}"

    CFLAGS_DEBUG="${abi_env_CFLAGS_DEBUG}"

    CFLAGS_EXTRA="${abi_env_CFLAGS_EXTRA}"

    CFLAGS_GPU="${abi_env_CFLAGS_GPU}"

    CFLAGS_HINTS="${abi_env_CFLAGS_HINTS}"

    CFLAGS_OPTIM="${abi_env_CFLAGS_OPTIM}"

    CPP="${abi_env_CPP}"

    CPPFLAGS="${abi_env_CPPFLAGS}"

    CPPFLAGS_64BITS="${abi_env_CPPFLAGS_64BITS}"

    CPPFLAGS_DEBUG="${abi_env_CPPFLAGS_DEBUG}"

    CPPFLAGS_EXTRA="${abi_env_CPPFLAGS_EXTRA}"

    CPPFLAGS_GPU="${abi_env_CPPFLAGS_GPU}"

    CPPFLAGS_HINTS="${abi_env_CPPFLAGS_HINTS}"

    CPPFLAGS_OPTIM="${abi_env_CPPFLAGS_OPTIM}"

    CXX="${abi_env_CXX}"

    CXXFLAGS="${abi_env_CXXFLAGS}"

    CXXFLAGS_64BITS="${abi_env_CXXFLAGS_64BITS}"

    CXXFLAGS_DEBUG="${abi_env_CXXFLAGS_DEBUG}"

    CXXFLAGS_EXTRA="${abi_env_CXXFLAGS_EXTRA}"

    CXXFLAGS_GPU="${abi_env_CXXFLAGS_GPU}"

    CXXFLAGS_HINTS="${abi_env_CXXFLAGS_HINTS}"

    CXXFLAGS_OPTIM="${abi_env_CXXFLAGS_OPTIM}"

    CXX_LDFLAGS="${abi_env_CXX_LDFLAGS}"

    CXX_LDFLAGS_64BITS="${abi_env_CXX_LDFLAGS_64BITS}"

    CXX_LDFLAGS_DEBUG="${abi_env_CXX_LDFLAGS_DEBUG}"

    CXX_LDFLAGS_EXTRA="${abi_env_CXX_LDFLAGS_EXTRA}"

    CXX_LDFLAGS_GPU="${abi_env_CXX_LDFLAGS_GPU}"

    CXX_LDFLAGS_HINTS="${abi_env_CXX_LDFLAGS_HINTS}"

    CXX_LDFLAGS_OPTIM="${abi_env_CXX_LDFLAGS_OPTIM}"

    CXX_LIBS="${abi_env_CXX_LIBS}"

    CXX_LIBS_64BITS="${abi_env_CXX_LIBS_64BITS}"

    CXX_LIBS_DEBUG="${abi_env_CXX_LIBS_DEBUG}"

    CXX_LIBS_EXTRA="${abi_env_CXX_LIBS_EXTRA}"

    CXX_LIBS_GPU="${abi_env_CXX_LIBS_GPU}"

    CXX_LIBS_HINTS="${abi_env_CXX_LIBS_HINTS}"

    CXX_LIBS_OPTIM="${abi_env_CXX_LIBS_OPTIM}"

    DEFS="${abi_env_DEFS}"

    F77="${abi_env_F77}"

    FC="${abi_env_FC}"

    FCFLAGS="${abi_env_FCFLAGS}"

    FCFLAGS_64BITS="${abi_env_FCFLAGS_64BITS}"

    FCFLAGS_DEBUG="${abi_env_FCFLAGS_DEBUG}"

    FCFLAGS_EXTRA="${abi_env_FCFLAGS_EXTRA}"

    FCFLAGS_FIXEDFORM="${abi_env_FCFLAGS_FIXEDFORM}"

    FCFLAGS_FREEFORM="${abi_env_FCFLAGS_FREEFORM}"

    FCFLAGS_HINTS="${abi_env_FCFLAGS_HINTS}"

    FCFLAGS_MODDIR="${abi_env_FCFLAGS_MODDIR}"

    FCFLAGS_OPENMP="${abi_env_FCFLAGS_OPENMP}"

    FCFLAGS_OPTIM="${abi_env_FCFLAGS_OPTIM}"

    FC_LDFLAGS="${abi_env_FC_LDFLAGS}"

    FC_LDFLAGS_64BITS="${abi_env_FC_LDFLAGS_64BITS}"

    FC_LDFLAGS_DEBUG="${abi_env_FC_LDFLAGS_DEBUG}"

    FC_LDFLAGS_EXTRA="${abi_env_FC_LDFLAGS_EXTRA}"

    FC_LDFLAGS_HINTS="${abi_env_FC_LDFLAGS_HINTS}"

    FC_LDFLAGS_OPTIM="${abi_env_FC_LDFLAGS_OPTIM}"

    FC_LIBS="${abi_env_FC_LIBS}"

    FC_LIBS_64BITS="${abi_env_FC_LIBS_64BITS}"

    FC_LIBS_DEBUG="${abi_env_FC_LIBS_DEBUG}"

    FC_LIBS_EXTRA="${abi_env_FC_LIBS_EXTRA}"

    FC_LIBS_HINTS="${abi_env_FC_LIBS_HINTS}"

    FC_LIBS_OPTIM="${abi_env_FC_LIBS_OPTIM}"

    FPP="${abi_env_FPP}"

    FPPFLAGS="${abi_env_FPPFLAGS}"

    FPPFLAGS_DEBUG="${abi_env_FPPFLAGS_DEBUG}"

    FPPFLAGS_EXTRA="${abi_env_FPPFLAGS_EXTRA}"

    FPPFLAGS_HINTS="${abi_env_FPPFLAGS_HINTS}"

    FPPFLAGS_OPTIM="${abi_env_FPPFLAGS_OPTIM}"

    LD="${abi_env_LD}"

    LTXFLAGS="${abi_env_LTXFLAGS}"

    MDFLAGS="${abi_env_MDFLAGS}"

    MODEXT="${abi_env_MODEXT}"

    MPI_RUNNER="${abi_env_MPI_RUNNER}"

    NM="${abi_env_NM}"

    NVCC="${abi_env_NVCC}"

    NVCC_CFLAGS="${abi_env_NVCC_CFLAGS}"

    NVCC_CPPFLAGS="${abi_env_NVCC_CPPFLAGS}"

    NVCC_LDFLAGS="${abi_env_NVCC_LDFLAGS}"

    NVCC_LIBS="${abi_env_NVCC_LIBS}"

    PDFFLAGS="${abi_env_PDFFLAGS}"

    PYFLAGS="${abi_env_PYFLAGS}"

    PYTHON_CPPFLAGS="${abi_env_PYTHON_CPPFLAGS}"

    RANLIB="${abi_env_RANLIB}"

    SERIAL_RUNNER="${abi_env_SERIAL_RUNNER}"

    TRUE_CPP="${abi_env_TRUE_CPP}"

    XPP="${abi_env_XPP}"

    XPPFLAGS="${abi_env_XPPFLAGS}"

    XPPFLAGS_DEBUG="${abi_env_XPPFLAGS_DEBUG}"

    XPPFLAGS_EXTRA="${abi_env_XPPFLAGS_EXTRA}"

    XPPFLAGS_OPTIM="${abi_env_XPPFLAGS_OPTIM}"


  LIBS="${abi_saved_LIBS}"
  rm -f cfortran_test* conftest*

fi

# Fast checking
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to accelerate 'make check'" >&5
$as_echo_n "checking whether to accelerate 'make check'... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_fast_check}" >&5
$as_echo "${enable_fast_check}" >&6; }

# Reduced checking for packages
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to reduce 'make check' for packaging" >&5
$as_echo_n "checking whether to reduce 'make check' for packaging... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_pkg_check}" >&5
$as_echo "${enable_pkg_check}" >&6; }

# Maintainer checks
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate maintainer checks" >&5
$as_echo_n "checking whether to activate maintainer checks... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_maintainer_checks}" >&5
$as_echo "${enable_maintainer_checks}" >&6; }
# Triggers (see config/specs/options.conf for details)

  { $as_echo "$as_me:${as_lineno-$LINENO}: setting triggers associated to command-line options" >&5
$as_echo "$as_me: setting triggers associated to command-line options" >&6;}


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to disable vectorization in problematic procedures" >&5
$as_echo_n "checking whether to disable vectorization in problematic procedures... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_avx_safe_mode}" >&5
$as_echo "${enable_avx_safe_mode}" >&6; }

  if test "${enable_avx_safe_mode}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_AVX_SAFE_MODE' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_AVX_SAFE_MODE' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_AVX_SAFE_MODE 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate Bethe-Salpeter unpacking (EXPERIMENTAL)" >&5
$as_echo_n "checking whether to activate Bethe-Salpeter unpacking (EXPERIMENTAL)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_bse_unpacked}" >&5
$as_echo "${enable_bse_unpacked}" >&6; }

  if test "${enable_bse_unpacked}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_BSE_UNPACKED' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_BSE_UNPACKED' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_BSE_UNPACKED 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate build of exported libraries (EXPERIMENTAL)" >&5
$as_echo_n "checking whether to activate build of exported libraries (EXPERIMENTAL)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_exports}" >&5
$as_echo "${enable_exports}" >&6; }

  if test "${enable_exports}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: triggering the 'DO_BUILD_EXPORTS' conditional" >&5
$as_echo "$as_me: triggering the 'DO_BUILD_EXPORTS' conditional" >&6;}
  fi
   if test "${enable_exports}" = "yes"; then
  DO_BUILD_EXPORTS_TRUE=
  DO_BUILD_EXPORTS_FALSE='#'
else
  DO_BUILD_EXPORTS_TRUE='#'
  DO_BUILD_EXPORTS_FALSE=
fi


    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate double-precision GW calculations (EXPERIMENTAL)" >&5
$as_echo_n "checking whether to activate double-precision GW calculations (EXPERIMENTAL)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_gw_dpc}" >&5
$as_echo "${enable_gw_dpc}" >&6; }

  if test "${enable_gw_dpc}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_GW_DPC' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_GW_DPC' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_GW_DPC 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate internal support for libPAW in ABINIT" >&5
$as_echo_n "checking whether to activate internal support for libPAW in ABINIT... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_libpaw}" >&5
$as_echo "${enable_libpaw}" >&6; }

  if test "${enable_libpaw}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_LIBPAW_ABINIT' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_LIBPAW_ABINIT' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_LIBPAW_ABINIT 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate internal support for libtetra(hedron) in ABINIT" >&5
$as_echo_n "checking whether to activate internal support for libtetra(hedron) in ABINIT... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_libtetra}" >&5
$as_echo "${enable_libtetra}" >&6; }

  if test "${enable_libtetra}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_LIBTETRA_ABINIT' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_LIBTETRA_ABINIT' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_LIBTETRA_ABINIT 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate LOTF functionality (EXPERIMENTAL)" >&5
$as_echo_n "checking whether to activate LOTF functionality (EXPERIMENTAL)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_lotf}" >&5
$as_echo "${enable_lotf}" >&6; }

  if test "${enable_lotf}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: triggering the 'DO_BUILD_65_LOTF_BASE' conditional" >&5
$as_echo "$as_me: triggering the 'DO_BUILD_65_LOTF_BASE' conditional" >&6;}
  fi
   if test "${enable_lotf}" = "yes"; then
  DO_BUILD_65_LOTF_BASE_TRUE=
  DO_BUILD_65_LOTF_BASE_FALSE='#'
else
  DO_BUILD_65_LOTF_BASE_TRUE='#'
  DO_BUILD_65_LOTF_BASE_FALSE=
fi

  if test "${enable_lotf}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: triggering the 'DO_BUILD_68_LOTF' conditional" >&5
$as_echo "$as_me: triggering the 'DO_BUILD_68_LOTF' conditional" >&6;}
  fi
   if test "${enable_lotf}" = "yes"; then
  DO_BUILD_68_LOTF_TRUE=
  DO_BUILD_68_LOTF_FALSE='#'
else
  DO_BUILD_68_LOTF_TRUE='#'
  DO_BUILD_68_LOTF_FALSE=
fi

  if test "${enable_lotf}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_LOTF' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_LOTF' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_LOTF 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable build of macroave (EXPERIMENTAL)" >&5
$as_echo_n "checking whether to enable build of macroave (EXPERIMENTAL)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_macroave}" >&5
$as_echo "${enable_macroave}" >&6; }

  if test "${enable_macroave}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: triggering the 'DO_BUILD_01_MACROAVNEW_EXT' conditional" >&5
$as_echo "$as_me: triggering the 'DO_BUILD_01_MACROAVNEW_EXT' conditional" >&6;}
  fi
   if test "${enable_macroave}" = "yes"; then
  DO_BUILD_01_MACROAVNEW_EXT_TRUE=
  DO_BUILD_01_MACROAVNEW_EXT_FALSE='#'
else
  DO_BUILD_01_MACROAVNEW_EXT_TRUE='#'
  DO_BUILD_01_MACROAVNEW_EXT_FALSE=
fi

  if test "${enable_macroave}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: triggering the 'DO_BUILD_MACROAVE' conditional" >&5
$as_echo "$as_me: triggering the 'DO_BUILD_MACROAVE' conditional" >&6;}
  fi
   if test "${enable_macroave}" = "yes"; then
  DO_BUILD_MACROAVE_TRUE=
  DO_BUILD_MACROAVE_FALSE='#'
else
  DO_BUILD_MACROAVE_TRUE='#'
  DO_BUILD_MACROAVE_FALSE=
fi

  if test "${enable_macroave}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'USE_MACROAVE' preprocessing macro" >&5
$as_echo "$as_me: defining the 'USE_MACROAVE' preprocessing macro" >&6;}
    
$as_echo "@%:@define USE_MACROAVE 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable memory profiling" >&5
$as_echo_n "checking whether to enable memory profiling... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_memory_profiling}" >&5
$as_echo "${enable_memory_profiling}" >&6; }

  if test "${enable_memory_profiling}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_MEM_PROFILING' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_MEM_PROFILING' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_MEM_PROFILING 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate support for MPI_IN_PLACE" >&5
$as_echo_n "checking whether to activate support for MPI_IN_PLACE... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_mpi_inplace}" >&5
$as_echo "${enable_mpi_inplace}" >&6; }

  if test "${enable_mpi_inplace}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_MPI2_INPLACE' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_MPI2_INPLACE' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_MPI2_INPLACE 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to use MPI-IO as default IO library (change the default value of iomode) (EXPERIMENTAL)" >&5
$as_echo_n "checking whether to use MPI-IO as default IO library (change the default value of iomode) (EXPERIMENTAL)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_mpi_io_default}" >&5
$as_echo "${enable_mpi_io_default}" >&6; }

  if test "${enable_mpi_io_default}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_MPI_IO_DEFAULT' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_MPI_IO_DEFAULT' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_MPI_IO_DEFAULT 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to use NetCDF as default IO library (change the default value of iomode)" >&5
$as_echo_n "checking whether to use NetCDF as default IO library (change the default value of iomode)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_netcdf_default}" >&5
$as_echo "${enable_netcdf_default}" >&6; }

  if test "${enable_netcdf_default}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_NETCDF_DEFAULT' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_NETCDF_DEFAULT' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_NETCDF_DEFAULT 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate support for OpenMP (EXPERIMENTAL)" >&5
$as_echo_n "checking whether to activate support for OpenMP (EXPERIMENTAL)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_openmp}" >&5
$as_echo "${enable_openmp}" >&6; }

  if test "${enable_openmp}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_OPENMP' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_OPENMP' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_OPENMP 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to tell Abinit to read file lists from standard input" >&5
$as_echo_n "checking whether to tell Abinit to read file lists from standard input... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_stdin}" >&5
$as_echo "${enable_stdin}" >&6; }

  if test "${enable_stdin}" = "no"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'READ_FROM_FILE' preprocessing macro" >&5
$as_echo "$as_me: defining the 'READ_FROM_FILE' preprocessing macro" >&6;}
    
$as_echo "@%:@define READ_FROM_FILE 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate internal support for TRIQS 1.4" >&5
$as_echo_n "checking whether to activate internal support for TRIQS 1.4... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_triqs_v1_4}" >&5
$as_echo "${enable_triqs_v1_4}" >&6; }

  if test "${enable_triqs_v1_4}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_TRIQS_v1_4' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_TRIQS_v1_4' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_TRIQS_v1_4 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate internal support for TRIQS 2.0 (This option is dominant over the others versions)" >&5
$as_echo_n "checking whether to activate internal support for TRIQS 2.0 (This option is dominant over the others versions)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_triqs_v2_0}" >&5
$as_echo "${enable_triqs_v2_0}" >&6; }

  if test "${enable_triqs_v2_0}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_TRIQS_v2_0' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_TRIQS_v2_0' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_TRIQS_v2_0 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate support for Wannier90 v1.x (default is v2.x)" >&5
$as_echo_n "checking whether to activate support for Wannier90 v1.x (default is v2.x)... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_wannier90_v1}" >&5
$as_echo "${enable_wannier90_v1}" >&6; }

  if test "${enable_wannier90_v1}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_WANNIER90_V1' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_WANNIER90_V1' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_WANNIER90_V1 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable support for XML" >&5
$as_echo_n "checking whether to enable support for XML... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_xml}" >&5
$as_echo "${enable_xml}" >&6; }

  if test "${enable_xml}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_LIBXML' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_LIBXML' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_LIBXML 1" >>confdefs.h

  fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to activate workaround for bugged ZDOTC and ZDOTU" >&5
$as_echo_n "checking whether to activate workaround for bugged ZDOTC and ZDOTU... " >&6; }
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: ${enable_zdot_bugfix}" >&5
$as_echo "${enable_zdot_bugfix}" >&6; }

  if test "${enable_zdot_bugfix}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_LINALG_ZDOTC_BUG' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_LINALG_ZDOTC_BUG' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_LINALG_ZDOTC_BUG 1" >>confdefs.h

  fi
  if test "${enable_zdot_bugfix}" = "yes"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: defining the 'HAVE_LINALG_ZDOTU_BUG' preprocessing macro" >&5
$as_echo "$as_me: defining the 'HAVE_LINALG_ZDOTU_BUG' preprocessing macro" >&6;}
    
$as_echo "@%:@define HAVE_LINALG_ZDOTU_BUG 1" >>confdefs.h

  fi


# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Configure subsystems
#

# Note: options must have been processed, in order to take proper
# decisions


    
  abi_sec_title="Subsystems"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# Init all subsystems



    { $as_echo "$as_me:${as_lineno-$LINENO}: setting-up bindings (type: subsystem, mode: detached)" >&5
$as_echo "$as_me: setting-up bindings (type: subsystem, mode: detached)" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: setting-up doc (type: subsystem, mode: detached)" >&5
$as_echo "$as_me: setting-up doc (type: subsystem, mode: detached)" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: setting-up fallbacks (type: subsystem, mode: attached)" >&5
$as_echo "$as_me: setting-up fallbacks (type: subsystem, mode: attached)" >&6;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: setting-up tests (type: subsystem, mode: attached)" >&5
$as_echo "$as_me: setting-up tests (type: subsystem, mode: attached)" >&6;}

    subdirs="$subdirs fallbacks tests"




# Grab fallbacks parameters


    if test "${enable_bigdft}" = "yes"; then
    lib_bigdft_incs="${fallbacks_incs}"
  fi
  if test "${enable_etsf_io}" = "yes"; then
    lib_etsf_io_incs="${fallbacks_incs}"
  fi
  if test "${enable_libxc}" = "yes"; then
    lib_libxc_incs="${fallbacks_incs}"
  fi
  if test "${enable_linalg}" = "yes"; then
    lib_linalg_incs="${fallbacks_incs}"
  fi
  if test "${enable_netcdf}" = "yes"; then
    lib_netcdf_incs="${fallbacks_incs}"
  fi

    if test "${enable_atompaw}" = "yes"; then
    lib_atompaw_libs='-L$(fallbacks_instdir)/lib -latompaw'
  fi
  if test "${enable_bigdft}" = "yes"; then
    lib_bigdft_libs='-L$(fallbacks_instdir)/lib -lbigdft-1 -labinit -lyaml'
  fi
  if test "${enable_etsf_io}" = "yes"; then
    lib_etsf_io_libs='-L$(fallbacks_instdir)/lib -letsf_io_utils -letsf_io -letsf_io_low_level'
  fi
  if test "${enable_libxc}" = "yes"; then
    lib_libxc_libs='-L$(fallbacks_instdir)/lib -lxcf90 -lxc'
  fi
  if test "${enable_linalg}" = "yes"; then
    lib_linalg_libs='-L$(fallbacks_instdir)/lib -llapack -lblas'
  fi
  if test "${enable_netcdf}" = "yes"; then
    lib_netcdf_libs='-L$(fallbacks_instdir)/lib -lnetcdf'
  fi
  if test "${enable_wannier90}" = "yes"; then
    lib_wannier90_libs='-L$(fallbacks_instdir)/lib -lwannier90'
  fi

    if test "${enable_atompaw}" = "yes"; then
    run_atompaw="${fallbacks_instdir}/bin/atompaw-abinit"
    run_graphatom="${fallbacks_instdir}/bin/graphatom-abinit"
  else
    run_atompaw="${ATOMPAW_BIN}"
    run_graphatom="${GRAPHATOM_BIN}"
  fi
  
  

  if test "${enable_etsf_io}" = "yes"; then
    run_etsf_io="${fallbacks_instdir}/bin/etsf_io-abinit"
  else
    run_etsf_io="${ETSF_IO_BIN}"
  fi
  

  if test "${enable_netcdf}" = "yes"; then
    run_nc_config="${fallbacks_instdir}/bin/nc-config-abinit"
    run_nccopy="${fallbacks_instdir}/bin/nccopy-abinit"
    run_ncdump="${fallbacks_instdir}/bin/ncdump-abinit"
    run_ncgen="${fallbacks_instdir}/bin/ncgen-abinit"
    run_ncgen3="${fallbacks_instdir}/bin/ncgen3-abinit"
  else
    run_nc_config="${NC_CONFIG_BIN}"
    run_nccopy="${NCCOPY_BIN}"
    run_ncdump="${NCDUMP_BIN}"
    run_ncgen="${NCGEN_BIN}"
    run_ncgen3="${NCGEN3_BIN}"
  fi
  
  
  
  
  

  if test "${enable_wannier90}" = "yes"; then
    run_wannier90_x="${fallbacks_instdir}/bin/wannier90.x-abinit"
    run_postw90_x="${fallbacks_instdir}/bin/postw90.x-abinit"
    run_w90chk2chk_x="${fallbacks_instdir}/bin/w90chk2chk.x-abinit"
  else
    run_wannier90_x="${WANNIER90_X_BIN}"
    run_postw90_x="${POSTW90_X_BIN}"
    run_w90chk2chk_x="${W90CHK2CHK_X_BIN}"
  fi
  
  
  



# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

# Void CPPFLAGS to allow for C/Fortran mixing
ABI_CPPFLAGS="${CPPFLAGS}"
CPPFLAGS=""

# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #

#
# Output configuration
#


    
  abi_sec_title="Output"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


ac_configure_args="${ac_configure_args} --enable-atompaw=${enable_atompaw} --enable-bigdft=${enable_bigdft} --enable-etsf-io=${enable_etsf_io} --enable-libxc=${enable_libxc} --enable-linalg=${enable_linalg} --enable-netcdf=${enable_netcdf} --enable-wannier90=${enable_wannier90} --with-fc-vendor=${abi_fc_vendor} --with-fc-version=${abi_fc_version} --with-tardir='${abinit_tardir}'"

# Output files
# Note: later, add tests/atconfig and tests/atlocal for test suite

    ac_config_files="$ac_config_files config.dump config.pc config.sh bindings/config.sh config/wrappers/wrap-fc fallbacks/config.mk abichecks/Makefile abichecks/abichecks.env src/incs/Makefile src/mods/Makefile src/10_dumpinfo/m_build_info.F90 Makefile src/Makefile src/01_gsl_ext/Makefile src/02_clib/Makefile src/10_defs/Makefile src/10_dumpinfo/Makefile src/11_memory_mpi/Makefile src/12_hide_mpi/Makefile src/14_hidewrite/Makefile src/15_gpu_toolbox/Makefile src/16_hideleave/Makefile src/17_libtetra_ext/Makefile src/18_timing/Makefile src/21_hashfuncs/Makefile src/27_toolbox_oop/Makefile src/28_numeric_noabirule/Makefile src/29_kpoints/Makefile src/32_util/Makefile src/41_geometry/Makefile src/41_xc_lowlevel/Makefile src/42_libpaw/Makefile src/42_nlstrain/Makefile src/42_parser/Makefile src/43_ptgroups/Makefile src/43_wvl_wrappers/Makefile src/44_abitools/Makefile src/44_abitypes_defs/Makefile src/45_geomoptim/Makefile src/45_xgTools/Makefile src/46_diago/Makefile src/49_gw_toolbox_oop/Makefile src/51_manage_mpi/Makefile src/52_fft_mpi_noabirule/Makefile src/52_manage_cuda/Makefile src/53_ffts/Makefile src/54_spacepar/Makefile src/55_abiutil/Makefile src/56_io_mpi/Makefile src/56_mixing/Makefile src/56_recipspace/Makefile src/56_xc/Makefile src/57_iopsp_parser/Makefile src/57_iovars/Makefile src/59_ionetcdf/Makefile src/61_occeig/Makefile src/62_cg_noabirule/Makefile src/62_ctqmc/Makefile src/62_iowfdenpot/Makefile src/62_poisson/Makefile src/62_wvl_wfs/Makefile src/63_bader/Makefile src/64_psp/Makefile src/65_lotf_base/Makefile src/65_paw/Makefile src/66_nonlocal/Makefile src/66_vdwxc/Makefile src/66_wfs/Makefile src/67_common/Makefile src/67_triqs_ext/Makefile src/68_dmft/Makefile src/68_lotf/Makefile src/68_recursion/Makefile src/68_rsprc/Makefile src/69_wfdesc/Makefile src/70_gw/Makefile src/71_bse/Makefile src/71_wannier/Makefile src/72_response/Makefile src/77_ddb/Makefile src/77_suscep/Makefile src/78_effpot/Makefile src/78_eph/Makefile src/79_seqpar_mpi/Makefile src/80_tdep/Makefile src/83_cut3d/Makefile src/84_fold2Bloch/Makefile src/94_scfcv/Makefile src/95_drive/Makefile src/98_main/Makefile src/libs/Makefile"


    ac_config_commands="$ac_config_commands dump-optim"

  ac_config_commands="$ac_config_commands script-perms"

  ac_config_commands="$ac_config_commands long-lines"


    cat >confcache <<\_ACEOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs, see configure's option --config-cache.
# It is not useful on other systems.  If it contains results you don't
# want to keep, you may remove or edit it.
#
# config.status only pays attention to the cache file if you give it
# the --recheck option to rerun configure.
#
# `ac_cv_env_foo' variables (set or unset) will be overridden when
# loading this file, other *unset* `ac_cv_foo' will be assigned the
# following values.

_ACEOF

# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, we kill variables containing newlines.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(
  for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
$as_echo "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done

  (set) 2>&1 |
    case $as_nl`(ac_space=' '; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      # `set' does not quote correctly, so add quotes: double-quote
      # substitution turns \\\\ into \\, and sed turns \\ into \.
      sed -n \
	"s/'/'\\\\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
      ;; #(
    *)
      # `set' quotes correctly as required by POSIX, so do not add quotes.
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
      ;;
    esac |
    sort
) |
  sed '
     /^ac_cv_env_/b end
     t clear
     :clear
     s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
     t end
     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
     :end' >>confcache
if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
  if test -w "$cache_file"; then
    if test "x$cache_file" != "x/dev/null"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: updating cache $cache_file" >&5
$as_echo "$as_me: updating cache $cache_file" >&6;}
      if test ! -f "$cache_file" || test -h "$cache_file"; then
	cat confcache >"$cache_file"
      else
        case $cache_file in #(
        */* | ?:*)
	  mv -f confcache "$cache_file"$$ &&
	  mv -f "$cache_file"$$ "$cache_file" ;; #(
        *)
	  mv -f confcache "$cache_file" ;;
	esac
      fi
    fi
  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file" >&5
$as_echo "$as_me: not updating unwritable cache $cache_file" >&6;}
  fi
fi
rm -f confcache

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

DEFS=-DHAVE_CONFIG_H

ac_libobjs=
ac_ltlibobjs=
U=
for ac_i in : $LIB@&t@OBJS; do test "x$ac_i" = x: && continue
  # 1. Remove the extension, and $U if already installed.
  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
  ac_i=`$as_echo "$ac_i" | sed "$ac_script"`
  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
  #    will be set to the directory where LIBOBJS objects are built.
  as_fn_append ac_libobjs " \${LIBOBJDIR}$ac_i\$U.$ac_objext"
  as_fn_append ac_ltlibobjs " \${LIBOBJDIR}$ac_i"'$U.lo'
done
LIB@&t@OBJS=$ac_libobjs

LTLIBOBJS=$ac_ltlibobjs


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking that generated files are newer than configure" >&5
$as_echo_n "checking that generated files are newer than configure... " >&6; }
   if test -n "$am_sleep_pid"; then
     # Hide warnings about reused PIDs.
     wait $am_sleep_pid 2>/dev/null
   fi
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: done" >&5
$as_echo "done" >&6; }
 if test -n "$EXEEXT"; then
  am__EXEEXT_TRUE=
  am__EXEEXT_FALSE='#'
else
  am__EXEEXT_TRUE='#'
  am__EXEEXT_FALSE=
fi

if test -z "${AMDEP_TRUE}" && test -z "${AMDEP_FALSE}"; then
  as_fn_error $? "conditional \"AMDEP\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${am__fastdepCC_TRUE}" && test -z "${am__fastdepCC_FALSE}"; then
  as_fn_error $? "conditional \"am__fastdepCC\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi

if test -z "${am__fastdepCXX_TRUE}" && test -z "${am__fastdepCXX_FALSE}"; then
  as_fn_error $? "conditional \"am__fastdepCXX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_32_CONTRACT_TRUE}" && test -z "${DO_BUILD_32_CONTRACT_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_32_CONTRACT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_CCLOCK_TRUE}" && test -z "${DO_BUILD_CCLOCK_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_CCLOCK\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_TEST_MPI_TRUE}" && test -z "${DO_TEST_MPI_FALSE}"; then
  as_fn_error $? "conditional \"DO_TEST_MPI\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_15_GPU_TOOLBOX_TRUE}" && test -z "${DO_BUILD_15_GPU_TOOLBOX_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_15_GPU_TOOLBOX\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_52_MANAGE_CUDA_TRUE}" && test -z "${DO_BUILD_52_MANAGE_CUDA_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_52_MANAGE_CUDA\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_PSML_TRUE}" && test -z "${DO_BUILD_PSML_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_PSML\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_01_GSL_EXT_TRUE}" && test -z "${DO_BUILD_01_GSL_EXT_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_01_GSL_EXT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_67_TRIQS_EXT_TRUE}" && test -z "${DO_BUILD_67_TRIQS_EXT_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_67_TRIQS_EXT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_EXPORTS_TRUE}" && test -z "${DO_BUILD_EXPORTS_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_EXPORTS\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_65_LOTF_BASE_TRUE}" && test -z "${DO_BUILD_65_LOTF_BASE_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_65_LOTF_BASE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_68_LOTF_TRUE}" && test -z "${DO_BUILD_68_LOTF_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_68_LOTF\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_01_MACROAVNEW_EXT_TRUE}" && test -z "${DO_BUILD_01_MACROAVNEW_EXT_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_01_MACROAVNEW_EXT\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi
if test -z "${DO_BUILD_MACROAVE_TRUE}" && test -z "${DO_BUILD_MACROAVE_FALSE}"; then
  as_fn_error $? "conditional \"DO_BUILD_MACROAVE\" was never defined.
Usually this means the macro was only invoked conditionally." "$LINENO" 5
fi

: "${CONFIG_STATUS=./config.status}"
ac_write_fail=0
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files $CONFIG_STATUS"
{ $as_echo "$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS" >&5
$as_echo "$as_me: creating $CONFIG_STATUS" >&6;}
as_write_fail=0
cat >$CONFIG_STATUS <<_ASEOF || as_write_fail=1
#! $SHELL
# Generated by $as_me.
# Run this file to recreate the current configuration.
# Compiler output produced by configure, useful for debugging
# configure, is in config.log if it exists.

debug=false
ac_cs_recheck=false
ac_cs_silent=false

SHELL=\${CONFIG_SHELL-$SHELL}
export SHELL
_ASEOF
cat >>$CONFIG_STATUS <<\_ASEOF || as_write_fail=1
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@"}'='"$@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in @%:@(
  *posix*) :
    set -o posix ;; @%:@(
  *) :
     ;;
esac
fi


as_nl='
'
export as_nl
# Printing a long string crashes Solaris 7 /usr/bin/printf.
as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
# Prefer a ksh shell builtin over an external printf program on Solaris,
# but without wasting forks for bash or zsh.
if test -z "$BASH_VERSION$ZSH_VERSION" \
    && (test "X`print -r -- $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='print -r --'
  as_echo_n='print -rn --'
elif (test "X`printf %s $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='printf %s\n'
  as_echo_n='printf %s'
else
  if test "X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`" = "X-n $as_echo"; then
    as_echo_body='eval /usr/ucb/echo -n "$1$as_nl"'
    as_echo_n='/usr/ucb/echo -n'
  else
    as_echo_body='eval expr "X$1" : "X\\(.*\\)"'
    as_echo_n_body='eval
      arg=$1;
      case $arg in @%:@(
      *"$as_nl"*)
	expr "X$arg" : "X\\(.*\\)$as_nl";
	arg=`expr "X$arg" : ".*$as_nl\\(.*\\)"`;;
      esac;
      expr "X$arg" : "X\\(.*\\)" | tr -d "$as_nl"
    '
    export as_echo_n_body
    as_echo_n='sh -c $as_echo_n_body as_echo'
  fi
  export as_echo_body
  as_echo='sh -c $as_echo_body as_echo'
fi

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# IFS
# We need space, tab and new line, in precisely that order.  Quoting is
# there to prevent editors from complaining about space-tab.
# (If _AS_PATH_WALK were called with IFS unset, it would disable word
# splitting by setting IFS to empty value.)
IFS=" ""	$as_nl"

# Find who we are.  Look in the path if we contain no directory separator.
as_myself=
case $0 in @%:@((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  $as_echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi

# Unset variables that we do not need and which cause bugs (e.g. in
# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the "|| exit 1"
# suppresses any "Segmentation fault" message there.  '((' could
# trigger a bug in pdksh 5.2.14.
for as_var in BASH_ENV ENV MAIL MAILPATH
do eval test x\${$as_var+set} = xset \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# CDPATH.
(unset CDPATH) >/dev/null 2>&1 && unset CDPATH


@%:@ as_fn_error STATUS ERROR [LINENO LOG_FD]
@%:@ ----------------------------------------
@%:@ Output "`basename @S|@0`: error: ERROR" to stderr. If LINENO and LOG_FD are
@%:@ provided, also output the error to LOG_FD, referencing LINENO. Then exit the
@%:@ script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  $as_echo "$as_me: error: $2" >&2
  as_fn_exit $as_status
} @%:@ as_fn_error


@%:@ as_fn_set_status STATUS
@%:@ -----------------------
@%:@ Set @S|@? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} @%:@ as_fn_set_status

@%:@ as_fn_exit STATUS
@%:@ -----------------
@%:@ Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} @%:@ as_fn_exit

@%:@ as_fn_unset VAR
@%:@ ---------------
@%:@ Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset
@%:@ as_fn_append VAR VALUE
@%:@ ----------------------
@%:@ Append the text in VALUE to the end of the definition contained in VAR. Take
@%:@ advantage of any shell optimizations that allow amortized linear growth over
@%:@ repeated appends, instead of the typical quadratic growth present in naive
@%:@ implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null; then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

@%:@ as_fn_arith ARG...
@%:@ ------------------
@%:@ Perform arithmetic evaluation on the ARGs, and store the result in the
@%:@ global @S|@as_val. Take advantage of shells that can avoid forks. The arguments
@%:@ must be portable across @S|@(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null; then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else
  as_fn_arith ()
  {
    as_val=`expr "$@" || test $? -eq 1`
  }
fi # as_fn_arith


if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
  as_expr=expr
else
  as_expr=false
fi

if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits

ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in @%:@(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

rm -f conf$$ conf$$.exe conf$$.file
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
    as_ln_s='ln -s'
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -pR'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -pR'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -pR'
  fi
else
  as_ln_s='cp -pR'
fi
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null


@%:@ as_fn_mkdir_p
@%:@ -------------
@%:@ Create "@S|@as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`$as_echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"


} @%:@ as_fn_mkdir_p
if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi


@%:@ as_fn_executable_p FILE
@%:@ -----------------------
@%:@ Test if FILE is an executable regular file.
as_fn_executable_p ()
{
  test -f "$1" && test -x "$1"
} @%:@ as_fn_executable_p
as_test_x='test -x'
as_executable_p=as_fn_executable_p

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"


exec 6>&1
## ----------------------------------- ##
## Main body of $CONFIG_STATUS script. ##
## ----------------------------------- ##
_ASEOF
test $as_write_fail = 0 && chmod +x $CONFIG_STATUS || ac_write_fail=1

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# Save the log message, to keep $0 and so on meaningful, and to
# report actual input values of CONFIG_FILES etc. instead of their
# values after options handling.
ac_log="
This file was extended by ABINIT $as_me 8.10.2, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  CONFIG_FILES    = $CONFIG_FILES
  CONFIG_HEADERS  = $CONFIG_HEADERS
  CONFIG_LINKS    = $CONFIG_LINKS
  CONFIG_COMMANDS = $CONFIG_COMMANDS
  $ $0 $@

on `(hostname || uname -n) 2>/dev/null | sed 1q`
"

_ACEOF

case $ac_config_files in *"
"*) set x $ac_config_files; shift; ac_config_files=$*;;
esac

case $ac_config_headers in *"
"*) set x $ac_config_headers; shift; ac_config_headers=$*;;
esac


cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
# Files that config.status was made for.
config_files="$ac_config_files"
config_headers="$ac_config_headers"
config_commands="$ac_config_commands"

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
ac_cs_usage="\
\`$as_me' instantiates files and other configuration actions
from templates according to the current configuration.  Unless the files
and actions are specified as TAGs, all are instantiated by default.

Usage: $0 [OPTION]... [TAG]...

  -h, --help       print this help, then exit
  -V, --version    print version number and configuration settings, then exit
      --config     print configuration, then exit
  -q, --quiet, --silent
                   do not print progress messages
  -d, --debug      don't remove temporary files
      --recheck    update $as_me by reconfiguring in the same conditions
      --file=FILE[:TEMPLATE] 
                   instantiate the configuration file FILE
      --header=FILE[:TEMPLATE] 
                   instantiate the configuration header FILE

Configuration files:
$config_files

Configuration headers:
$config_headers

Configuration commands:
$config_commands

Report bugs to <https://bugs.launchpad.net/abinit/>."

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
ac_cs_version="\\
ABINIT config.status 8.10.2
configured by $0, generated by GNU Autoconf 2.69,
  with options \\"\$ac_cs_config\\"

Copyright (C) 2012 Free Software Foundation, Inc.
This config.status script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it."

ac_pwd='$ac_pwd'
srcdir='$srcdir'
INSTALL='$INSTALL'
MKDIR_P='$MKDIR_P'
AWK='$AWK'
test -n "\$AWK" || AWK=awk
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# The default lists apply if the user does not specify any file.
ac_need_defaults=:
while test $# != 0
do
  case $1 in
  --*=?*)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
    ac_shift=:
    ;;
  --*=)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=
    ac_shift=:
    ;;
  *)
    ac_option=$1
    ac_optarg=$2
    ac_shift=shift
    ;;
  esac

  case $ac_option in
  # Handling of the options.
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    ac_cs_recheck=: ;;
  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
    $as_echo "$ac_cs_version"; exit ;;
  --config | --confi | --conf | --con | --co | --c )
    $as_echo "$ac_cs_config"; exit ;;
  --debug | --debu | --deb | --de | --d | -d )
    debug=: ;;
  --file | --fil | --fi | --f )
    $ac_shift
    case $ac_optarg in
    *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
    '') as_fn_error $? "missing file argument" ;;
    esac
    as_fn_append CONFIG_FILES " '$ac_optarg'"
    ac_need_defaults=false;;
  --header | --heade | --head | --hea )
    $ac_shift
    case $ac_optarg in
    *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    as_fn_append CONFIG_HEADERS " '$ac_optarg'"
    ac_need_defaults=false;;
  --he | --h)
    # Conflict between --help and --header
    as_fn_error $? "ambiguous option: \`$1'
Try \`$0 --help' for more information.";;
  --help | --hel | -h )
    $as_echo "$ac_cs_usage"; exit ;;
  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil | --si | --s)
    ac_cs_silent=: ;;

  # This is an error.
  -*) as_fn_error $? "unrecognized option: \`$1'
Try \`$0 --help' for more information." ;;

  *) as_fn_append ac_config_targets " $1"
     ac_need_defaults=false ;;

  esac
  shift
done

ac_configure_extra_args=

if $ac_cs_silent; then
  exec 6>/dev/null
  ac_configure_extra_args="$ac_configure_extra_args --silent"
fi

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
if \$ac_cs_recheck; then
  set X $SHELL '$0' $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
  shift
  \$as_echo "running CONFIG_SHELL=$SHELL \$*" >&6
  CONFIG_SHELL='$SHELL'
  export CONFIG_SHELL
  exec "\$@"
fi

_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
exec 5>>config.log
{
  echo
  sed 'h;s/./-/g;s/^.../@%:@@%:@ /;s/...$/ @%:@@%:@/;p;x;p;x' <<_ASBOX
@%:@@%:@ Running $as_me. @%:@@%:@
_ASBOX
  $as_echo "$ac_log"
} >&5

_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
#
# INIT-COMMANDS
#
AMDEP_TRUE="$AMDEP_TRUE" ac_aux_dir="$ac_aux_dir"

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1

# Handling of arguments.
for ac_config_target in $ac_config_targets
do
  case $ac_config_target in
    "config.h") CONFIG_HEADERS="$CONFIG_HEADERS config.h" ;;
    "depfiles") CONFIG_COMMANDS="$CONFIG_COMMANDS depfiles" ;;
    "config.dump") CONFIG_FILES="$CONFIG_FILES config.dump" ;;
    "config.pc") CONFIG_FILES="$CONFIG_FILES config.pc" ;;
    "config.sh") CONFIG_FILES="$CONFIG_FILES config.sh" ;;
    "bindings/config.sh") CONFIG_FILES="$CONFIG_FILES bindings/config.sh" ;;
    "config/wrappers/wrap-fc") CONFIG_FILES="$CONFIG_FILES config/wrappers/wrap-fc" ;;
    "fallbacks/config.mk") CONFIG_FILES="$CONFIG_FILES fallbacks/config.mk" ;;
    "abichecks/Makefile") CONFIG_FILES="$CONFIG_FILES abichecks/Makefile" ;;
    "abichecks/abichecks.env") CONFIG_FILES="$CONFIG_FILES abichecks/abichecks.env" ;;
    "src/incs/Makefile") CONFIG_FILES="$CONFIG_FILES src/incs/Makefile" ;;
    "src/mods/Makefile") CONFIG_FILES="$CONFIG_FILES src/mods/Makefile" ;;
    "src/10_dumpinfo/m_build_info.F90") CONFIG_FILES="$CONFIG_FILES src/10_dumpinfo/m_build_info.F90" ;;
    "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
    "src/Makefile") CONFIG_FILES="$CONFIG_FILES src/Makefile" ;;
    "src/01_gsl_ext/Makefile") CONFIG_FILES="$CONFIG_FILES src/01_gsl_ext/Makefile" ;;
    "src/02_clib/Makefile") CONFIG_FILES="$CONFIG_FILES src/02_clib/Makefile" ;;
    "src/10_defs/Makefile") CONFIG_FILES="$CONFIG_FILES src/10_defs/Makefile" ;;
    "src/10_dumpinfo/Makefile") CONFIG_FILES="$CONFIG_FILES src/10_dumpinfo/Makefile" ;;
    "src/11_memory_mpi/Makefile") CONFIG_FILES="$CONFIG_FILES src/11_memory_mpi/Makefile" ;;
    "src/12_hide_mpi/Makefile") CONFIG_FILES="$CONFIG_FILES src/12_hide_mpi/Makefile" ;;
    "src/14_hidewrite/Makefile") CONFIG_FILES="$CONFIG_FILES src/14_hidewrite/Makefile" ;;
    "src/15_gpu_toolbox/Makefile") CONFIG_FILES="$CONFIG_FILES src/15_gpu_toolbox/Makefile" ;;
    "src/16_hideleave/Makefile") CONFIG_FILES="$CONFIG_FILES src/16_hideleave/Makefile" ;;
    "src/17_libtetra_ext/Makefile") CONFIG_FILES="$CONFIG_FILES src/17_libtetra_ext/Makefile" ;;
    "src/18_timing/Makefile") CONFIG_FILES="$CONFIG_FILES src/18_timing/Makefile" ;;
    "src/21_hashfuncs/Makefile") CONFIG_FILES="$CONFIG_FILES src/21_hashfuncs/Makefile" ;;
    "src/27_toolbox_oop/Makefile") CONFIG_FILES="$CONFIG_FILES src/27_toolbox_oop/Makefile" ;;
    "src/28_numeric_noabirule/Makefile") CONFIG_FILES="$CONFIG_FILES src/28_numeric_noabirule/Makefile" ;;
    "src/29_kpoints/Makefile") CONFIG_FILES="$CONFIG_FILES src/29_kpoints/Makefile" ;;
    "src/32_util/Makefile") CONFIG_FILES="$CONFIG_FILES src/32_util/Makefile" ;;
    "src/41_geometry/Makefile") CONFIG_FILES="$CONFIG_FILES src/41_geometry/Makefile" ;;
    "src/41_xc_lowlevel/Makefile") CONFIG_FILES="$CONFIG_FILES src/41_xc_lowlevel/Makefile" ;;
    "src/42_libpaw/Makefile") CONFIG_FILES="$CONFIG_FILES src/42_libpaw/Makefile" ;;
    "src/42_nlstrain/Makefile") CONFIG_FILES="$CONFIG_FILES src/42_nlstrain/Makefile" ;;
    "src/42_parser/Makefile") CONFIG_FILES="$CONFIG_FILES src/42_parser/Makefile" ;;
    "src/43_ptgroups/Makefile") CONFIG_FILES="$CONFIG_FILES src/43_ptgroups/Makefile" ;;
    "src/43_wvl_wrappers/Makefile") CONFIG_FILES="$CONFIG_FILES src/43_wvl_wrappers/Makefile" ;;
    "src/44_abitools/Makefile") CONFIG_FILES="$CONFIG_FILES src/44_abitools/Makefile" ;;
    "src/44_abitypes_defs/Makefile") CONFIG_FILES="$CONFIG_FILES src/44_abitypes_defs/Makefile" ;;
    "src/45_geomoptim/Makefile") CONFIG_FILES="$CONFIG_FILES src/45_geomoptim/Makefile" ;;
    "src/45_xgTools/Makefile") CONFIG_FILES="$CONFIG_FILES src/45_xgTools/Makefile" ;;
    "src/46_diago/Makefile") CONFIG_FILES="$CONFIG_FILES src/46_diago/Makefile" ;;
    "src/49_gw_toolbox_oop/Makefile") CONFIG_FILES="$CONFIG_FILES src/49_gw_toolbox_oop/Makefile" ;;
    "src/51_manage_mpi/Makefile") CONFIG_FILES="$CONFIG_FILES src/51_manage_mpi/Makefile" ;;
    "src/52_fft_mpi_noabirule/Makefile") CONFIG_FILES="$CONFIG_FILES src/52_fft_mpi_noabirule/Makefile" ;;
    "src/52_manage_cuda/Makefile") CONFIG_FILES="$CONFIG_FILES src/52_manage_cuda/Makefile" ;;
    "src/53_ffts/Makefile") CONFIG_FILES="$CONFIG_FILES src/53_ffts/Makefile" ;;
    "src/54_spacepar/Makefile") CONFIG_FILES="$CONFIG_FILES src/54_spacepar/Makefile" ;;
    "src/55_abiutil/Makefile") CONFIG_FILES="$CONFIG_FILES src/55_abiutil/Makefile" ;;
    "src/56_io_mpi/Makefile") CONFIG_FILES="$CONFIG_FILES src/56_io_mpi/Makefile" ;;
    "src/56_mixing/Makefile") CONFIG_FILES="$CONFIG_FILES src/56_mixing/Makefile" ;;
    "src/56_recipspace/Makefile") CONFIG_FILES="$CONFIG_FILES src/56_recipspace/Makefile" ;;
    "src/56_xc/Makefile") CONFIG_FILES="$CONFIG_FILES src/56_xc/Makefile" ;;
    "src/57_iopsp_parser/Makefile") CONFIG_FILES="$CONFIG_FILES src/57_iopsp_parser/Makefile" ;;
    "src/57_iovars/Makefile") CONFIG_FILES="$CONFIG_FILES src/57_iovars/Makefile" ;;
    "src/59_ionetcdf/Makefile") CONFIG_FILES="$CONFIG_FILES src/59_ionetcdf/Makefile" ;;
    "src/61_occeig/Makefile") CONFIG_FILES="$CONFIG_FILES src/61_occeig/Makefile" ;;
    "src/62_cg_noabirule/Makefile") CONFIG_FILES="$CONFIG_FILES src/62_cg_noabirule/Makefile" ;;
    "src/62_ctqmc/Makefile") CONFIG_FILES="$CONFIG_FILES src/62_ctqmc/Makefile" ;;
    "src/62_iowfdenpot/Makefile") CONFIG_FILES="$CONFIG_FILES src/62_iowfdenpot/Makefile" ;;
    "src/62_poisson/Makefile") CONFIG_FILES="$CONFIG_FILES src/62_poisson/Makefile" ;;
    "src/62_wvl_wfs/Makefile") CONFIG_FILES="$CONFIG_FILES src/62_wvl_wfs/Makefile" ;;
    "src/63_bader/Makefile") CONFIG_FILES="$CONFIG_FILES src/63_bader/Makefile" ;;
    "src/64_psp/Makefile") CONFIG_FILES="$CONFIG_FILES src/64_psp/Makefile" ;;
    "src/65_lotf_base/Makefile") CONFIG_FILES="$CONFIG_FILES src/65_lotf_base/Makefile" ;;
    "src/65_paw/Makefile") CONFIG_FILES="$CONFIG_FILES src/65_paw/Makefile" ;;
    "src/66_nonlocal/Makefile") CONFIG_FILES="$CONFIG_FILES src/66_nonlocal/Makefile" ;;
    "src/66_vdwxc/Makefile") CONFIG_FILES="$CONFIG_FILES src/66_vdwxc/Makefile" ;;
    "src/66_wfs/Makefile") CONFIG_FILES="$CONFIG_FILES src/66_wfs/Makefile" ;;
    "src/67_common/Makefile") CONFIG_FILES="$CONFIG_FILES src/67_common/Makefile" ;;
    "src/67_triqs_ext/Makefile") CONFIG_FILES="$CONFIG_FILES src/67_triqs_ext/Makefile" ;;
    "src/68_dmft/Makefile") CONFIG_FILES="$CONFIG_FILES src/68_dmft/Makefile" ;;
    "src/68_lotf/Makefile") CONFIG_FILES="$CONFIG_FILES src/68_lotf/Makefile" ;;
    "src/68_recursion/Makefile") CONFIG_FILES="$CONFIG_FILES src/68_recursion/Makefile" ;;
    "src/68_rsprc/Makefile") CONFIG_FILES="$CONFIG_FILES src/68_rsprc/Makefile" ;;
    "src/69_wfdesc/Makefile") CONFIG_FILES="$CONFIG_FILES src/69_wfdesc/Makefile" ;;
    "src/70_gw/Makefile") CONFIG_FILES="$CONFIG_FILES src/70_gw/Makefile" ;;
    "src/71_bse/Makefile") CONFIG_FILES="$CONFIG_FILES src/71_bse/Makefile" ;;
    "src/71_wannier/Makefile") CONFIG_FILES="$CONFIG_FILES src/71_wannier/Makefile" ;;
    "src/72_response/Makefile") CONFIG_FILES="$CONFIG_FILES src/72_response/Makefile" ;;
    "src/77_ddb/Makefile") CONFIG_FILES="$CONFIG_FILES src/77_ddb/Makefile" ;;
    "src/77_suscep/Makefile") CONFIG_FILES="$CONFIG_FILES src/77_suscep/Makefile" ;;
    "src/78_effpot/Makefile") CONFIG_FILES="$CONFIG_FILES src/78_effpot/Makefile" ;;
    "src/78_eph/Makefile") CONFIG_FILES="$CONFIG_FILES src/78_eph/Makefile" ;;
    "src/79_seqpar_mpi/Makefile") CONFIG_FILES="$CONFIG_FILES src/79_seqpar_mpi/Makefile" ;;
    "src/80_tdep/Makefile") CONFIG_FILES="$CONFIG_FILES src/80_tdep/Makefile" ;;
    "src/83_cut3d/Makefile") CONFIG_FILES="$CONFIG_FILES src/83_cut3d/Makefile" ;;
    "src/84_fold2Bloch/Makefile") CONFIG_FILES="$CONFIG_FILES src/84_fold2Bloch/Makefile" ;;
    "src/94_scfcv/Makefile") CONFIG_FILES="$CONFIG_FILES src/94_scfcv/Makefile" ;;
    "src/95_drive/Makefile") CONFIG_FILES="$CONFIG_FILES src/95_drive/Makefile" ;;
    "src/98_main/Makefile") CONFIG_FILES="$CONFIG_FILES src/98_main/Makefile" ;;
    "src/libs/Makefile") CONFIG_FILES="$CONFIG_FILES src/libs/Makefile" ;;
    "dump-optim") CONFIG_COMMANDS="$CONFIG_COMMANDS dump-optim" ;;
    "script-perms") CONFIG_COMMANDS="$CONFIG_COMMANDS script-perms" ;;
    "long-lines") CONFIG_COMMANDS="$CONFIG_COMMANDS long-lines" ;;

  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
  esac
done


# If the user did not use the arguments to specify the items to instantiate,
# then the envvar interface is used.  Set only those that are not.
# We use the long form for the default assignment because of an extremely
# bizarre bug on SunOS 4.1.3.
if $ac_need_defaults; then
  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
  test "${CONFIG_HEADERS+set}" = set || CONFIG_HEADERS=$config_headers
  test "${CONFIG_COMMANDS+set}" = set || CONFIG_COMMANDS=$config_commands
fi

# Have a temporary directory for convenience.  Make it in the build tree
# simply because there is no reason against having it here, and in addition,
# creating and moving files from /tmp can sometimes cause problems.
# Hook for its removal unless debugging.
# Note that there is a small window in which the directory will not be cleaned:
# after its creation but before its name has been assigned to `$tmp'.
$debug ||
{
  tmp= ac_tmp=
  trap 'exit_status=$?
  : "${ac_tmp:=$tmp}"
  { test ! -d "$ac_tmp" || rm -fr "$ac_tmp"; } && exit $exit_status
' 0
  trap 'as_fn_exit 1' 1 2 13 15
}
# Create a (secure) tmp directory for tmp files.

{
  tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
  test -d "$tmp"
}  ||
{
  tmp=./conf$$-$RANDOM
  (umask 077 && mkdir "$tmp")
} || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
ac_tmp=$tmp

# Set up the scripts for CONFIG_FILES section.
# No need to generate them if there are no CONFIG_FILES.
# This happens for instance with `./config.status config.h'.
if test -n "$CONFIG_FILES"; then


ac_cr=`echo X | tr X '\015'`
# On cygwin, bash can eat \r inside `` if the user requested igncr.
# But we know of no other shell where ac_cr would be empty at this
# point, so we can use a bashism as a fallback.
if test "x$ac_cr" = x; then
  eval ac_cr=\$\'\\r\'
fi
ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
  ac_cs_awk_cr='\\r'
else
  ac_cs_awk_cr=$ac_cr
fi

echo 'BEGIN {' >"$ac_tmp/subs1.awk" &&
_ACEOF


{
  echo "cat >conf$$subs.awk <<_ACEOF" &&
  echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
  echo "_ACEOF"
} >conf$$subs.sh ||
  as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
ac_delim_num=`echo "$ac_subst_vars" | grep -c '^'`
ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  . ./conf$$subs.sh ||
    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5

  ac_delim_n=`sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X`
  if test $ac_delim_n = $ac_delim_num; then
    break
  elif $ac_last_try; then
    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done
rm -f conf$$subs.sh

cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
cat >>"\$ac_tmp/subs1.awk" <<\\_ACAWK &&
_ACEOF
sed -n '
h
s/^/S["/; s/!.*/"]=/
p
g
s/^[^!]*!//
:repl
t repl
s/'"$ac_delim"'$//
t delim
:nl
h
s/\(.\{148\}\)..*/\1/
t more1
s/["\\]/\\&/g; s/^/"/; s/$/\\n"\\/
p
n
b repl
:more1
s/["\\]/\\&/g; s/^/"/; s/$/"\\/
p
g
s/.\{148\}//
t nl
:delim
h
s/\(.\{148\}\)..*/\1/
t more2
s/["\\]/\\&/g; s/^/"/; s/$/"/
p
b
:more2
s/["\\]/\\&/g; s/^/"/; s/$/"\\/
p
g
s/.\{148\}//
t delim
' <conf$$subs.awk | sed '
/^[^""]/{
  N
  s/\n//
}
' >>$CONFIG_STATUS || ac_write_fail=1
rm -f conf$$subs.awk
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
_ACAWK
cat >>"\$ac_tmp/subs1.awk" <<_ACAWK &&
  for (key in S) S_is_set[key] = 1
  FS = ""

}
{
  line = $ 0
  nfields = split(line, field, "@")
  substed = 0
  len = length(field[1])
  for (i = 2; i < nfields; i++) {
    key = field[i]
    keylen = length(key)
    if (S_is_set[key]) {
      value = S[key]
      line = substr(line, 1, len) "" value "" substr(line, len + keylen + 3)
      len += length(value) + length(field[++i])
      substed = 1
    } else
      len += 1 + keylen
  }

  print line
}

_ACAWK
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
if sed "s/$ac_cr//" < /dev/null > /dev/null 2>&1; then
  sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
else
  cat
fi < "$ac_tmp/subs1.awk" > "$ac_tmp/subs.awk" \
  || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
_ACEOF

# VPATH may cause trouble with some makes, so we remove sole $(srcdir),
# ${srcdir} and @srcdir@ entries from VPATH if srcdir is ".", strip leading and
# trailing colons and then remove the whole line if VPATH becomes empty
# (actually we leave an empty line to preserve line numbers).
if test "x$srcdir" = x.; then
  ac_vpsub='/^[	 ]*VPATH[	 ]*=[	 ]*/{
h
s///
s/^/:/
s/[	 ]*$/:/
s/:\$(srcdir):/:/g
s/:\${srcdir}:/:/g
s/:@srcdir@:/:/g
s/^:*//
s/:*$//
x
s/\(=[	 ]*\).*/\1/
G
s/\n//
s/^[^=]*=[	 ]*$//
}'
fi

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
fi # test -n "$CONFIG_FILES"

# Set up the scripts for CONFIG_HEADERS section.
# No need to generate them if there are no CONFIG_HEADERS.
# This happens for instance with `./config.status Makefile'.
if test -n "$CONFIG_HEADERS"; then
cat >"$ac_tmp/defines.awk" <<\_ACAWK ||
BEGIN {
_ACEOF

# Transform confdefs.h into an awk script `defines.awk', embedded as
# here-document in config.status, that substitutes the proper values into
# config.h.in to produce config.h.

# Create a delimiter string that does not exist in confdefs.h, to ease
# handling of long lines.
ac_delim='%!_!# '
for ac_last_try in false false :; do
  ac_tt=`sed -n "/$ac_delim/p" confdefs.h`
  if test -z "$ac_tt"; then
    break
  elif $ac_last_try; then
    as_fn_error $? "could not make $CONFIG_HEADERS" "$LINENO" 5
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
  fi
done

# For the awk script, D is an array of macro values keyed by name,
# likewise P contains macro parameters if any.  Preserve backslash
# newline sequences.

ac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*
sed -n '
s/.\{148\}/&'"$ac_delim"'/g
t rset
:rset
s/^[	 ]*#[	 ]*define[	 ][	 ]*/ /
t def
d
:def
s/\\$//
t bsnl
s/["\\]/\\&/g
s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
D["\1"]=" \3"/p
s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2"/p
d
:bsnl
s/["\\]/\\&/g
s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
D["\1"]=" \3\\\\\\n"\\/p
t cont
s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2\\\\\\n"\\/p
t cont
d
:cont
n
s/.\{148\}/&'"$ac_delim"'/g
t clear
:clear
s/\\$//
t bsnlc
s/["\\]/\\&/g; s/^/"/; s/$/"/p
d
:bsnlc
s/["\\]/\\&/g; s/^/"/; s/$/\\\\\\n"\\/p
b cont
' <confdefs.h | sed '
s/'"$ac_delim"'/"\\\
"/g' >>$CONFIG_STATUS || ac_write_fail=1

cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  for (key in D) D_is_set[key] = 1
  FS = ""
}
/^[\t ]*#[\t ]*(define|undef)[\t ]+$ac_word_re([\t (]|\$)/ {
  line = \$ 0
  split(line, arg, " ")
  if (arg[1] == "#") {
    defundef = arg[2]
    mac1 = arg[3]
  } else {
    defundef = substr(arg[1], 2)
    mac1 = arg[2]
  }
  split(mac1, mac2, "(") #)
  macro = mac2[1]
  prefix = substr(line, 1, index(line, defundef) - 1)
  if (D_is_set[macro]) {
    # Preserve the white space surrounding the "#".
    print prefix "define", macro P[macro] D[macro]
    next
  } else {
    # Replace #undef with comments.  This is necessary, for example,
    # in the case of _POSIX_SOURCE, which is predefined and required
    # on some systems where configure will not decide to define it.
    if (defundef == "undef") {
      print "/*", prefix defundef, macro, "*/"
      next
    }
  }
}
{ print }
_ACAWK
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
  as_fn_error $? "could not setup config headers machinery" "$LINENO" 5
fi # test -n "$CONFIG_HEADERS"


eval set X "  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS"
shift
for ac_tag
do
  case $ac_tag in
  :[FHLC]) ac_mode=$ac_tag; continue;;
  esac
  case $ac_mode$ac_tag in
  :[FHL]*:*);;
  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
  :[FH]-) ac_tag=-:-;;
  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
  esac
  ac_save_IFS=$IFS
  IFS=:
  set x $ac_tag
  IFS=$ac_save_IFS
  shift
  ac_file=$1
  shift

  case $ac_mode in
  :L) ac_source=$1;;
  :[FH])
    ac_file_inputs=
    for ac_f
    do
      case $ac_f in
      -) ac_f="$ac_tmp/stdin";;
      *) # Look for the file first in the build tree, then in the source tree
	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
	 # because $ac_f cannot contain `:'.
	 test -f "$ac_f" ||
	   case $ac_f in
	   [\\/$]*) false;;
	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
	   esac ||
	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
      esac
      case $ac_f in *\'*) ac_f=`$as_echo "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
      as_fn_append ac_file_inputs " '$ac_f'"
    done

    # Let's still pretend it is `configure' which instantiates (i.e., don't
    # use $as_me), people would be surprised to read:
    #    /* config.h.  Generated by config.status.  */
    configure_input='Generated from '`
	  $as_echo "$*" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'
	`' by configure.'
    if test x"$ac_file" != x-; then
      configure_input="$ac_file.  $configure_input"
      { $as_echo "$as_me:${as_lineno-$LINENO}: creating $ac_file" >&5
$as_echo "$as_me: creating $ac_file" >&6;}
    fi
    # Neutralize special characters interpreted by sed in replacement strings.
    case $configure_input in #(
    *\&* | *\|* | *\\* )
       ac_sed_conf_input=`$as_echo "$configure_input" |
       sed 's/[\\\\&|]/\\\\&/g'`;; #(
    *) ac_sed_conf_input=$configure_input;;
    esac

    case $ac_tag in
    *:-:* | *:-) cat >"$ac_tmp/stdin" \
      || as_fn_error $? "could not create $ac_file" "$LINENO" 5 ;;
    esac
    ;;
  esac

  ac_dir=`$as_dirname -- "$ac_file" ||
$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$ac_file" : 'X\(//\)[^/]' \| \
	 X"$ac_file" : 'X\(//\)$' \| \
	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  as_dir="$ac_dir"; as_fn_mkdir_p
  ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`$as_echo "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix


  case $ac_mode in
  :F)
  #
  # CONFIG_FILE
  #

  case $INSTALL in
  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
  esac
  ac_MKDIR_P=$MKDIR_P
  case $MKDIR_P in
  [\\/$]* | ?:[\\/]* ) ;;
  */*) ac_MKDIR_P=$ac_top_build_prefix$MKDIR_P ;;
  esac
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# If the template does not know about datarootdir, expand it.
# FIXME: This hack should be removed a few years after 2.60.
ac_datarootdir_hack=; ac_datarootdir_seen=
ac_sed_dataroot='
/datarootdir/ {
  p
  q
}
/@datadir@/p
/@docdir@/p
/@infodir@/p
/@localedir@/p
/@mandir@/p'
case `eval "sed -n \"\$ac_sed_dataroot\" $ac_file_inputs"` in
*datarootdir*) ac_datarootdir_seen=yes;;
*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
$as_echo "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  ac_datarootdir_hack='
  s&@datadir@&$datadir&g
  s&@docdir@&$docdir&g
  s&@infodir@&$infodir&g
  s&@localedir@&$localedir&g
  s&@mandir@&$mandir&g
  s&\\\${datarootdir}&$datarootdir&g' ;;
esac
_ACEOF

# Neutralize VPATH when `$srcdir' = `.'.
# Shell code in configure.ac might set extrasub.
# FIXME: do we really want to maintain this feature?
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
ac_sed_extra="$ac_vpsub
$extrasub
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
:t
/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
s|@configure_input@|$ac_sed_conf_input|;t t
s&@top_builddir@&$ac_top_builddir_sub&;t t
s&@top_build_prefix@&$ac_top_build_prefix&;t t
s&@srcdir@&$ac_srcdir&;t t
s&@abs_srcdir@&$ac_abs_srcdir&;t t
s&@top_srcdir@&$ac_top_srcdir&;t t
s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
s&@builddir@&$ac_builddir&;t t
s&@abs_builddir@&$ac_abs_builddir&;t t
s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
s&@INSTALL@&$ac_INSTALL&;t t
s&@MKDIR_P@&$ac_MKDIR_P&;t t
$ac_datarootdir_hack
"
eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$ac_tmp/subs.awk" \
  >$ac_tmp/out || as_fn_error $? "could not create $ac_file" "$LINENO" 5

test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
  { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
      "$ac_tmp/out"`; test -z "$ac_out"; } &&
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined" >&5
$as_echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined" >&2;}

  rm -f "$ac_tmp/stdin"
  case $ac_file in
  -) cat "$ac_tmp/out" && rm -f "$ac_tmp/out";;
  *) rm -f "$ac_file" && mv "$ac_tmp/out" "$ac_file";;
  esac \
  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
 ;;
  :H)
  #
  # CONFIG_HEADER
  #
  if test x"$ac_file" != x-; then
    {
      $as_echo "/* $configure_input  */" \
      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs"
    } >"$ac_tmp/config.h" \
      || as_fn_error $? "could not create $ac_file" "$LINENO" 5
    if diff "$ac_file" "$ac_tmp/config.h" >/dev/null 2>&1; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: $ac_file is unchanged" >&5
$as_echo "$as_me: $ac_file is unchanged" >&6;}
    else
      rm -f "$ac_file"
      mv "$ac_tmp/config.h" "$ac_file" \
	|| as_fn_error $? "could not create $ac_file" "$LINENO" 5
    fi
  else
    $as_echo "/* $configure_input  */" \
      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs" \
      || as_fn_error $? "could not create -" "$LINENO" 5
  fi
# Compute "$ac_file"'s index in $config_headers.
_am_arg="$ac_file"
_am_stamp_count=1
for _am_header in $config_headers :; do
  case $_am_header in
    $_am_arg | $_am_arg:* )
      break ;;
    * )
      _am_stamp_count=`expr $_am_stamp_count + 1` ;;
  esac
done
echo "timestamp for $_am_arg" >`$as_dirname -- "$_am_arg" ||
$as_expr X"$_am_arg" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$_am_arg" : 'X\(//\)[^/]' \| \
	 X"$_am_arg" : 'X\(//\)$' \| \
	 X"$_am_arg" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$_am_arg" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`/stamp-h$_am_stamp_count
 ;;
  
  :C)  { $as_echo "$as_me:${as_lineno-$LINENO}: executing $ac_file commands" >&5
$as_echo "$as_me: executing $ac_file commands" >&6;}
 ;;
  esac


  case $ac_file$ac_mode in
    "depfiles":C) test x"$AMDEP_TRUE" != x"" || {
  # Older Autoconf quotes --file arguments for eval, but not when files
  # are listed without --file.  Let's play safe and only enable the eval
  # if we detect the quoting.
  case $CONFIG_FILES in
  *\'*) eval set x "$CONFIG_FILES" ;;
  *)   set x $CONFIG_FILES ;;
  esac
  shift
  for mf
  do
    # Strip MF so we end up with the name of the file.
    mf=`echo "$mf" | sed -e 's/:.*$//'`
    # Check whether this is an Automake generated Makefile or not.
    # We used to match only the files named 'Makefile.in', but
    # some people rename them; so instead we look at the file content.
    # Grep'ing the first line is not enough: some people post-process
    # each Makefile.in and add a new line on top of each file to say so.
    # Grep'ing the whole file is not good either: AIX grep has a line
    # limit of 2048, but all sed's we know have understand at least 4000.
    if sed -n 's,^#.*generated by automake.*,X,p' "$mf" | grep X >/dev/null 2>&1; then
      dirpart=`$as_dirname -- "$mf" ||
$as_expr X"$mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$mf" : 'X\(//\)[^/]' \| \
	 X"$mf" : 'X\(//\)$' \| \
	 X"$mf" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$mf" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
    else
      continue
    fi
    # Extract the definition of DEPDIR, am__include, and am__quote
    # from the Makefile without running 'make'.
    DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
    test -z "$DEPDIR" && continue
    am__include=`sed -n 's/^am__include = //p' < "$mf"`
    test -z "$am__include" && continue
    am__quote=`sed -n 's/^am__quote = //p' < "$mf"`
    # Find all dependency output files, they are included files with
    # $(DEPDIR) in their names.  We invoke sed twice because it is the
    # simplest approach to changing $(DEPDIR) to its actual value in the
    # expansion.
    for file in `sed -n "
      s/^$am__include $am__quote\(.*(DEPDIR).*\)$am__quote"'$/\1/p' <"$mf" | \
	 sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g'`; do
      # Make sure the directory exists.
      test -f "$dirpart/$file" && continue
      fdir=`$as_dirname -- "$file" ||
$as_expr X"$file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$file" : 'X\(//\)[^/]' \| \
	 X"$file" : 'X\(//\)$' \| \
	 X"$file" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      as_dir=$dirpart/$fdir; as_fn_mkdir_p
      # echo "creating $dirpart/$file"
      echo '# dummy' > "$dirpart/$file"
    done
  done
}
 ;;
    "dump-optim":C) /bin/sh ${abinit_srcdir}/config/scripts/make-optim-dumper ;;
    "script-perms":C) chmod u+x config/wrappers/wrap-fc ;;
    "long-lines":C) /bin/sh ${abinit_srcdir}/config/scripts/shrink-src-files ${abinit_srcdir} ${abinit_builddir} ;;

  esac
done # for ac_tag


as_fn_exit 0
_ACEOF
ac_clean_files=$ac_clean_files_save

test $ac_write_fail = 0 ||
  as_fn_error $? "write failure creating $CONFIG_STATUS" "$LINENO" 5


# configure is writing to config.log, and then calls config.status.
# config.status does its own redirection, appending to config.log.
# Unfortunately, on DOS this fails, as config.log is still kept open
# by configure, so config.status won't be able to write to it; its
# output is simply discarded.  So we exec the FD to /dev/null,
# effectively closing config.log, so it can be properly (re)opened and
# appended to by config.status.  When coming back to configure, we
# need to make the FD available again.
if test "$no_create" != yes; then
  ac_cs_success=:
  ac_config_status_args=
  test "$silent" = yes &&
    ac_config_status_args="$ac_config_status_args --quiet"
  exec 5>/dev/null
  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
  exec 5>>config.log
  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
  # would make configure fail if this is the last instruction.
  $ac_cs_success || as_fn_exit 1
fi

#
# CONFIG_SUBDIRS section.
#
if test "$no_recursion" != yes; then

  # Remove --cache-file, --srcdir, and --disable-option-checking arguments
  # so they do not pile up.
  ac_sub_configure_args=
  ac_prev=
  eval "set x $ac_configure_args"
  shift
  for ac_arg
  do
    if test -n "$ac_prev"; then
      ac_prev=
      continue
    fi
    case $ac_arg in
    -cache-file | --cache-file | --cache-fil | --cache-fi \
    | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
      ac_prev=cache_file ;;
    -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
    | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* \
    | --c=*)
      ;;
    --config-cache | -C)
      ;;
    -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
      ac_prev=srcdir ;;
    -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
      ;;
    -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
      ac_prev=prefix ;;
    -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
      ;;
    --disable-option-checking)
      ;;
    *)
      case $ac_arg in
      *\'*) ac_arg=`$as_echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
      esac
      as_fn_append ac_sub_configure_args " '$ac_arg'" ;;
    esac
  done

  # Always prepend --prefix to ensure using the same prefix
  # in subdir configurations.
  ac_arg="--prefix=$prefix"
  case $ac_arg in
  *\'*) ac_arg=`$as_echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
  esac
  ac_sub_configure_args="'$ac_arg' $ac_sub_configure_args"

  # Pass --silent
  if test "$silent" = yes; then
    ac_sub_configure_args="--silent $ac_sub_configure_args"
  fi

  # Always prepend --disable-option-checking to silence warnings, since
  # different subdirs can have different --enable and --with options.
  ac_sub_configure_args="--disable-option-checking $ac_sub_configure_args"

  ac_popdir=`pwd`
  for ac_dir in : $subdirs; do test "x$ac_dir" = x: && continue

    # Do not complain, so a configure script can configure whichever
    # parts of a large source tree are present.
    test -d "$srcdir/$ac_dir" || continue

    ac_msg="=== configuring in $ac_dir (`pwd`/$ac_dir)"
    $as_echo "$as_me:${as_lineno-$LINENO}: $ac_msg" >&5
    $as_echo "$ac_msg" >&6
    as_dir="$ac_dir"; as_fn_mkdir_p
    ac_builddir=.

case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`$as_echo "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix


    cd "$ac_dir"

    # Check for guested configure; otherwise get Cygnus style configure.
    if test -f "$ac_srcdir/configure.gnu"; then
      ac_sub_configure=$ac_srcdir/configure.gnu
    elif test -f "$ac_srcdir/configure"; then
      ac_sub_configure=$ac_srcdir/configure
    elif test -f "$ac_srcdir/configure.in"; then
      # This should be Cygnus configure.
      ac_sub_configure=$ac_aux_dir/configure
    else
      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: no configuration information is in $ac_dir" >&5
$as_echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2;}
      ac_sub_configure=
    fi

    # The recursion is here.
    if test -n "$ac_sub_configure"; then
      # Make the cache file name correct relative to the subdirectory.
      case $cache_file in
      [\\/]* | ?:[\\/]* ) ac_sub_cache_file=$cache_file ;;
      *) # Relative name.
	ac_sub_cache_file=$ac_top_build_prefix$cache_file ;;
      esac

      { $as_echo "$as_me:${as_lineno-$LINENO}: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&5
$as_echo "$as_me: running $SHELL $ac_sub_configure $ac_sub_configure_args --cache-file=$ac_sub_cache_file --srcdir=$ac_srcdir" >&6;}
      # The eval makes quoting arguments work.
      eval "\$SHELL \"\$ac_sub_configure\" $ac_sub_configure_args \
	   --cache-file=\"\$ac_sub_cache_file\" --srcdir=\"\$ac_srcdir\"" ||
	as_fn_error $? "$ac_sub_configure failed for $ac_dir" "$LINENO" 5
    fi

    cd "$ac_popdir"
  done
fi
if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts" >&5
$as_echo "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2;}
fi



# FIXME: transient symlink until plugins are fully replaced by fallbacks
#        in the test farm
if test ! -e "./config.mk"; then
  ${LN_S} ./fallbacks/config.mk ./config.mk
fi

# ---------------------------------------------------------------------------- #
# ---------------------------------------------------------------------------- #


    
  abi_sec_title="Final remarks"

    abi_sec_spaces="                                                                      "
  abi_sec_tmp="${abi_sec_title}"
  while test "${abi_sec_tmp}" != ""; do
    abi_sec_spaces=`echo "${abi_sec_spaces}" | sed -e 's/^.//'`
    abi_sec_tmp=`echo "${abi_sec_tmp}" | sed -e 's/^.//'`
  done

  echo ""
  echo " =============================================================================="
  echo " === ${abi_sec_title}${abi_sec_spaces} ==="
  echo " =============================================================================="
  echo ""


# The end
if test "${lib_linalg_flavor}" = "netlib-fallback"; then
  
    
    abi_msg_file="${abinit_srcdir}/config/messages/linalg-abinit.msg"
  abi_msg_title="Suboptimal linear algebra configuration"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

fi
if test "${enable_gpu}" = "yes" -a "${abi_linalg_chk_gpu}" != "magma"; then
  
    
    abi_msg_file="${abinit_srcdir}/config/messages/gpu-without-magma.msg"
  abi_msg_title="Suboptimal GPU configuration"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

fi

    
  case "${abi_fc_vendor}" in

    absoft)
      
    
    abi_msg_file="${abinit_srcdir}/config/messages/fc-absoft.msg"
  abi_msg_title="About the ABSoft Fortran compiler"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

      ;;

    ibm)
      
    
    abi_msg_file="${abinit_srcdir}/config/messages/fc-ibm.msg"
  abi_msg_title="About the IBM XL Fortran compiler"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

      ;;

    intel)
      
    
    abi_msg_file="${abinit_srcdir}/config/messages/fc-intel.msg"
  abi_msg_title="About the Intel Fortran compiler"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

      ;;

  esac

tmp_etsf_io_in_use=`echo "${lib_trio_flavor}" | grep 'etsf_io'`
if test "${tmp_etsf_io_in_use}" != ""; then
  
    
    abi_msg_file="${abinit_srcdir}/config/messages/etsf_io-deprecated.msg"
  abi_msg_title="Upcoming end of ETSF_IO library support"
  test "${abi_msg_title}" = "" && abi_msg_title="IMPORTANT NOTE"

    abi_msg_spacer="                                                            "
  abi_msg_tmp1=`echo "${abi_msg_title}" | sed -e 's/./ /g'`
  abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
  abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
  test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
  abi_msg_title="${abi_msg_title}${abi_msg_spacer}"

  if test -s "${abi_msg_file}"; then

    echo ""
  echo "        +--------------------------------------------------------------+"
  echo "        | ${abi_msg_title} |"
  echo "        +--------------------------------------------------------------+"

    while read abi_msg_line; do
    abi_msg_line=`eval echo ${abi_msg_line}`
    abi_msg_spacer="                                                            "
    abi_msg_tmp1=`echo "${abi_msg_line}" | sed -e 's/./ /g'`
    abi_msg_tmp2=`echo "${abi_msg_tmp1}" | grep "${abi_msg_spacer}"`
    test "${abi_msg_tmp1}" = "" || \
      abi_msg_spacer=`echo "${abi_msg_spacer}" | sed -e "s/${abi_msg_tmp1}//"`
    test "${abi_msg_tmp2}" = "" || abi_msg_spacer=""
    echo "        | ${abi_msg_line}${abi_msg_spacer} |"
  done <"${abi_msg_file}"

    echo "        +--------------------------------------------------------------+"
  echo ""

  else
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: message file ${abi_msg_file} not found" >&5
$as_echo "$as_me: WARNING: message file ${abi_msg_file} not found" >&2;}
  fi

fi

# Set OpenMP status reports
#
if test "${enable_openmp}" = "yes"; then
  tmp_omp_collapse="${abi_omp_has_collapse}"
else
  tmp_omp_collapse="ignored"
fi

# Set library-related status reports
#
# Timer
if test "${with_timer_libs}" = ""; then
  tmp_rep_timer_libs="auto-detected"
else
  tmp_rep_timer_libs="user-defined"
fi
test "${lib_timer_flavor}" = "none" -o "${lib_timer_flavor}" = "abinit" && \
  tmp_rep_timer_libs="ignored"

# Linalg
if test "${with_linalg_libs}" = ""; then
  tmp_rep_linalg_libs="auto-detected"
else
  tmp_rep_linalg_libs="user-defined"
fi
test "${lib_linalg_flavor}" = "netlib-fallback" && \
  tmp_rep_linalg_libs="internal"
test "${lib_linalg_flavor}" = "none" -o \
     "${lib_linalg_flavor}" = "netlib-fallback" && \
  tmp_rep_linalg_libs="ignored"

# Algo
if test "${with_algo_libs}" = ""; then
  tmp_rep_algo_libs="auto-detected"
else
  tmp_rep_algo_libs="user-defined"
fi
test "${lib_algo_flavor}" = "none" && \
  tmp_rep_algo_libs="ignored"

# FFT
if test "${with_fft_libs}" = ""; then
  tmp_rep_fft_libs="auto-detected"
else
  tmp_rep_fft_libs="user-defined"
fi
test "${lib_fft_flavor}" = "none" -o "${lib_fft_flavor}" = "abinit" && \
  tmp_rep_fft_libs="ignored"

# Math
if test "${with_math_libs}" = ""; then
  tmp_rep_math_libs="auto-detected"
else
  tmp_rep_math_libs="user-defined"
fi
test "${lib_math_flavor}" = "none" -o "${lib_math_flavor}" = "abinit" && \
  tmp_rep_math_libs="ignored"

# Display values of important configure options and ending message
cat <<EOF

Summary of important options:

  * C compiler      : ${abi_cc_vendor} version ${abi_cc_version}
  * Fortran compiler: ${abi_fc_vendor} version ${abi_fc_version}
  * architecture    : ${abi_cpu_vendor} ${abi_cpu_model} (${abi_cpu_bits} bits)

  * debugging       : ${enable_debug}
  * optimizations   : ${enable_optim}

  * OpenMP enabled  : ${enable_openmp} (collapse: ${tmp_omp_collapse})
  * MPI    enabled  : ${enable_mpi}
  * MPI-IO enabled  : ${enable_mpi_io}
  * GPU    enabled  : ${enable_gpu} (flavor: ${lib_gpu_flavor})

  * TRIO   flavor = ${lib_trio_flavor}
  * TIMER  flavor = ${lib_timer_flavor} (libs: ${tmp_rep_timer_libs})
  * LINALG flavor = ${lib_linalg_flavor} (libs: ${tmp_rep_linalg_libs})
  * ALGO   flavor = ${lib_algo_flavor} (libs: ${tmp_rep_algo_libs})
  * FFT    flavor = ${lib_fft_flavor} (libs: ${tmp_rep_fft_libs})
  * MATH   flavor = ${lib_math_flavor} (libs: ${tmp_rep_math_libs})
  * DFT    flavor = ${lib_dft_flavor}

Configuration complete.
You may now type "make" to build ABINIT.
(or, on a SMP machine, "make mj4", or "make multi multi_nprocs=<n>")

EOF

